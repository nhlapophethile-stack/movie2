function Q1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function X1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tw={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au=Symbol.for("react.element"),J1=Symbol.for("react.portal"),Z1=Symbol.for("react.fragment"),eC=Symbol.for("react.strict_mode"),tC=Symbol.for("react.profiler"),nC=Symbol.for("react.provider"),rC=Symbol.for("react.context"),iC=Symbol.for("react.forward_ref"),sC=Symbol.for("react.suspense"),oC=Symbol.for("react.memo"),aC=Symbol.for("react.lazy"),Py=Symbol.iterator;function lC(t){return t===null||typeof t!="object"?null:(t=Py&&t[Py]||t["@@iterator"],typeof t=="function"?t:null)}var Iw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sw=Object.assign,Aw={};function Ia(t,e,n){this.props=t,this.context=e,this.refs=Aw,this.updater=n||Iw}Ia.prototype.isReactComponent={};Ia.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ia.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cw(){}Cw.prototype=Ia.prototype;function Um(t,e,n){this.props=t,this.context=e,this.refs=Aw,this.updater=n||Iw}var jm=Um.prototype=new Cw;jm.constructor=Um;Sw(jm,Ia.prototype);jm.isPureReactComponent=!0;var ky=Array.isArray,Rw=Object.prototype.hasOwnProperty,Bm={current:null},Pw={key:!0,ref:!0,__self:!0,__source:!0};function kw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Rw.call(e,r)&&!Pw.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Au,type:t,key:s,ref:o,props:i,_owner:Bm.current}}function uC(t,e){return{$$typeof:Au,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $m(t){return typeof t=="object"&&t!==null&&t.$$typeof===Au}function cC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var by=/\/+/g;function Af(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cC(""+t.key):e.toString(36)}function Yc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Au:case J1:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Af(o,0):r,ky(i)?(n="",t!=null&&(n=t.replace(by,"$&/")+"/"),Yc(i,e,n,"",function(h){return h})):i!=null&&($m(i)&&(i=uC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(by,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ky(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+Af(s,l);o+=Yc(s,e,n,c,i)}else if(c=lC(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+Af(s,l++),o+=Yc(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cc(t,e,n){if(t==null)return t;var r=[],i=0;return Yc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function hC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},Xc={transition:null},dC={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:Xc,ReactCurrentOwner:Bm};function bw(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Cc,forEach:function(t,e,n){Cc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cc(t,function(){e++}),e},toArray:function(t){return Cc(t,function(e){return e})||[]},only:function(t){if(!$m(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=Ia;Ie.Fragment=Z1;Ie.Profiler=tC;Ie.PureComponent=Um;Ie.StrictMode=eC;Ie.Suspense=sC;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dC;Ie.act=bw;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Sw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Rw.call(e,c)&&!Pw.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Au,type:t.type,key:i,ref:s,props:r,_owner:o}};Ie.createContext=function(t){return t={$$typeof:rC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nC,_context:t},t.Consumer=t};Ie.createElement=kw;Ie.createFactory=function(t){var e=kw.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:iC,render:t}};Ie.isValidElement=$m;Ie.lazy=function(t){return{$$typeof:aC,_payload:{_status:-1,_result:t},_init:hC}};Ie.memo=function(t,e){return{$$typeof:oC,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=Xc.transition;Xc.transition={};try{t()}finally{Xc.transition=e}};Ie.unstable_act=bw;Ie.useCallback=function(t,e){return un.current.useCallback(t,e)};Ie.useContext=function(t){return un.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return un.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return un.current.useEffect(t,e)};Ie.useId=function(){return un.current.useId()};Ie.useImperativeHandle=function(t,e,n){return un.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return un.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return un.current.useReducer(t,e,n)};Ie.useRef=function(t){return un.current.useRef(t)};Ie.useState=function(t){return un.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return un.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return un.current.useTransition()};Ie.version="18.3.1";Tw.exports=Ie;var W=Tw.exports;const x=X1(W),fC=Q1({__proto__:null,default:x},[W]);var Nw={exports:{}},On={},Ow={exports:{}},xw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,le){var he=X.length;X.push(le);e:for(;0<he;){var z=he-1>>>1,we=X[z];if(0<i(we,le))X[z]=le,X[he]=we,he=z;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var le=X[0],he=X.pop();if(he!==le){X[0]=he;e:for(var z=0,we=X.length,Fe=we>>>1;z<Fe;){var wt=2*(z+1)-1,et=X[wt],Jt=wt+1,tt=X[Jt];if(0>i(et,he))Jt<we&&0>i(tt,et)?(X[z]=tt,X[Jt]=he,z=Jt):(X[z]=et,X[wt]=he,z=wt);else if(Jt<we&&0>i(tt,he))X[z]=tt,X[Jt]=he,z=Jt;else break e}}return le}function i(X,le){var he=X.sortIndex-le.sortIndex;return he!==0?he:X.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],f=1,g=null,y=3,P=!1,I=!1,O=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(X){for(var le=n(h);le!==null;){if(le.callback===null)r(h);else if(le.startTime<=X)r(h),le.sortIndex=le.expirationTime,e(c,le);else break;le=n(h)}}function U(X){if(O=!1,A(X),!I)if(n(c)!==null)I=!0,pt(K);else{var le=n(h);le!==null&&Xt(U,le.startTime-X)}}function K(X,le){I=!1,O&&(O=!1,S(w),w=-1),P=!0;var he=y;try{for(A(le),g=n(c);g!==null&&(!(g.expirationTime>le)||X&&!D());){var z=g.callback;if(typeof z=="function"){g.callback=null,y=g.priorityLevel;var we=z(g.expirationTime<=le);le=t.unstable_now(),typeof we=="function"?g.callback=we:g===n(c)&&r(c),A(le)}else r(c);g=n(c)}if(g!==null)var Fe=!0;else{var wt=n(h);wt!==null&&Xt(U,wt.startTime-le),Fe=!1}return Fe}finally{g=null,y=he,P=!1}}var Y=!1,C=null,w=-1,R=5,N=-1;function D(){return!(t.unstable_now()-N<R)}function F(){if(C!==null){var X=t.unstable_now();N=X;var le=!0;try{le=C(!0,X)}finally{le?b():(Y=!1,C=null)}}else Y=!1}var b;if(typeof T=="function")b=function(){T(F)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,wn=Qe.port2;Qe.port1.onmessage=F,b=function(){wn.postMessage(null)}}else b=function(){k(F,0)};function pt(X){C=X,Y||(Y=!0,b())}function Xt(X,le){w=k(function(){X(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){I||P||(I=!0,pt(K))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(X){switch(y){case 1:case 2:case 3:var le=3;break;default:le=y}var he=y;y=le;try{return X()}finally{y=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var he=y;y=X;try{return le()}finally{y=he}},t.unstable_scheduleCallback=function(X,le,he){var z=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?z+he:z):he=z,X){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=he+we,X={id:f++,callback:le,priorityLevel:X,startTime:he,expirationTime:we,sortIndex:-1},he>z?(X.sortIndex=he,e(h,X),n(c)===null&&X===n(h)&&(O?(S(w),w=-1):O=!0,Xt(U,he-z))):(X.sortIndex=we,e(c,X),I||P||(I=!0,pt(K))),X},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(X){var le=y;return function(){var he=y;y=le;try{return X.apply(this,arguments)}finally{y=he}}}})(xw);Ow.exports=xw;var pC=Ow.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC=W,Nn=pC;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dw=new Set,Xl={};function oo(t,e){aa(t,e),aa(t+"Capture",e)}function aa(t,e){for(Xl[t]=e,t=0;t<e.length;t++)Dw.add(e[t])}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fp=Object.prototype.hasOwnProperty,gC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ny={},Oy={};function _C(t){return fp.call(Oy,t)?!0:fp.call(Ny,t)?!1:gC.test(t)?Oy[t]=!0:(Ny[t]=!0,!1)}function yC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vC(t,e,n,r){if(e===null||typeof e>"u"||yC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var zm=/[\-:]([a-z])/g;function Wm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zm,Wm);Ft[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zm,Wm);Ft[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zm,Wm);Ft[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hm(t,e,n,r){var i=Ft.hasOwnProperty(e)?Ft[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vC(e,n,i,r)&&(n=null),r||i===null?_C(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ci=mC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rc=Symbol.for("react.element"),Fo=Symbol.for("react.portal"),Uo=Symbol.for("react.fragment"),qm=Symbol.for("react.strict_mode"),pp=Symbol.for("react.profiler"),Lw=Symbol.for("react.provider"),Vw=Symbol.for("react.context"),Km=Symbol.for("react.forward_ref"),mp=Symbol.for("react.suspense"),gp=Symbol.for("react.suspense_list"),Gm=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),Mw=Symbol.for("react.offscreen"),xy=Symbol.iterator;function _l(t){return t===null||typeof t!="object"?null:(t=xy&&t[xy]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,Cf;function Rl(t){if(Cf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cf=e&&e[1]||""}return`
`+Cf+t}var Rf=!1;function Pf(t,e){if(!t||Rf)return"";Rf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Rf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rl(t):""}function EC(t){switch(t.tag){case 5:return Rl(t.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return t=Pf(t.type,!1),t;case 11:return t=Pf(t.type.render,!1),t;case 1:return t=Pf(t.type,!0),t;default:return""}}function _p(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Uo:return"Fragment";case Fo:return"Portal";case pp:return"Profiler";case qm:return"StrictMode";case mp:return"Suspense";case gp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vw:return(t.displayName||"Context")+".Consumer";case Lw:return(t._context.displayName||"Context")+".Provider";case Km:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gm:return e=t.displayName||null,e!==null?e:_p(t.type)||"Memo";case xi:e=t._payload,t=t._init;try{return _p(t(e))}catch{}}return null}function wC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _p(e);case 8:return e===qm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function is(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TC(t){var e=Fw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pc(t){t._valueTracker||(t._valueTracker=TC(t))}function Uw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Fw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yp(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=is(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jw(t,e){e=e.checked,e!=null&&Hm(t,"checked",e,!1)}function vp(t,e){jw(t,e);var n=is(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ep(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ep(t,e.type,is(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ly(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ep(t,e,n){(e!=="number"||wh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pl=Array.isArray;function Xo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+is(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Pl(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:is(n)}}function Bw(t,e){var n=is(e.value),r=is(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function My(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $w(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$w(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kc,zw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kc=kc||document.createElement("div"),kc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IC=["Webkit","ms","Moz","O"];Object.keys(Ml).forEach(function(t){IC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ml[e]=Ml[t]})});function Ww(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ml.hasOwnProperty(t)&&Ml[t]?(""+e).trim():e+"px"}function Hw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ww(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var SC=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ip(t,e){if(e){if(SC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Sp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ap=null;function Qm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cp=null,Jo=null,Zo=null;function Fy(t){if(t=Pu(t)){if(typeof Cp!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=_d(e),Cp(t.stateNode,t.type,e))}}function qw(t){Jo?Zo?Zo.push(t):Zo=[t]:Jo=t}function Kw(){if(Jo){var t=Jo,e=Zo;if(Zo=Jo=null,Fy(t),e)for(t=0;t<e.length;t++)Fy(e[t])}}function Gw(t,e){return t(e)}function Qw(){}var kf=!1;function Yw(t,e,n){if(kf)return t(e,n);kf=!0;try{return Gw(t,e,n)}finally{kf=!1,(Jo!==null||Zo!==null)&&(Qw(),Kw())}}function Zl(t,e){var n=t.stateNode;if(n===null)return null;var r=_d(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var Rp=!1;if(ti)try{var yl={};Object.defineProperty(yl,"passive",{get:function(){Rp=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{Rp=!1}function AC(t,e,n,r,i,s,o,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var Fl=!1,Th=null,Ih=!1,Pp=null,CC={onError:function(t){Fl=!0,Th=t}};function RC(t,e,n,r,i,s,o,l,c){Fl=!1,Th=null,AC.apply(CC,arguments)}function PC(t,e,n,r,i,s,o,l,c){if(RC.apply(this,arguments),Fl){if(Fl){var h=Th;Fl=!1,Th=null}else throw Error(Q(198));Ih||(Ih=!0,Pp=h)}}function ao(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uy(t){if(ao(t)!==t)throw Error(Q(188))}function kC(t){var e=t.alternate;if(!e){if(e=ao(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Uy(i),t;if(s===r)return Uy(i),e;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function Jw(t){return t=kC(t),t!==null?Zw(t):null}function Zw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Zw(t);if(e!==null)return e;t=t.sibling}return null}var e0=Nn.unstable_scheduleCallback,jy=Nn.unstable_cancelCallback,bC=Nn.unstable_shouldYield,NC=Nn.unstable_requestPaint,lt=Nn.unstable_now,OC=Nn.unstable_getCurrentPriorityLevel,Ym=Nn.unstable_ImmediatePriority,t0=Nn.unstable_UserBlockingPriority,Sh=Nn.unstable_NormalPriority,xC=Nn.unstable_LowPriority,n0=Nn.unstable_IdlePriority,fd=null,Ir=null;function DC(t){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(fd,t,void 0,(t.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:MC,LC=Math.log,VC=Math.LN2;function MC(t){return t>>>=0,t===0?32:31-(LC(t)/VC|0)|0}var bc=64,Nc=4194304;function kl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ah(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=kl(l):(s&=o,s!==0&&(r=kl(s)))}else o=n&~i,o!==0?r=kl(o):s!==0&&(r=kl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nr(e),i=1<<n,r|=t[n],e&=~i;return r}function FC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-nr(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=FC(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function kp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function r0(){var t=bc;return bc<<=1,!(bc&4194240)&&(bc=64),t}function bf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Cu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nr(e),t[e]=n}function jC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-nr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Xm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function i0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var s0,Jm,o0,a0,l0,bp=!1,Oc=[],Hi=null,qi=null,Ki=null,eu=new Map,tu=new Map,Li=[],BC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function By(t,e){switch(t){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":eu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(e.pointerId)}}function vl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Pu(e),e!==null&&Jm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $C(t,e,n,r,i){switch(e){case"focusin":return Hi=vl(Hi,t,e,n,r,i),!0;case"dragenter":return qi=vl(qi,t,e,n,r,i),!0;case"mouseover":return Ki=vl(Ki,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return eu.set(s,vl(eu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,tu.set(s,vl(tu.get(s)||null,t,e,n,r,i)),!0}return!1}function u0(t){var e=Us(t.target);if(e!==null){var n=ao(e);if(n!==null){if(e=n.tag,e===13){if(e=Xw(n),e!==null){t.blockedOn=e,l0(t.priority,function(){o0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Np(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ap=r,n.target.dispatchEvent(r),Ap=null}else return e=Pu(n),e!==null&&Jm(e),t.blockedOn=n,!1;e.shift()}return!0}function $y(t,e,n){Jc(t)&&n.delete(e)}function zC(){bp=!1,Hi!==null&&Jc(Hi)&&(Hi=null),qi!==null&&Jc(qi)&&(qi=null),Ki!==null&&Jc(Ki)&&(Ki=null),eu.forEach($y),tu.forEach($y)}function El(t,e){t.blockedOn===e&&(t.blockedOn=null,bp||(bp=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,zC)))}function nu(t){function e(i){return El(i,t)}if(0<Oc.length){El(Oc[0],t);for(var n=1;n<Oc.length;n++){var r=Oc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Hi!==null&&El(Hi,t),qi!==null&&El(qi,t),Ki!==null&&El(Ki,t),eu.forEach(e),tu.forEach(e),n=0;n<Li.length;n++)r=Li[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Li.length&&(n=Li[0],n.blockedOn===null);)u0(n),n.blockedOn===null&&Li.shift()}var ea=ci.ReactCurrentBatchConfig,Ch=!0;function WC(t,e,n,r){var i=Ve,s=ea.transition;ea.transition=null;try{Ve=1,Zm(t,e,n,r)}finally{Ve=i,ea.transition=s}}function HC(t,e,n,r){var i=Ve,s=ea.transition;ea.transition=null;try{Ve=4,Zm(t,e,n,r)}finally{Ve=i,ea.transition=s}}function Zm(t,e,n,r){if(Ch){var i=Np(t,e,n,r);if(i===null)jf(t,e,r,Rh,n),By(t,r);else if($C(i,t,e,n,r))r.stopPropagation();else if(By(t,r),e&4&&-1<BC.indexOf(t)){for(;i!==null;){var s=Pu(i);if(s!==null&&s0(s),s=Np(t,e,n,r),s===null&&jf(t,e,r,Rh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else jf(t,e,r,null,n)}}var Rh=null;function Np(t,e,n,r){if(Rh=null,t=Qm(r),t=Us(t),t!==null)if(e=ao(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rh=t,null}function c0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OC()){case Ym:return 1;case t0:return 4;case Sh:case xC:return 16;case n0:return 536870912;default:return 16}default:return 16}}var Bi=null,eg=null,Zc=null;function h0(){if(Zc)return Zc;var t,e=eg,n=e.length,r,i="value"in Bi?Bi.value:Bi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zc=i.slice(t,1<r?1-r:void 0)}function eh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xc(){return!0}function zy(){return!1}function xn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xc:zy,this.isPropagationStopped=zy,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xc)},persist:function(){},isPersistent:xc}),e}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tg=xn(Sa),Ru=Je({},Sa,{view:0,detail:0}),qC=xn(Ru),Nf,Of,wl,pd=Je({},Ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ng,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wl&&(wl&&t.type==="mousemove"?(Nf=t.screenX-wl.screenX,Of=t.screenY-wl.screenY):Of=Nf=0,wl=t),Nf)},movementY:function(t){return"movementY"in t?t.movementY:Of}}),Wy=xn(pd),KC=Je({},pd,{dataTransfer:0}),GC=xn(KC),QC=Je({},Ru,{relatedTarget:0}),xf=xn(QC),YC=Je({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),XC=xn(YC),JC=Je({},Sa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZC=xn(JC),eR=Je({},Sa,{data:0}),Hy=xn(eR),tR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rR[t])?!!e[t]:!1}function ng(){return iR}var sR=Je({},Ru,{key:function(t){if(t.key){var e=tR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=eh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ng,charCode:function(t){return t.type==="keypress"?eh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?eh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oR=xn(sR),aR=Je({},pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qy=xn(aR),lR=Je({},Ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ng}),uR=xn(lR),cR=Je({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),hR=xn(cR),dR=Je({},pd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fR=xn(dR),pR=[9,13,27,32],rg=ti&&"CompositionEvent"in window,Ul=null;ti&&"documentMode"in document&&(Ul=document.documentMode);var mR=ti&&"TextEvent"in window&&!Ul,d0=ti&&(!rg||Ul&&8<Ul&&11>=Ul),Ky=String.fromCharCode(32),Gy=!1;function f0(t,e){switch(t){case"keyup":return pR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jo=!1;function gR(t,e){switch(t){case"compositionend":return p0(e);case"keypress":return e.which!==32?null:(Gy=!0,Ky);case"textInput":return t=e.data,t===Ky&&Gy?null:t;default:return null}}function _R(t,e){if(jo)return t==="compositionend"||!rg&&f0(t,e)?(t=h0(),Zc=eg=Bi=null,jo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return d0&&e.locale!=="ko"?null:e.data;default:return null}}var yR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yR[t.type]:e==="textarea"}function m0(t,e,n,r){qw(r),e=Ph(e,"onChange"),0<e.length&&(n=new tg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jl=null,ru=null;function vR(t){C0(t,0)}function md(t){var e=zo(t);if(Uw(e))return t}function ER(t,e){if(t==="change")return e}var g0=!1;if(ti){var Df;if(ti){var Lf="oninput"in document;if(!Lf){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),Lf=typeof Yy.oninput=="function"}Df=Lf}else Df=!1;g0=Df&&(!document.documentMode||9<document.documentMode)}function Xy(){jl&&(jl.detachEvent("onpropertychange",_0),ru=jl=null)}function _0(t){if(t.propertyName==="value"&&md(ru)){var e=[];m0(e,ru,t,Qm(t)),Yw(vR,e)}}function wR(t,e,n){t==="focusin"?(Xy(),jl=e,ru=n,jl.attachEvent("onpropertychange",_0)):t==="focusout"&&Xy()}function TR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return md(ru)}function IR(t,e){if(t==="click")return md(e)}function SR(t,e){if(t==="input"||t==="change")return md(e)}function AR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var or=typeof Object.is=="function"?Object.is:AR;function iu(t,e){if(or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fp.call(e,i)||!or(t[i],e[i]))return!1}return!0}function Jy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zy(t,e){var n=Jy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jy(n)}}function y0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?y0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v0(){for(var t=window,e=wh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wh(t.document)}return e}function ig(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function CR(t){var e=v0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&y0(n.ownerDocument.documentElement,n)){if(r!==null&&ig(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Zy(n,s);var o=Zy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RR=ti&&"documentMode"in document&&11>=document.documentMode,Bo=null,Op=null,Bl=null,xp=!1;function ev(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xp||Bo==null||Bo!==wh(r)||(r=Bo,"selectionStart"in r&&ig(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bl&&iu(Bl,r)||(Bl=r,r=Ph(Op,"onSelect"),0<r.length&&(e=new tg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bo)))}function Dc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $o={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},Vf={},E0={};ti&&(E0=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function gd(t){if(Vf[t])return Vf[t];if(!$o[t])return t;var e=$o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in E0)return Vf[t]=e[n];return t}var w0=gd("animationend"),T0=gd("animationiteration"),I0=gd("animationstart"),S0=gd("transitionend"),A0=new Map,tv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(t,e){A0.set(t,e),oo(e,[t])}for(var Mf=0;Mf<tv.length;Mf++){var Ff=tv[Mf],PR=Ff.toLowerCase(),kR=Ff[0].toUpperCase()+Ff.slice(1);us(PR,"on"+kR)}us(w0,"onAnimationEnd");us(T0,"onAnimationIteration");us(I0,"onAnimationStart");us("dblclick","onDoubleClick");us("focusin","onFocus");us("focusout","onBlur");us(S0,"onTransitionEnd");aa("onMouseEnter",["mouseout","mouseover"]);aa("onMouseLeave",["mouseout","mouseover"]);aa("onPointerEnter",["pointerout","pointerover"]);aa("onPointerLeave",["pointerout","pointerover"]);oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bR=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function nv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,PC(r,e,void 0,t),t.currentTarget=null}function C0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;nv(i,l,h),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;nv(i,l,h),s=c}}}if(Ih)throw t=Pp,Ih=!1,Pp=null,t}function He(t,e){var n=e[Fp];n===void 0&&(n=e[Fp]=new Set);var r=t+"__bubble";n.has(r)||(R0(e,t,2,!1),n.add(r))}function Uf(t,e,n){var r=0;e&&(r|=4),R0(n,t,r,e)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function su(t){if(!t[Lc]){t[Lc]=!0,Dw.forEach(function(n){n!=="selectionchange"&&(bR.has(n)||Uf(n,!1,t),Uf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lc]||(e[Lc]=!0,Uf("selectionchange",!1,e))}}function R0(t,e,n,r){switch(c0(e)){case 1:var i=WC;break;case 4:i=HC;break;default:i=Zm}n=i.bind(null,e,n,t),i=void 0,!Rp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function jf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Us(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Yw(function(){var h=s,f=Qm(n),g=[];e:{var y=A0.get(t);if(y!==void 0){var P=tg,I=t;switch(t){case"keypress":if(eh(n)===0)break e;case"keydown":case"keyup":P=oR;break;case"focusin":I="focus",P=xf;break;case"focusout":I="blur",P=xf;break;case"beforeblur":case"afterblur":P=xf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Wy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=GC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=uR;break;case w0:case T0:case I0:P=XC;break;case S0:P=hR;break;case"scroll":P=qC;break;case"wheel":P=fR;break;case"copy":case"cut":case"paste":P=ZC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=qy}var O=(e&4)!==0,k=!O&&t==="scroll",S=O?y!==null?y+"Capture":null:y;O=[];for(var T=h,A;T!==null;){A=T;var U=A.stateNode;if(A.tag===5&&U!==null&&(A=U,S!==null&&(U=Zl(T,S),U!=null&&O.push(ou(T,U,A)))),k)break;T=T.return}0<O.length&&(y=new P(y,I,null,n,f),g.push({event:y,listeners:O}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",y&&n!==Ap&&(I=n.relatedTarget||n.fromElement)&&(Us(I)||I[ni]))break e;if((P||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,P?(I=n.relatedTarget||n.toElement,P=h,I=I?Us(I):null,I!==null&&(k=ao(I),I!==k||I.tag!==5&&I.tag!==6)&&(I=null)):(P=null,I=h),P!==I)){if(O=Wy,U="onMouseLeave",S="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(O=qy,U="onPointerLeave",S="onPointerEnter",T="pointer"),k=P==null?y:zo(P),A=I==null?y:zo(I),y=new O(U,T+"leave",P,n,f),y.target=k,y.relatedTarget=A,U=null,Us(f)===h&&(O=new O(S,T+"enter",I,n,f),O.target=A,O.relatedTarget=k,U=O),k=U,P&&I)t:{for(O=P,S=I,T=0,A=O;A;A=Do(A))T++;for(A=0,U=S;U;U=Do(U))A++;for(;0<T-A;)O=Do(O),T--;for(;0<A-T;)S=Do(S),A--;for(;T--;){if(O===S||S!==null&&O===S.alternate)break t;O=Do(O),S=Do(S)}O=null}else O=null;P!==null&&rv(g,y,P,O,!1),I!==null&&k!==null&&rv(g,k,I,O,!0)}}e:{if(y=h?zo(h):window,P=y.nodeName&&y.nodeName.toLowerCase(),P==="select"||P==="input"&&y.type==="file")var K=ER;else if(Qy(y))if(g0)K=SR;else{K=TR;var Y=wR}else(P=y.nodeName)&&P.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(K=IR);if(K&&(K=K(t,h))){m0(g,K,n,f);break e}Y&&Y(t,y,h),t==="focusout"&&(Y=y._wrapperState)&&Y.controlled&&y.type==="number"&&Ep(y,"number",y.value)}switch(Y=h?zo(h):window,t){case"focusin":(Qy(Y)||Y.contentEditable==="true")&&(Bo=Y,Op=h,Bl=null);break;case"focusout":Bl=Op=Bo=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,ev(g,n,f);break;case"selectionchange":if(RR)break;case"keydown":case"keyup":ev(g,n,f)}var C;if(rg)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else jo?f0(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(d0&&n.locale!=="ko"&&(jo||w!=="onCompositionStart"?w==="onCompositionEnd"&&jo&&(C=h0()):(Bi=f,eg="value"in Bi?Bi.value:Bi.textContent,jo=!0)),Y=Ph(h,w),0<Y.length&&(w=new Hy(w,t,null,n,f),g.push({event:w,listeners:Y}),C?w.data=C:(C=p0(n),C!==null&&(w.data=C)))),(C=mR?gR(t,n):_R(t,n))&&(h=Ph(h,"onBeforeInput"),0<h.length&&(f=new Hy("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:h}),f.data=C))}C0(g,e)})}function ou(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ph(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Zl(t,n),s!=null&&r.unshift(ou(t,s,i)),s=Zl(t,e),s!=null&&r.push(ou(t,s,i))),t=t.return}return r}function Do(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=Zl(n,s),c!=null&&o.unshift(ou(n,c,l))):i||(c=Zl(n,s),c!=null&&o.push(ou(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var NR=/\r\n?/g,OR=/\u0000|\uFFFD/g;function iv(t){return(typeof t=="string"?t:""+t).replace(NR,`
`).replace(OR,"")}function Vc(t,e,n){if(e=iv(e),iv(t)!==e&&n)throw Error(Q(425))}function kh(){}var Dp=null,Lp=null;function Vp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mp=typeof setTimeout=="function"?setTimeout:void 0,xR=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,DR=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(t){return sv.resolve(null).then(t).catch(LR)}:Mp;function LR(t){setTimeout(function(){throw t})}function Bf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),nu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);nu(e)}function Gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ov(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Aa=Math.random().toString(36).slice(2),wr="__reactFiber$"+Aa,au="__reactProps$"+Aa,ni="__reactContainer$"+Aa,Fp="__reactEvents$"+Aa,VR="__reactListeners$"+Aa,MR="__reactHandles$"+Aa;function Us(t){var e=t[wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ni]||n[wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ov(t);t!==null;){if(n=t[wr])return n;t=ov(t)}return e}t=n,n=t.parentNode}return null}function Pu(t){return t=t[wr]||t[ni],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function _d(t){return t[au]||null}var Up=[],Wo=-1;function cs(t){return{current:t}}function Ke(t){0>Wo||(t.current=Up[Wo],Up[Wo]=null,Wo--)}function We(t,e){Wo++,Up[Wo]=t.current,t.current=e}var ss={},Qt=cs(ss),gn=cs(!1),Ks=ss;function la(t,e){var n=t.type.contextTypes;if(!n)return ss;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _n(t){return t=t.childContextTypes,t!=null}function bh(){Ke(gn),Ke(Qt)}function av(t,e,n){if(Qt.current!==ss)throw Error(Q(168));We(Qt,e),We(gn,n)}function P0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,wC(t)||"Unknown",i));return Je({},n,r)}function Nh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ss,Ks=Qt.current,We(Qt,t),We(gn,gn.current),!0}function lv(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=P0(t,e,Ks),r.__reactInternalMemoizedMergedChildContext=t,Ke(gn),Ke(Qt),We(Qt,t)):Ke(gn),We(gn,n)}var qr=null,yd=!1,$f=!1;function k0(t){qr===null?qr=[t]:qr.push(t)}function FR(t){yd=!0,k0(t)}function hs(){if(!$f&&qr!==null){$f=!0;var t=0,e=Ve;try{var n=qr;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qr=null,yd=!1}catch(i){throw qr!==null&&(qr=qr.slice(t+1)),e0(Ym,hs),i}finally{Ve=e,$f=!1}}return null}var Ho=[],qo=0,Oh=null,xh=0,$n=[],zn=0,Gs=null,Kr=1,Gr="";function Vs(t,e){Ho[qo++]=xh,Ho[qo++]=Oh,Oh=t,xh=e}function b0(t,e,n){$n[zn++]=Kr,$n[zn++]=Gr,$n[zn++]=Gs,Gs=t;var r=Kr;t=Gr;var i=32-nr(r)-1;r&=~(1<<i),n+=1;var s=32-nr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Kr=1<<32-nr(e)+i|n<<i|r,Gr=s+t}else Kr=1<<s|n<<i|r,Gr=t}function sg(t){t.return!==null&&(Vs(t,1),b0(t,1,0))}function og(t){for(;t===Oh;)Oh=Ho[--qo],Ho[qo]=null,xh=Ho[--qo],Ho[qo]=null;for(;t===Gs;)Gs=$n[--zn],$n[zn]=null,Gr=$n[--zn],$n[zn]=null,Kr=$n[--zn],$n[zn]=null}var bn=null,Rn=null,Ge=!1,tr=null;function N0(t,e){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,Rn=Gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,Rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gs!==null?{id:Kr,overflow:Gr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bn=t,Rn=null,!0):!1;default:return!1}}function jp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bp(t){if(Ge){var e=Rn;if(e){var n=e;if(!uv(t,e)){if(jp(t))throw Error(Q(418));e=Gi(n.nextSibling);var r=bn;e&&uv(t,e)?N0(r,n):(t.flags=t.flags&-4097|2,Ge=!1,bn=t)}}else{if(jp(t))throw Error(Q(418));t.flags=t.flags&-4097|2,Ge=!1,bn=t}}}function cv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function Mc(t){if(t!==bn)return!1;if(!Ge)return cv(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vp(t.type,t.memoizedProps)),e&&(e=Rn)){if(jp(t))throw O0(),Error(Q(418));for(;e;)N0(t,e),e=Gi(e.nextSibling)}if(cv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rn=Gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rn=null}}else Rn=bn?Gi(t.stateNode.nextSibling):null;return!0}function O0(){for(var t=Rn;t;)t=Gi(t.nextSibling)}function ua(){Rn=bn=null,Ge=!1}function ag(t){tr===null?tr=[t]:tr.push(t)}var UR=ci.ReactCurrentBatchConfig;function Tl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function Fc(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hv(t){var e=t._init;return e(t._payload)}function x0(t){function e(S,T){if(t){var A=S.deletions;A===null?(S.deletions=[T],S.flags|=16):A.push(T)}}function n(S,T){if(!t)return null;for(;T!==null;)e(S,T),T=T.sibling;return null}function r(S,T){for(S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function i(S,T){return S=Ji(S,T),S.index=0,S.sibling=null,S}function s(S,T,A){return S.index=A,t?(A=S.alternate,A!==null?(A=A.index,A<T?(S.flags|=2,T):A):(S.flags|=2,T)):(S.flags|=1048576,T)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,T,A,U){return T===null||T.tag!==6?(T=Qf(A,S.mode,U),T.return=S,T):(T=i(T,A),T.return=S,T)}function c(S,T,A,U){var K=A.type;return K===Uo?f(S,T,A.props.children,U,A.key):T!==null&&(T.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===xi&&hv(K)===T.type)?(U=i(T,A.props),U.ref=Tl(S,T,A),U.return=S,U):(U=ah(A.type,A.key,A.props,null,S.mode,U),U.ref=Tl(S,T,A),U.return=S,U)}function h(S,T,A,U){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=Yf(A,S.mode,U),T.return=S,T):(T=i(T,A.children||[]),T.return=S,T)}function f(S,T,A,U,K){return T===null||T.tag!==7?(T=Hs(A,S.mode,U,K),T.return=S,T):(T=i(T,A),T.return=S,T)}function g(S,T,A){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Qf(""+T,S.mode,A),T.return=S,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Rc:return A=ah(T.type,T.key,T.props,null,S.mode,A),A.ref=Tl(S,null,T),A.return=S,A;case Fo:return T=Yf(T,S.mode,A),T.return=S,T;case xi:var U=T._init;return g(S,U(T._payload),A)}if(Pl(T)||_l(T))return T=Hs(T,S.mode,A,null),T.return=S,T;Fc(S,T)}return null}function y(S,T,A,U){var K=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return K!==null?null:l(S,T,""+A,U);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Rc:return A.key===K?c(S,T,A,U):null;case Fo:return A.key===K?h(S,T,A,U):null;case xi:return K=A._init,y(S,T,K(A._payload),U)}if(Pl(A)||_l(A))return K!==null?null:f(S,T,A,U,null);Fc(S,A)}return null}function P(S,T,A,U,K){if(typeof U=="string"&&U!==""||typeof U=="number")return S=S.get(A)||null,l(T,S,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Rc:return S=S.get(U.key===null?A:U.key)||null,c(T,S,U,K);case Fo:return S=S.get(U.key===null?A:U.key)||null,h(T,S,U,K);case xi:var Y=U._init;return P(S,T,A,Y(U._payload),K)}if(Pl(U)||_l(U))return S=S.get(A)||null,f(T,S,U,K,null);Fc(T,U)}return null}function I(S,T,A,U){for(var K=null,Y=null,C=T,w=T=0,R=null;C!==null&&w<A.length;w++){C.index>w?(R=C,C=null):R=C.sibling;var N=y(S,C,A[w],U);if(N===null){C===null&&(C=R);break}t&&C&&N.alternate===null&&e(S,C),T=s(N,T,w),Y===null?K=N:Y.sibling=N,Y=N,C=R}if(w===A.length)return n(S,C),Ge&&Vs(S,w),K;if(C===null){for(;w<A.length;w++)C=g(S,A[w],U),C!==null&&(T=s(C,T,w),Y===null?K=C:Y.sibling=C,Y=C);return Ge&&Vs(S,w),K}for(C=r(S,C);w<A.length;w++)R=P(C,S,w,A[w],U),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?w:R.key),T=s(R,T,w),Y===null?K=R:Y.sibling=R,Y=R);return t&&C.forEach(function(D){return e(S,D)}),Ge&&Vs(S,w),K}function O(S,T,A,U){var K=_l(A);if(typeof K!="function")throw Error(Q(150));if(A=K.call(A),A==null)throw Error(Q(151));for(var Y=K=null,C=T,w=T=0,R=null,N=A.next();C!==null&&!N.done;w++,N=A.next()){C.index>w?(R=C,C=null):R=C.sibling;var D=y(S,C,N.value,U);if(D===null){C===null&&(C=R);break}t&&C&&D.alternate===null&&e(S,C),T=s(D,T,w),Y===null?K=D:Y.sibling=D,Y=D,C=R}if(N.done)return n(S,C),Ge&&Vs(S,w),K;if(C===null){for(;!N.done;w++,N=A.next())N=g(S,N.value,U),N!==null&&(T=s(N,T,w),Y===null?K=N:Y.sibling=N,Y=N);return Ge&&Vs(S,w),K}for(C=r(S,C);!N.done;w++,N=A.next())N=P(C,S,w,N.value,U),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?w:N.key),T=s(N,T,w),Y===null?K=N:Y.sibling=N,Y=N);return t&&C.forEach(function(F){return e(S,F)}),Ge&&Vs(S,w),K}function k(S,T,A,U){if(typeof A=="object"&&A!==null&&A.type===Uo&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Rc:e:{for(var K=A.key,Y=T;Y!==null;){if(Y.key===K){if(K=A.type,K===Uo){if(Y.tag===7){n(S,Y.sibling),T=i(Y,A.props.children),T.return=S,S=T;break e}}else if(Y.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===xi&&hv(K)===Y.type){n(S,Y.sibling),T=i(Y,A.props),T.ref=Tl(S,Y,A),T.return=S,S=T;break e}n(S,Y);break}else e(S,Y);Y=Y.sibling}A.type===Uo?(T=Hs(A.props.children,S.mode,U,A.key),T.return=S,S=T):(U=ah(A.type,A.key,A.props,null,S.mode,U),U.ref=Tl(S,T,A),U.return=S,S=U)}return o(S);case Fo:e:{for(Y=A.key;T!==null;){if(T.key===Y)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){n(S,T.sibling),T=i(T,A.children||[]),T.return=S,S=T;break e}else{n(S,T);break}else e(S,T);T=T.sibling}T=Yf(A,S.mode,U),T.return=S,S=T}return o(S);case xi:return Y=A._init,k(S,T,Y(A._payload),U)}if(Pl(A))return I(S,T,A,U);if(_l(A))return O(S,T,A,U);Fc(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,T!==null&&T.tag===6?(n(S,T.sibling),T=i(T,A),T.return=S,S=T):(n(S,T),T=Qf(A,S.mode,U),T.return=S,S=T),o(S)):n(S,T)}return k}var ca=x0(!0),D0=x0(!1),Dh=cs(null),Lh=null,Ko=null,lg=null;function ug(){lg=Ko=Lh=null}function cg(t){var e=Dh.current;Ke(Dh),t._currentValue=e}function $p(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ta(t,e){Lh=t,lg=Ko=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mn=!0),t.firstContext=null)}function qn(t){var e=t._currentValue;if(lg!==t)if(t={context:t,memoizedValue:e,next:null},Ko===null){if(Lh===null)throw Error(Q(308));Ko=t,Lh.dependencies={lanes:0,firstContext:t}}else Ko=Ko.next=t;return e}var js=null;function hg(t){js===null?js=[t]:js.push(t)}function L0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hg(e)):(n.next=i.next,i.next=n),e.interleaved=n,ri(t,r)}function ri(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Di=!1;function dg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ri(t,n)}return i=r.interleaved,i===null?(e.next=e,hg(r)):(e.next=i.next,i.next=e),r.interleaved=e,ri(t,n)}function th(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xm(t,n)}}function dv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vh(t,e,n,r){var i=t.updateQueue;Di=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=c))}if(s!==null){var g=i.baseState;o=0,f=h=c=null,l=s;do{var y=l.lane,P=l.eventTime;if((r&y)===y){f!==null&&(f=f.next={eventTime:P,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var I=t,O=l;switch(y=e,P=n,O.tag){case 1:if(I=O.payload,typeof I=="function"){g=I.call(P,g,y);break e}g=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=O.payload,y=typeof I=="function"?I.call(P,g,y):I,y==null)break e;g=Je({},g,y);break e;case 2:Di=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else P={eventTime:P,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=P,c=g):f=f.next=P,o|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(f===null&&(c=g),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ys|=o,t.lanes=o,t.memoizedState=g}}function fv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var ku={},Sr=cs(ku),lu=cs(ku),uu=cs(ku);function Bs(t){if(t===ku)throw Error(Q(174));return t}function fg(t,e){switch(We(uu,e),We(lu,t),We(Sr,ku),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tp(e,t)}Ke(Sr),We(Sr,e)}function ha(){Ke(Sr),Ke(lu),Ke(uu)}function M0(t){Bs(uu.current);var e=Bs(Sr.current),n=Tp(e,t.type);e!==n&&(We(lu,t),We(Sr,n))}function pg(t){lu.current===t&&(Ke(Sr),Ke(lu))}var Ye=cs(0);function Mh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zf=[];function mg(){for(var t=0;t<zf.length;t++)zf[t]._workInProgressVersionPrimary=null;zf.length=0}var nh=ci.ReactCurrentDispatcher,Wf=ci.ReactCurrentBatchConfig,Qs=0,Xe=null,yt=null,Pt=null,Fh=!1,$l=!1,cu=0,jR=0;function $t(){throw Error(Q(321))}function gg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!or(t[n],e[n]))return!1;return!0}function _g(t,e,n,r,i,s){if(Qs=s,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nh.current=t===null||t.memoizedState===null?WR:HR,t=n(r,i),$l){s=0;do{if($l=!1,cu=0,25<=s)throw Error(Q(301));s+=1,Pt=yt=null,e.updateQueue=null,nh.current=qR,t=n(r,i)}while($l)}if(nh.current=Uh,e=yt!==null&&yt.next!==null,Qs=0,Pt=yt=Xe=null,Fh=!1,e)throw Error(Q(300));return t}function yg(){var t=cu!==0;return cu=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Xe.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Kn(){if(yt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=Pt===null?Xe.memoizedState:Pt.next;if(e!==null)Pt=e,yt=t;else{if(t===null)throw Error(Q(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Pt===null?Xe.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function hu(t,e){return typeof e=="function"?e(t):e}function Hf(t){var e=Kn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=yt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,h=s;do{var f=h.lane;if((Qs&f)===f)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=g,o=r):c=c.next=g,Xe.lanes|=f,Ys|=f}h=h.next}while(h!==null&&h!==s);c===null?o=r:c.next=l,or(r,e.memoizedState)||(mn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Xe.lanes|=s,Ys|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qf(t){var e=Kn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);or(s,e.memoizedState)||(mn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function F0(){}function U0(t,e){var n=Xe,r=Kn(),i=e(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,mn=!0),r=r.queue,vg($0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Pt!==null&&Pt.memoizedState.tag&1){if(n.flags|=2048,du(9,B0.bind(null,n,r,i,e),void 0,null),kt===null)throw Error(Q(349));Qs&30||j0(n,e,i)}return i}function j0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function B0(t,e,n,r){e.value=n,e.getSnapshot=r,z0(e)&&W0(t)}function $0(t,e,n){return n(function(){z0(e)&&W0(t)})}function z0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!or(t,n)}catch{return!0}}function W0(t){var e=ri(t,1);e!==null&&rr(e,t,1,-1)}function pv(t){var e=Er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hu,lastRenderedState:t},e.queue=t,t=t.dispatch=zR.bind(null,Xe,t),[e.memoizedState,t]}function du(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function H0(){return Kn().memoizedState}function rh(t,e,n,r){var i=Er();Xe.flags|=t,i.memoizedState=du(1|e,n,void 0,r===void 0?null:r)}function vd(t,e,n,r){var i=Kn();r=r===void 0?null:r;var s=void 0;if(yt!==null){var o=yt.memoizedState;if(s=o.destroy,r!==null&&gg(r,o.deps)){i.memoizedState=du(e,n,s,r);return}}Xe.flags|=t,i.memoizedState=du(1|e,n,s,r)}function mv(t,e){return rh(8390656,8,t,e)}function vg(t,e){return vd(2048,8,t,e)}function q0(t,e){return vd(4,2,t,e)}function K0(t,e){return vd(4,4,t,e)}function G0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Q0(t,e,n){return n=n!=null?n.concat([t]):null,vd(4,4,G0.bind(null,e,t),n)}function Eg(){}function Y0(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function X0(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function J0(t,e,n){return Qs&21?(or(n,e)||(n=r0(),Xe.lanes|=n,Ys|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mn=!0),t.memoizedState=n)}function BR(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=Wf.transition;Wf.transition={};try{t(!1),e()}finally{Ve=n,Wf.transition=r}}function Z0(){return Kn().memoizedState}function $R(t,e,n){var r=Xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eT(t))tT(e,n);else if(n=L0(t,e,n,r),n!==null){var i=ln();rr(n,t,r,i),nT(n,e,r)}}function zR(t,e,n){var r=Xi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eT(t))tT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,or(l,o)){var c=e.interleaved;c===null?(i.next=i,hg(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=L0(t,e,i,r),n!==null&&(i=ln(),rr(n,t,r,i),nT(n,e,r))}}function eT(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function tT(t,e){$l=Fh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xm(t,n)}}var Uh={readContext:qn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},WR={readContext:qn,useCallback:function(t,e){return Er().memoizedState=[t,e===void 0?null:e],t},useContext:qn,useEffect:mv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rh(4194308,4,G0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rh(4194308,4,t,e)},useInsertionEffect:function(t,e){return rh(4,2,t,e)},useMemo:function(t,e){var n=Er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$R.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=Er();return t={current:t},e.memoizedState=t},useState:pv,useDebugValue:Eg,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=pv(!1),e=t[0];return t=BR.bind(null,t[1]),Er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,i=Er();if(Ge){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),kt===null)throw Error(Q(349));Qs&30||j0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,mv($0.bind(null,r,s,t),[t]),r.flags|=2048,du(9,B0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Er(),e=kt.identifierPrefix;if(Ge){var n=Gr,r=Kr;n=(r&~(1<<32-nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HR={readContext:qn,useCallback:Y0,useContext:qn,useEffect:vg,useImperativeHandle:Q0,useInsertionEffect:q0,useLayoutEffect:K0,useMemo:X0,useReducer:Hf,useRef:H0,useState:function(){return Hf(hu)},useDebugValue:Eg,useDeferredValue:function(t){var e=Kn();return J0(e,yt.memoizedState,t)},useTransition:function(){var t=Hf(hu)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:F0,useSyncExternalStore:U0,useId:Z0,unstable_isNewReconciler:!1},qR={readContext:qn,useCallback:Y0,useContext:qn,useEffect:vg,useImperativeHandle:Q0,useInsertionEffect:q0,useLayoutEffect:K0,useMemo:X0,useReducer:qf,useRef:H0,useState:function(){return qf(hu)},useDebugValue:Eg,useDeferredValue:function(t){var e=Kn();return yt===null?e.memoizedState=t:J0(e,yt.memoizedState,t)},useTransition:function(){var t=qf(hu)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:F0,useSyncExternalStore:U0,useId:Z0,unstable_isNewReconciler:!1};function Zn(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function zp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ed={isMounted:function(t){return(t=t._reactInternals)?ao(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ln(),i=Xi(t),s=Jr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Qi(t,s,i),e!==null&&(rr(e,t,i,r),th(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ln(),i=Xi(t),s=Jr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Qi(t,s,i),e!==null&&(rr(e,t,i,r),th(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),r=Xi(t),i=Jr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qi(t,i,r),e!==null&&(rr(e,t,r,n),th(e,t,r))}};function gv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!iu(n,r)||!iu(i,s):!0}function rT(t,e,n){var r=!1,i=ss,s=e.contextType;return typeof s=="object"&&s!==null?s=qn(s):(i=_n(e)?Ks:Qt.current,r=e.contextTypes,s=(r=r!=null)?la(t,i):ss),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ed,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _v(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ed.enqueueReplaceState(e,e.state,null)}function Wp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},dg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=qn(s):(s=_n(e)?Ks:Qt.current,i.context=la(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(zp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ed.enqueueReplaceState(i,i.state,null),Vh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function da(t,e){try{var n="",r=e;do n+=EC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Kf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KR=typeof WeakMap=="function"?WeakMap:Map;function iT(t,e,n){n=Jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bh||(Bh=!0,tm=r),Hp(t,e)},n}function sT(t,e,n){n=Jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Hp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Hp(t,e),typeof r!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function yv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=aP.bind(null,t,e,n),e.then(t,t))}function vv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ev(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jr(-1,1),e.tag=2,Qi(n,e,1))),n.lanes|=1),t)}var GR=ci.ReactCurrentOwner,mn=!1;function an(t,e,n,r){e.child=t===null?D0(e,null,n,r):ca(e,t.child,n,r)}function wv(t,e,n,r,i){n=n.render;var s=e.ref;return ta(e,i),r=_g(t,e,n,r,s,i),n=yg(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ii(t,e,i)):(Ge&&n&&sg(e),e.flags|=1,an(t,e,r,i),e.child)}function Tv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Pg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,oT(t,e,s,r,i)):(t=ah(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:iu,n(o,r)&&t.ref===e.ref)return ii(t,e,i)}return e.flags|=1,t=Ji(s,r),t.ref=e.ref,t.return=e,e.child=t}function oT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(iu(s,r)&&t.ref===e.ref)if(mn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,ii(t,e,i)}return qp(t,e,n,r,i)}function aT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Qo,Cn),Cn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(Qo,Cn),Cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,We(Qo,Cn),Cn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,We(Qo,Cn),Cn|=r;return an(t,e,i,n),e.child}function lT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qp(t,e,n,r,i){var s=_n(n)?Ks:Qt.current;return s=la(e,s),ta(e,i),n=_g(t,e,n,r,s,i),r=yg(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ii(t,e,i)):(Ge&&r&&sg(e),e.flags|=1,an(t,e,n,i),e.child)}function Iv(t,e,n,r,i){if(_n(n)){var s=!0;Nh(e)}else s=!1;if(ta(e,i),e.stateNode===null)ih(t,e),rT(e,n,r),Wp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=qn(h):(h=_n(n)?Ks:Qt.current,h=la(e,h));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==h)&&_v(e,o,r,h),Di=!1;var y=e.memoizedState;o.state=y,Vh(e,r,o,i),c=e.memoizedState,l!==r||y!==c||gn.current||Di?(typeof f=="function"&&(zp(e,n,f,r),c=e.memoizedState),(l=Di||gv(e,n,l,r,y,c,h))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,V0(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Zn(e.type,l),o.props=h,g=e.pendingProps,y=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=qn(c):(c=_n(n)?Ks:Qt.current,c=la(e,c));var P=n.getDerivedStateFromProps;(f=typeof P=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==g||y!==c)&&_v(e,o,r,c),Di=!1,y=e.memoizedState,o.state=y,Vh(e,r,o,i);var I=e.memoizedState;l!==g||y!==I||gn.current||Di?(typeof P=="function"&&(zp(e,n,P,r),I=e.memoizedState),(h=Di||gv(e,n,h,r,y,I,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=c,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return Kp(t,e,n,r,s,i)}function Kp(t,e,n,r,i,s){lT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&lv(e,n,!1),ii(t,e,s);r=e.stateNode,GR.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ca(e,t.child,null,s),e.child=ca(e,null,l,s)):an(t,e,l,s),e.memoizedState=r.state,i&&lv(e,n,!0),e.child}function uT(t){var e=t.stateNode;e.pendingContext?av(t,e.pendingContext,e.pendingContext!==e.context):e.context&&av(t,e.context,!1),fg(t,e.containerInfo)}function Sv(t,e,n,r,i){return ua(),ag(i),e.flags|=256,an(t,e,n,r),e.child}var Gp={dehydrated:null,treeContext:null,retryLane:0};function Qp(t){return{baseLanes:t,cachePool:null,transitions:null}}function cT(t,e,n){var r=e.pendingProps,i=Ye.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),We(Ye,i&1),t===null)return Bp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Id(o,r,0,null),t=Hs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Qp(n),e.memoizedState=Gp,t):wg(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return QR(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ji(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ji(l,s):(s=Hs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Qp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Gp,r}return s=t.child,t=s.sibling,r=Ji(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wg(t,e){return e=Id({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uc(t,e,n,r){return r!==null&&ag(r),ca(e,t.child,null,n),t=wg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function QR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Kf(Error(Q(422))),Uc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Id({mode:"visible",children:r.children},i,0,null),s=Hs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ca(e,t.child,null,o),e.child.memoizedState=Qp(o),e.memoizedState=Gp,s);if(!(e.mode&1))return Uc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(Q(419)),r=Kf(s,r,void 0),Uc(t,e,o,r)}if(l=(o&t.childLanes)!==0,mn||l){if(r=kt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ri(t,i),rr(r,t,i,-1))}return Rg(),r=Kf(Error(Q(421))),Uc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=lP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Rn=Gi(i.nextSibling),bn=e,Ge=!0,tr=null,t!==null&&($n[zn++]=Kr,$n[zn++]=Gr,$n[zn++]=Gs,Kr=t.id,Gr=t.overflow,Gs=e),e=wg(e,r.children),e.flags|=4096,e)}function Av(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$p(t.return,e,n)}function Gf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function hT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(an(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Av(t,n,e);else if(t.tag===19)Av(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Mh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Gf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Gf(e,!0,n,null,s);break;case"together":Gf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ih(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ii(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ys|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Ji(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ji(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function YR(t,e,n){switch(e.tag){case 3:uT(e),ua();break;case 5:M0(e);break;case 1:_n(e.type)&&Nh(e);break;case 4:fg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;We(Dh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?cT(t,e,n):(We(Ye,Ye.current&1),t=ii(t,e,n),t!==null?t.sibling:null);We(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,aT(t,e,n)}return ii(t,e,n)}var dT,Yp,fT,pT;dT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yp=function(){};fT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Bs(Sr.current);var s=null;switch(n){case"input":i=yp(t,i),r=yp(t,r),s=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),s=[];break;case"textarea":i=wp(t,i),r=wp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kh)}Ip(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Xl.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Xl.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&He("scroll",t),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};pT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Il(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XR(t,e,n){var r=e.pendingProps;switch(og(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return _n(e.type)&&bh(),zt(e),null;case 3:return r=e.stateNode,ha(),Ke(gn),Ke(Qt),mg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tr!==null&&(im(tr),tr=null))),Yp(t,e),zt(e),null;case 5:pg(e);var i=Bs(uu.current);if(n=e.type,t!==null&&e.stateNode!=null)fT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return zt(e),null}if(t=Bs(Sr.current),Mc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[wr]=e,r[au]=s,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<bl.length;i++)He(bl[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":Dy(r,s),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},He("invalid",r);break;case"textarea":Vy(r,s),He("invalid",r)}Ip(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Vc(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Vc(r.textContent,l,t),i=["children",""+l]):Xl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Pc(r),Ly(r,s,!0);break;case"textarea":Pc(r),My(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=kh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$w(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wr]=e,t[au]=r,dT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sp(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<bl.length;i++)He(bl[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":Dy(t,r),i=yp(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),He("invalid",t);break;case"textarea":Vy(t,r),i=wp(t,r),He("invalid",t);break;default:i=r}Ip(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Hw(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zw(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Jl(t,c):typeof c=="number"&&Jl(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Xl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&He("scroll",t):c!=null&&Hm(t,s,c,o))}switch(n){case"input":Pc(t),Ly(t,r,!1);break;case"textarea":Pc(t),My(t);break;case"option":r.value!=null&&t.setAttribute("value",""+is(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Xo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Xo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)pT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Bs(uu.current),Bs(Sr.current),Mc(e)){if(r=e.stateNode,n=e.memoizedProps,r[wr]=e,(s=r.nodeValue!==n)&&(t=bn,t!==null))switch(t.tag){case 3:Vc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wr]=e,e.stateNode=r}return zt(e),null;case 13:if(Ke(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&Rn!==null&&e.mode&1&&!(e.flags&128))O0(),ua(),e.flags|=98560,s=!1;else if(s=Mc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[wr]=e}else ua(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),s=!1}else tr!==null&&(im(tr),tr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?vt===0&&(vt=3):Rg())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return ha(),Yp(t,e),t===null&&su(e.stateNode.containerInfo),zt(e),null;case 10:return cg(e.type._context),zt(e),null;case 17:return _n(e.type)&&bh(),zt(e),null;case 19:if(Ke(Ye),s=e.memoizedState,s===null)return zt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Il(s,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mh(t),o!==null){for(e.flags|=128,Il(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(Ye,Ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&lt()>fa&&(e.flags|=128,r=!0,Il(s,!1),e.lanes=4194304)}else{if(!r)if(t=Mh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Il(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ge)return zt(e),null}else 2*lt()-s.renderingStartTime>fa&&n!==1073741824&&(e.flags|=128,r=!0,Il(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=lt(),e.sibling=null,n=Ye.current,We(Ye,r?n&1|2:n&1),e):(zt(e),null);case 22:case 23:return Cg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Cn&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function JR(t,e){switch(og(e),e.tag){case 1:return _n(e.type)&&bh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ha(),Ke(gn),Ke(Qt),mg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pg(e),null;case 13:if(Ke(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));ua()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Ye),null;case 4:return ha(),null;case 10:return cg(e.type._context),null;case 22:case 23:return Cg(),null;case 24:return null;default:return null}}var jc=!1,qt=!1,ZR=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Go(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function Xp(t,e,n){try{n()}catch(r){it(t,e,r)}}var Cv=!1;function eP(t,e){if(Dp=Ch,t=v0(),ig(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,h=0,f=0,g=t,y=null;t:for(;;){for(var P;g!==n||i!==0&&g.nodeType!==3||(l=o+i),g!==s||r!==0&&g.nodeType!==3||(c=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(P=g.firstChild)!==null;)y=g,g=P;for(;;){if(g===t)break t;if(y===n&&++h===i&&(l=o),y===s&&++f===r&&(c=o),(P=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=P}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lp={focusedElem:t,selectionRange:n},Ch=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var O=I.memoizedProps,k=I.memoizedState,S=e.stateNode,T=S.getSnapshotBeforeUpdate(e.elementType===e.type?O:Zn(e.type,O),k);S.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(U){it(e,e.return,U)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return I=Cv,Cv=!1,I}function zl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Xp(e,n,s)}i=i.next}while(i!==r)}}function wd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mT(t){var e=t.alternate;e!==null&&(t.alternate=null,mT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wr],delete e[au],delete e[Fp],delete e[VR],delete e[MR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gT(t){return t.tag===5||t.tag===3||t.tag===4}function Rv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kh));else if(r!==4&&(t=t.child,t!==null))for(Zp(t,e,n),t=t.sibling;t!==null;)Zp(t,e,n),t=t.sibling}function em(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(em(t,e,n),t=t.sibling;t!==null;)em(t,e,n),t=t.sibling}var xt=null,er=!1;function Ni(t,e,n){for(n=n.child;n!==null;)_T(t,e,n),n=n.sibling}function _T(t,e,n){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(fd,n)}catch{}switch(n.tag){case 5:qt||Go(n,e);case 6:var r=xt,i=er;xt=null,Ni(t,e,n),xt=r,er=i,xt!==null&&(er?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(er?(t=xt,n=n.stateNode,t.nodeType===8?Bf(t.parentNode,n):t.nodeType===1&&Bf(t,n),nu(t)):Bf(xt,n.stateNode));break;case 4:r=xt,i=er,xt=n.stateNode.containerInfo,er=!0,Ni(t,e,n),xt=r,er=i;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Xp(n,e,o),i=i.next}while(i!==r)}Ni(t,e,n);break;case 1:if(!qt&&(Go(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){it(n,e,l)}Ni(t,e,n);break;case 21:Ni(t,e,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,Ni(t,e,n),qt=r):Ni(t,e,n);break;default:Ni(t,e,n)}}function Pv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ZR),e.forEach(function(r){var i=uP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:xt=l.stateNode,er=!1;break e;case 3:xt=l.stateNode.containerInfo,er=!0;break e;case 4:xt=l.stateNode.containerInfo,er=!0;break e}l=l.return}if(xt===null)throw Error(Q(160));_T(s,o,i),xt=null,er=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){it(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yT(e,t),e=e.sibling}function yT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jn(e,t),yr(t),r&4){try{zl(3,t,t.return),wd(3,t)}catch(O){it(t,t.return,O)}try{zl(5,t,t.return)}catch(O){it(t,t.return,O)}}break;case 1:Jn(e,t),yr(t),r&512&&n!==null&&Go(n,n.return);break;case 5:if(Jn(e,t),yr(t),r&512&&n!==null&&Go(n,n.return),t.flags&32){var i=t.stateNode;try{Jl(i,"")}catch(O){it(t,t.return,O)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&jw(i,s),Sp(l,o);var h=Sp(l,s);for(o=0;o<c.length;o+=2){var f=c[o],g=c[o+1];f==="style"?Hw(i,g):f==="dangerouslySetInnerHTML"?zw(i,g):f==="children"?Jl(i,g):Hm(i,f,g,h)}switch(l){case"input":vp(i,s);break;case"textarea":Bw(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var P=s.value;P!=null?Xo(i,!!s.multiple,P,!1):y!==!!s.multiple&&(s.defaultValue!=null?Xo(i,!!s.multiple,s.defaultValue,!0):Xo(i,!!s.multiple,s.multiple?[]:"",!1))}i[au]=s}catch(O){it(t,t.return,O)}}break;case 6:if(Jn(e,t),yr(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(O){it(t,t.return,O)}}break;case 3:if(Jn(e,t),yr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nu(e.containerInfo)}catch(O){it(t,t.return,O)}break;case 4:Jn(e,t),yr(t);break;case 13:Jn(e,t),yr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Sg=lt())),r&4&&Pv(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(qt=(h=qt)||f,Jn(e,t),qt=h):Jn(e,t),yr(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(ne=t,f=t.child;f!==null;){for(g=ne=f;ne!==null;){switch(y=ne,P=y.child,y.tag){case 0:case 11:case 14:case 15:zl(4,y,y.return);break;case 1:Go(y,y.return);var I=y.stateNode;if(typeof I.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(O){it(r,n,O)}}break;case 5:Go(y,y.return);break;case 22:if(y.memoizedState!==null){bv(g);continue}}P!==null?(P.return=y,ne=P):bv(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{i=g.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=g.stateNode,c=g.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ww("display",o))}catch(O){it(t,t.return,O)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(O){it(t,t.return,O)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Jn(e,t),yr(t),r&4&&Pv(t);break;case 21:break;default:Jn(e,t),yr(t)}}function yr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gT(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Jl(i,""),r.flags&=-33);var s=Rv(t);em(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Rv(t);Zp(t,l,o);break;default:throw Error(Q(161))}}catch(c){it(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tP(t,e,n){ne=t,vT(t)}function vT(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||jc;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||qt;l=jc;var h=qt;if(jc=o,(qt=c)&&!h)for(ne=i;ne!==null;)o=ne,c=o.child,o.tag===22&&o.memoizedState!==null?Nv(i):c!==null?(c.return=o,ne=c):Nv(i);for(;s!==null;)ne=s,vT(s),s=s.sibling;ne=i,jc=l,qt=h}kv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):kv(t)}}function kv(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||wd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&fv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fv(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&nu(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}qt||e.flags&512&&Jp(e)}catch(y){it(e,e.return,y)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function bv(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Nv(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wd(4,e)}catch(c){it(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){it(e,i,c)}}var s=e.return;try{Jp(e)}catch(c){it(e,s,c)}break;case 5:var o=e.return;try{Jp(e)}catch(c){it(e,o,c)}}}catch(c){it(e,e.return,c)}if(e===t){ne=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ne=l;break}ne=e.return}}var nP=Math.ceil,jh=ci.ReactCurrentDispatcher,Tg=ci.ReactCurrentOwner,Hn=ci.ReactCurrentBatchConfig,be=0,kt=null,ht=null,Vt=0,Cn=0,Qo=cs(0),vt=0,fu=null,Ys=0,Td=0,Ig=0,Wl=null,fn=null,Sg=0,fa=1/0,Hr=null,Bh=!1,tm=null,Yi=null,Bc=!1,$i=null,$h=0,Hl=0,nm=null,sh=-1,oh=0;function ln(){return be&6?lt():sh!==-1?sh:sh=lt()}function Xi(t){return t.mode&1?be&2&&Vt!==0?Vt&-Vt:UR.transition!==null?(oh===0&&(oh=r0()),oh):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:c0(t.type)),t):1}function rr(t,e,n,r){if(50<Hl)throw Hl=0,nm=null,Error(Q(185));Cu(t,n,r),(!(be&2)||t!==kt)&&(t===kt&&(!(be&2)&&(Td|=n),vt===4&&Vi(t,Vt)),yn(t,r),n===1&&be===0&&!(e.mode&1)&&(fa=lt()+500,yd&&hs()))}function yn(t,e){var n=t.callbackNode;UC(t,e);var r=Ah(t,t===kt?Vt:0);if(r===0)n!==null&&jy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jy(n),e===1)t.tag===0?FR(Ov.bind(null,t)):k0(Ov.bind(null,t)),DR(function(){!(be&6)&&hs()}),n=null;else{switch(i0(r)){case 1:n=Ym;break;case 4:n=t0;break;case 16:n=Sh;break;case 536870912:n=n0;break;default:n=Sh}n=RT(n,ET.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ET(t,e){if(sh=-1,oh=0,be&6)throw Error(Q(327));var n=t.callbackNode;if(na()&&t.callbackNode!==n)return null;var r=Ah(t,t===kt?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zh(t,r);else{e=r;var i=be;be|=2;var s=TT();(kt!==t||Vt!==e)&&(Hr=null,fa=lt()+500,Ws(t,e));do try{sP();break}catch(l){wT(t,l)}while(1);ug(),jh.current=s,be=i,ht!==null?e=0:(kt=null,Vt=0,e=vt)}if(e!==0){if(e===2&&(i=kp(t),i!==0&&(r=i,e=rm(t,i))),e===1)throw n=fu,Ws(t,0),Vi(t,r),yn(t,lt()),n;if(e===6)Vi(t,r);else{if(i=t.current.alternate,!(r&30)&&!rP(i)&&(e=zh(t,r),e===2&&(s=kp(t),s!==0&&(r=s,e=rm(t,s))),e===1))throw n=fu,Ws(t,0),Vi(t,r),yn(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:Ms(t,fn,Hr);break;case 3:if(Vi(t,r),(r&130023424)===r&&(e=Sg+500-lt(),10<e)){if(Ah(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Mp(Ms.bind(null,t,fn,Hr),e);break}Ms(t,fn,Hr);break;case 4:if(Vi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-nr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nP(r/1960))-r,10<r){t.timeoutHandle=Mp(Ms.bind(null,t,fn,Hr),r);break}Ms(t,fn,Hr);break;case 5:Ms(t,fn,Hr);break;default:throw Error(Q(329))}}}return yn(t,lt()),t.callbackNode===n?ET.bind(null,t):null}function rm(t,e){var n=Wl;return t.current.memoizedState.isDehydrated&&(Ws(t,e).flags|=256),t=zh(t,e),t!==2&&(e=fn,fn=n,e!==null&&im(e)),t}function im(t){fn===null?fn=t:fn.push.apply(fn,t)}function rP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vi(t,e){for(e&=~Ig,e&=~Td,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nr(e),r=1<<n;t[n]=-1,e&=~r}}function Ov(t){if(be&6)throw Error(Q(327));na();var e=Ah(t,0);if(!(e&1))return yn(t,lt()),null;var n=zh(t,e);if(t.tag!==0&&n===2){var r=kp(t);r!==0&&(e=r,n=rm(t,r))}if(n===1)throw n=fu,Ws(t,0),Vi(t,e),yn(t,lt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ms(t,fn,Hr),yn(t,lt()),null}function Ag(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(fa=lt()+500,yd&&hs())}}function Xs(t){$i!==null&&$i.tag===0&&!(be&6)&&na();var e=be;be|=1;var n=Hn.transition,r=Ve;try{if(Hn.transition=null,Ve=1,t)return t()}finally{Ve=r,Hn.transition=n,be=e,!(be&6)&&hs()}}function Cg(){Cn=Qo.current,Ke(Qo)}function Ws(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xR(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(og(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bh();break;case 3:ha(),Ke(gn),Ke(Qt),mg();break;case 5:pg(r);break;case 4:ha();break;case 13:Ke(Ye);break;case 19:Ke(Ye);break;case 10:cg(r.type._context);break;case 22:case 23:Cg()}n=n.return}if(kt=t,ht=t=Ji(t.current,null),Vt=Cn=e,vt=0,fu=null,Ig=Td=Ys=0,fn=Wl=null,js!==null){for(e=0;e<js.length;e++)if(n=js[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}js=null}return t}function wT(t,e){do{var n=ht;try{if(ug(),nh.current=Uh,Fh){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fh=!1}if(Qs=0,Pt=yt=Xe=null,$l=!1,cu=0,Tg.current=null,n===null||n.return===null){vt=1,fu=e,ht=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=Vt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,f=l,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var P=vv(o);if(P!==null){P.flags&=-257,Ev(P,o,l,s,e),P.mode&1&&yv(s,h,e),e=P,c=h;var I=e.updateQueue;if(I===null){var O=new Set;O.add(c),e.updateQueue=O}else I.add(c);break e}else{if(!(e&1)){yv(s,h,e),Rg();break e}c=Error(Q(426))}}else if(Ge&&l.mode&1){var k=vv(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ev(k,o,l,s,e),ag(da(c,l));break e}}s=c=da(c,l),vt!==4&&(vt=2),Wl===null?Wl=[s]:Wl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=iT(s,c,e);dv(s,S);break e;case 1:l=c;var T=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Yi===null||!Yi.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var U=sT(s,l,e);dv(s,U);break e}}s=s.return}while(s!==null)}ST(n)}catch(K){e=K,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(1)}function TT(){var t=jh.current;return jh.current=Uh,t===null?Uh:t}function Rg(){(vt===0||vt===3||vt===2)&&(vt=4),kt===null||!(Ys&268435455)&&!(Td&268435455)||Vi(kt,Vt)}function zh(t,e){var n=be;be|=2;var r=TT();(kt!==t||Vt!==e)&&(Hr=null,Ws(t,e));do try{iP();break}catch(i){wT(t,i)}while(1);if(ug(),be=n,jh.current=r,ht!==null)throw Error(Q(261));return kt=null,Vt=0,vt}function iP(){for(;ht!==null;)IT(ht)}function sP(){for(;ht!==null&&!bC();)IT(ht)}function IT(t){var e=CT(t.alternate,t,Cn);t.memoizedProps=t.pendingProps,e===null?ST(t):ht=e,Tg.current=null}function ST(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=JR(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,ht=null;return}}else if(n=XR(n,e,Cn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);vt===0&&(vt=5)}function Ms(t,e,n){var r=Ve,i=Hn.transition;try{Hn.transition=null,Ve=1,oP(t,e,n,r)}finally{Hn.transition=i,Ve=r}return null}function oP(t,e,n,r){do na();while($i!==null);if(be&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(jC(t,s),t===kt&&(ht=kt=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bc||(Bc=!0,RT(Sh,function(){return na(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Hn.transition,Hn.transition=null;var o=Ve;Ve=1;var l=be;be|=4,Tg.current=null,eP(t,n),yT(n,t),CR(Lp),Ch=!!Dp,Lp=Dp=null,t.current=n,tP(n),NC(),be=l,Ve=o,Hn.transition=s}else t.current=n;if(Bc&&(Bc=!1,$i=t,$h=i),s=t.pendingLanes,s===0&&(Yi=null),DC(n.stateNode),yn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bh)throw Bh=!1,t=tm,tm=null,t;return $h&1&&t.tag!==0&&na(),s=t.pendingLanes,s&1?t===nm?Hl++:(Hl=0,nm=t):Hl=0,hs(),null}function na(){if($i!==null){var t=i0($h),e=Hn.transition,n=Ve;try{if(Hn.transition=null,Ve=16>t?16:t,$i===null)var r=!1;else{if(t=$i,$i=null,$h=0,be&6)throw Error(Q(331));var i=be;for(be|=4,ne=t.current;ne!==null;){var s=ne,o=s.child;if(ne.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(ne=h;ne!==null;){var f=ne;switch(f.tag){case 0:case 11:case 15:zl(8,f,s)}var g=f.child;if(g!==null)g.return=f,ne=g;else for(;ne!==null;){f=ne;var y=f.sibling,P=f.return;if(mT(f),f===h){ne=null;break}if(y!==null){y.return=P,ne=y;break}ne=P}}}var I=s.alternate;if(I!==null){var O=I.child;if(O!==null){I.child=null;do{var k=O.sibling;O.sibling=null,O=k}while(O!==null)}}ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ne=o;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zl(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,ne=S;break e}ne=s.return}}var T=t.current;for(ne=T;ne!==null;){o=ne;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,ne=A;else e:for(o=T;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wd(9,l)}}catch(K){it(l,l.return,K)}if(l===o){ne=null;break e}var U=l.sibling;if(U!==null){U.return=l.return,ne=U;break e}ne=l.return}}if(be=i,hs(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(fd,t)}catch{}r=!0}return r}finally{Ve=n,Hn.transition=e}}return!1}function xv(t,e,n){e=da(n,e),e=iT(t,e,1),t=Qi(t,e,1),e=ln(),t!==null&&(Cu(t,1,e),yn(t,e))}function it(t,e,n){if(t.tag===3)xv(t,t,n);else for(;e!==null;){if(e.tag===3){xv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yi===null||!Yi.has(r))){t=da(n,t),t=sT(e,t,1),e=Qi(e,t,1),t=ln(),e!==null&&(Cu(e,1,t),yn(e,t));break}}e=e.return}}function aP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(Vt&n)===n&&(vt===4||vt===3&&(Vt&130023424)===Vt&&500>lt()-Sg?Ws(t,0):Ig|=n),yn(t,e)}function AT(t,e){e===0&&(t.mode&1?(e=Nc,Nc<<=1,!(Nc&130023424)&&(Nc=4194304)):e=1);var n=ln();t=ri(t,e),t!==null&&(Cu(t,e,n),yn(t,n))}function lP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),AT(t,n)}function uP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),AT(t,n)}var CT;CT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mn=!1,YR(t,e,n);mn=!!(t.flags&131072)}else mn=!1,Ge&&e.flags&1048576&&b0(e,xh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ih(t,e),t=e.pendingProps;var i=la(e,Qt.current);ta(e,n),i=_g(null,e,r,t,i,n);var s=yg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_n(r)?(s=!0,Nh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dg(e),i.updater=Ed,e.stateNode=i,i._reactInternals=e,Wp(e,r,t,n),e=Kp(null,e,r,!0,s,n)):(e.tag=0,Ge&&s&&sg(e),an(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ih(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=hP(r),t=Zn(r,t),i){case 0:e=qp(null,e,r,t,n);break e;case 1:e=Iv(null,e,r,t,n);break e;case 11:e=wv(null,e,r,t,n);break e;case 14:e=Tv(null,e,r,Zn(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),qp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),Iv(t,e,r,i,n);case 3:e:{if(uT(e),t===null)throw Error(Q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,V0(t,e),Vh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=da(Error(Q(423)),e),e=Sv(t,e,r,n,i);break e}else if(r!==i){i=da(Error(Q(424)),e),e=Sv(t,e,r,n,i);break e}else for(Rn=Gi(e.stateNode.containerInfo.firstChild),bn=e,Ge=!0,tr=null,n=D0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ua(),r===i){e=ii(t,e,n);break e}an(t,e,r,n)}e=e.child}return e;case 5:return M0(e),t===null&&Bp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Vp(r,i)?o=null:s!==null&&Vp(r,s)&&(e.flags|=32),lT(t,e),an(t,e,o,n),e.child;case 6:return t===null&&Bp(e),null;case 13:return cT(t,e,n);case 4:return fg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ca(e,null,r,n):an(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),wv(t,e,r,i,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,We(Dh,r._currentValue),r._currentValue=o,s!==null)if(or(s.value,o)){if(s.children===i.children&&!gn.current){e=ii(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Jr(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?c.next=c:(c.next=f.next,f.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),$p(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Q(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$p(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}an(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ta(e,n),i=qn(i),r=r(i),e.flags|=1,an(t,e,r,n),e.child;case 14:return r=e.type,i=Zn(r,e.pendingProps),i=Zn(r.type,i),Tv(t,e,r,i,n);case 15:return oT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),ih(t,e),e.tag=1,_n(r)?(t=!0,Nh(e)):t=!1,ta(e,n),rT(e,r,i),Wp(e,r,i,n),Kp(null,e,r,!0,t,n);case 19:return hT(t,e,n);case 22:return aT(t,e,n)}throw Error(Q(156,e.tag))};function RT(t,e){return e0(t,e)}function cP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(t,e,n,r){return new cP(t,e,n,r)}function Pg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hP(t){if(typeof t=="function")return Pg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Km)return 11;if(t===Gm)return 14}return 2}function Ji(t,e){var n=t.alternate;return n===null?(n=Wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ah(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Pg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Uo:return Hs(n.children,i,s,e);case qm:o=8,i|=8;break;case pp:return t=Wn(12,n,e,i|2),t.elementType=pp,t.lanes=s,t;case mp:return t=Wn(13,n,e,i),t.elementType=mp,t.lanes=s,t;case gp:return t=Wn(19,n,e,i),t.elementType=gp,t.lanes=s,t;case Mw:return Id(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Lw:o=10;break e;case Vw:o=9;break e;case Km:o=11;break e;case Gm:o=14;break e;case xi:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Wn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Hs(t,e,n,r){return t=Wn(7,t,r,e),t.lanes=n,t}function Id(t,e,n,r){return t=Wn(22,t,r,e),t.elementType=Mw,t.lanes=n,t.stateNode={isHidden:!1},t}function Qf(t,e,n){return t=Wn(6,t,null,e),t.lanes=n,t}function Yf(t,e,n){return e=Wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bf(0),this.expirationTimes=bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kg(t,e,n,r,i,s,o,l,c){return t=new dP(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dg(s),t}function fP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PT(t){if(!t)return ss;t=t._reactInternals;e:{if(ao(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(_n(n))return P0(t,n,e)}return e}function kT(t,e,n,r,i,s,o,l,c){return t=kg(n,r,!0,t,i,s,o,l,c),t.context=PT(null),n=t.current,r=ln(),i=Xi(n),s=Jr(r,i),s.callback=e??null,Qi(n,s,i),t.current.lanes=i,Cu(t,i,r),yn(t,r),t}function Sd(t,e,n,r){var i=e.current,s=ln(),o=Xi(i);return n=PT(n),e.context===null?e.context=n:e.pendingContext=n,e=Jr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qi(i,e,o),t!==null&&(rr(t,i,o,s),th(t,i,o)),o}function Wh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bg(t,e){Dv(t,e),(t=t.alternate)&&Dv(t,e)}function pP(){return null}var bT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ng(t){this._internalRoot=t}Ad.prototype.render=Ng.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Sd(t,e,null,null)};Ad.prototype.unmount=Ng.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xs(function(){Sd(null,t,null,null)}),e[ni]=null}};function Ad(t){this._internalRoot=t}Ad.prototype.unstable_scheduleHydration=function(t){if(t){var e=a0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Li.length&&e!==0&&e<Li[n].priority;n++);Li.splice(n,0,t),n===0&&u0(t)}};function Og(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Lv(){}function mP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Wh(o);s.call(h)}}var o=kT(e,r,t,0,null,!1,!1,"",Lv);return t._reactRootContainer=o,t[ni]=o.current,su(t.nodeType===8?t.parentNode:t),Xs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Wh(c);l.call(h)}}var c=kg(t,0,!1,null,null,!1,!1,"",Lv);return t._reactRootContainer=c,t[ni]=c.current,su(t.nodeType===8?t.parentNode:t),Xs(function(){Sd(e,c,n,r)}),c}function Rd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Wh(o);l.call(c)}}Sd(e,o,t,i)}else o=mP(n,e,t,i,r);return Wh(o)}s0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kl(e.pendingLanes);n!==0&&(Xm(e,n|1),yn(e,lt()),!(be&6)&&(fa=lt()+500,hs()))}break;case 13:Xs(function(){var r=ri(t,1);if(r!==null){var i=ln();rr(r,t,1,i)}}),bg(t,1)}};Jm=function(t){if(t.tag===13){var e=ri(t,134217728);if(e!==null){var n=ln();rr(e,t,134217728,n)}bg(t,134217728)}};o0=function(t){if(t.tag===13){var e=Xi(t),n=ri(t,e);if(n!==null){var r=ln();rr(n,t,e,r)}bg(t,e)}};a0=function(){return Ve};l0=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};Cp=function(t,e,n){switch(e){case"input":if(vp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_d(r);if(!i)throw Error(Q(90));Uw(r),vp(r,i)}}}break;case"textarea":Bw(t,n);break;case"select":e=n.value,e!=null&&Xo(t,!!n.multiple,e,!1)}};Gw=Ag;Qw=Xs;var gP={usingClientEntryPoint:!1,Events:[Pu,zo,_d,qw,Kw,Ag]},Sl={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_P={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jw(t),t===null?null:t.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||pP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{fd=$c.inject(_P),Ir=$c}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gP;On.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Og(e))throw Error(Q(200));return fP(t,e,null,n)};On.createRoot=function(t,e){if(!Og(t))throw Error(Q(299));var n=!1,r="",i=bT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=kg(t,1,!1,null,null,n,!1,r,i),t[ni]=e.current,su(t.nodeType===8?t.parentNode:t),new Ng(e)};On.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=Jw(e),t=t===null?null:t.stateNode,t};On.flushSync=function(t){return Xs(t)};On.hydrate=function(t,e,n){if(!Cd(e))throw Error(Q(200));return Rd(null,t,e,!0,n)};On.hydrateRoot=function(t,e,n){if(!Og(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=bT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=kT(e,null,t,1,n??null,i,!1,s,o),t[ni]=e.current,su(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ad(e)};On.render=function(t,e,n){if(!Cd(e))throw Error(Q(200));return Rd(null,t,e,!1,n)};On.unmountComponentAtNode=function(t){if(!Cd(t))throw Error(Q(40));return t._reactRootContainer?(Xs(function(){Rd(null,null,t,!1,function(){t._reactRootContainer=null,t[ni]=null})}),!0):!1};On.unstable_batchedUpdates=Ag;On.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cd(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Rd(t,e,n,!1,r)};On.version="18.3.1-next-f1338f8080-20240426";function NT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NT)}catch(t){console.error(t)}}NT(),Nw.exports=On;var yP=Nw.exports,OT,Vv=yP;OT=Vv.createRoot,Vv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}var zi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zi||(zi={}));const Mv="popstate";function vP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return sm("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Hh(i)}return wP(e,n,null,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EP(){return Math.random().toString(36).substr(2,8)}function Fv(t,e){return{usr:t.state,key:t.key,idx:e}}function sm(t,e,n,r){return n===void 0&&(n=null),pu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ca(e):e,{state:n,key:e&&e.key||r||EP()})}function Hh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ca(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function wP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=zi.Pop,c=null,h=f();h==null&&(h=0,o.replaceState(pu({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function g(){l=zi.Pop;let k=f(),S=k==null?null:k-h;h=k,c&&c({action:l,location:O.location,delta:S})}function y(k,S){l=zi.Push;let T=sm(O.location,k,S);n&&n(T,k),h=f()+1;let A=Fv(T,h),U=O.createHref(T);try{o.pushState(A,"",U)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(U)}s&&c&&c({action:l,location:O.location,delta:1})}function P(k,S){l=zi.Replace;let T=sm(O.location,k,S);n&&n(T,k),h=f();let A=Fv(T,h),U=O.createHref(T);o.replaceState(A,"",U),s&&c&&c({action:l,location:O.location,delta:0})}function I(k){let S=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof k=="string"?k:Hh(k);return T=T.replace(/ $/,"%20"),ut(S,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,S)}let O={get action(){return l},get location(){return t(i,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Mv,g),c=k,()=>{i.removeEventListener(Mv,g),c=null}},createHref(k){return e(i,k)},createURL:I,encodeLocation(k){let S=I(k);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:P,go(k){return o.go(k)}};return O}var Uv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Uv||(Uv={}));function TP(t,e,n){return n===void 0&&(n="/"),IP(t,e,n,!1)}function IP(t,e,n,r){let i=typeof e=="string"?Ca(e):e,s=xg(i.pathname||"/",n);if(s==null)return null;let o=DT(t);SP(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let h=LP(s);l=xP(o[c],h,r)}return l}function DT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ut(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Zi([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(ut(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),DT(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:NP(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of LT(s.path))i(s,o,c)}),e}function LT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=LT(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function SP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:OP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AP=/^:[\w-]+$/,CP=3,RP=2,PP=1,kP=10,bP=-2,jv=t=>t==="*";function NP(t,e){let n=t.split("/"),r=n.length;return n.some(jv)&&(r+=bP),e&&(r+=RP),n.filter(i=>!jv(i)).reduce((i,s)=>i+(AP.test(s)?CP:s===""?PP:kP),r)}function OP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function xP(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],h=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",g=Bv({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},f),y=c.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Bv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:Zi([s,g.pathname]),pathnameBase:UP(Zi([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=Zi([s,g.pathnameBase]))}return o}function Bv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=DP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,f,g)=>{let{paramName:y,isOptional:P}=f;if(y==="*"){let O=l[g]||"";o=s.slice(0,s.length-O.length).replace(/(.)\/+$/,"$1")}const I=l[g];return P&&!I?h[y]=void 0:h[y]=(I||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function DP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function LP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function VP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ca(t):t;return{pathname:n?n.startsWith("/")?n:MP(n,e):e,search:jP(r),hash:BP(i)}}function MP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Xf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dg(t,e){let n=FP(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ca(t):(i=pu({},t),ut(!i.pathname||!i.pathname.includes("?"),Xf("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),Xf("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),Xf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}l=g>=0?e[g]:"/"}let c=VP(i,l),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}const Zi=t=>t.join("/").replace(/\/\/+/g,"/"),UP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $P(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VT=["post","put","patch","delete"];new Set(VT);const zP=["get",...VT];new Set(zP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(this,arguments)}const Vg=W.createContext(null),WP=W.createContext(null),ds=W.createContext(null),Pd=W.createContext(null),hi=W.createContext({outlet:null,matches:[],isDataRoute:!1}),MT=W.createContext(null);function HP(t,e){let{relative:n}=e===void 0?{}:e;Ra()||ut(!1);let{basename:r,navigator:i}=W.useContext(ds),{hash:s,pathname:o,search:l}=jT(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Zi([r,o])),i.createHref({pathname:c,search:l,hash:s})}function Ra(){return W.useContext(Pd)!=null}function Pa(){return Ra()||ut(!1),W.useContext(Pd).location}function FT(t){W.useContext(ds).static||W.useLayoutEffect(t)}function di(){let{isDataRoute:t}=W.useContext(hi);return t?ik():qP()}function qP(){Ra()||ut(!1);let t=W.useContext(Vg),{basename:e,future:n,navigator:r}=W.useContext(ds),{matches:i}=W.useContext(hi),{pathname:s}=Pa(),o=JSON.stringify(Dg(i,n.v7_relativeSplatPath)),l=W.useRef(!1);return FT(()=>{l.current=!0}),W.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let g=Lg(h,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Zi([e,g.pathname])),(f.replace?r.replace:r.push)(g,f.state,f)},[e,r,o,s,t])}function UT(){let{matches:t}=W.useContext(hi),e=t[t.length-1];return e?e.params:{}}function jT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=W.useContext(ds),{matches:i}=W.useContext(hi),{pathname:s}=Pa(),o=JSON.stringify(Dg(i,r.v7_relativeSplatPath));return W.useMemo(()=>Lg(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function KP(t,e){return GP(t,e)}function GP(t,e,n,r){Ra()||ut(!1);let{navigator:i}=W.useContext(ds),{matches:s}=W.useContext(hi),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=Pa(),f;if(e){var g;let k=typeof e=="string"?Ca(e):e;c==="/"||(g=k.pathname)!=null&&g.startsWith(c)||ut(!1),f=k}else f=h;let y=f.pathname||"/",P=y;if(c!=="/"){let k=c.replace(/^\//,"").split("/");P="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let I=TP(t,{pathname:P}),O=ZP(I&&I.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:Zi([c,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:Zi([c,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r);return e&&O?W.createElement(Pd.Provider,{value:{location:mu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:zi.Pop}},O):O}function QP(){let t=rk(),e=$P(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:i},n):null,s)}const YP=W.createElement(QP,null);class XP extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?W.createElement(hi.Provider,{value:this.props.routeContext},W.createElement(MT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JP(t){let{routeContext:e,match:n,children:r}=t,i=W.useContext(Vg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),W.createElement(hi.Provider,{value:e},r)}function ZP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);f>=0||ut(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let g=o[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:y,errors:P}=n,I=g.route.loader&&y[g.route.id]===void 0&&(!P||P[g.route.id]===void 0);if(g.route.lazy||I){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,g,y)=>{let P,I=!1,O=null,k=null;n&&(P=l&&g.route.id?l[g.route.id]:void 0,O=g.route.errorElement||YP,c&&(h<0&&y===0?(sk("route-fallback",!1),I=!0,k=null):h===y&&(I=!0,k=g.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,y+1)),T=()=>{let A;return P?A=O:I?A=k:g.route.Component?A=W.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=f,W.createElement(JP,{match:g,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?W.createElement(XP,{location:n.location,revalidation:n.revalidation,component:O,error:P,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}var BT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(BT||{}),qh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qh||{});function ek(t){let e=W.useContext(Vg);return e||ut(!1),e}function tk(t){let e=W.useContext(WP);return e||ut(!1),e}function nk(t){let e=W.useContext(hi);return e||ut(!1),e}function $T(t){let e=nk(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function rk(){var t;let e=W.useContext(MT),n=tk(qh.UseRouteError),r=$T(qh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ik(){let{router:t}=ek(BT.UseNavigateStable),e=$T(qh.UseNavigateStable),n=W.useRef(!1);return FT(()=>{n.current=!0}),W.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,mu({fromRouteId:e},s)))},[t,e])}const $v={};function sk(t,e,n){!e&&!$v[t]&&($v[t]=!0)}function ok(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function ak(t){let{to:e,replace:n,state:r,relative:i}=t;Ra()||ut(!1);let{future:s,static:o}=W.useContext(ds),{matches:l}=W.useContext(hi),{pathname:c}=Pa(),h=di(),f=Lg(e,Dg(l,s.v7_relativeSplatPath),c,i==="path"),g=JSON.stringify(f);return W.useEffect(()=>h(JSON.parse(g),{replace:n,state:r,relative:i}),[h,g,i,n,r]),null}function Wr(t){ut(!1)}function lk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=zi.Pop,navigator:s,static:o=!1,future:l}=t;Ra()&&ut(!1);let c=e.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:c,navigator:s,static:o,future:mu({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=Ca(r));let{pathname:f="/",search:g="",hash:y="",state:P=null,key:I="default"}=r,O=W.useMemo(()=>{let k=xg(f,c);return k==null?null:{location:{pathname:k,search:g,hash:y,state:P,key:I},navigationType:i}},[c,f,g,y,P,I,i]);return O==null?null:W.createElement(ds.Provider,{value:h},W.createElement(Pd.Provider,{children:n,value:O}))}function uk(t){let{children:e,location:n}=t;return KP(om(e),n)}new Promise(()=>{});function om(t,e){e===void 0&&(e=[]);let n=[];return W.Children.forEach(t,(r,i)=>{if(!W.isValidElement(r))return;let s=[...e,i];if(r.type===W.Fragment){n.push.apply(n,om(r.props.children,s));return}r.type!==Wr&&ut(!1),!r.props.index||!r.props.children||ut(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=om(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(this,arguments)}function ck(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dk(t,e){return t.button===0&&(!e||e==="_self")&&!hk(t)}function lm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function fk(t,e){let n=lm(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const pk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mk="6";try{window.__reactRouterVersion=mk}catch{}const gk="startTransition",zv=fC[gk];function _k(t){let{basename:e,children:n,future:r,window:i}=t,s=W.useRef();s.current==null&&(s.current=vP({window:i,v5Compat:!0}));let o=s.current,[l,c]=W.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},f=W.useCallback(g=>{h&&zv?zv(()=>c(g)):c(g)},[c,h]);return W.useLayoutEffect(()=>o.listen(f),[o,f]),W.useEffect(()=>ok(r),[r]),W.createElement(lk,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const yk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pn=W.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:h,preventScrollReset:f,viewTransition:g}=e,y=ck(e,pk),{basename:P}=W.useContext(ds),I,O=!1;if(typeof h=="string"&&vk.test(h)&&(I=h,yk))try{let A=new URL(window.location.href),U=h.startsWith("//")?new URL(A.protocol+h):new URL(h),K=xg(U.pathname,P);U.origin===A.origin&&K!=null?h=K+U.search+U.hash:O=!0}catch{}let k=HP(h,{relative:i}),S=Ek(h,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:g});function T(A){r&&r(A),A.defaultPrevented||S(A)}return W.createElement("a",am({},y,{href:I||k,onClick:O||s?r:T,ref:n,target:c}))});var Wv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Wv||(Wv={}));var Hv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Hv||(Hv={}));function Ek(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,c=di(),h=Pa(),f=jT(t,{relative:o});return W.useCallback(g=>{if(dk(g,n)){g.preventDefault();let y=r!==void 0?r:Hh(h)===Hh(f);c(t,{replace:y,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[h,c,f,r,i,n,t,s,o,l])}function wk(t){let e=W.useRef(lm(t)),n=W.useRef(!1),r=Pa(),i=W.useMemo(()=>fk(r.search,n.current?null:e.current),[r.search]),s=di(),o=W.useCallback((l,c)=>{const h=lm(typeof l=="function"?l(i):l);n.current=!0,s("?"+h,c)},[s,i]);return[i,o]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Tk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},WT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,f=s>>2,g=(s&3)<<4|l>>4;let y=(l&15)<<2|h>>6,P=h&63;c||(P=64,o||(y=64)),r.push(n[f],n[g],n[y],n[P])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Tk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||g==null)throw new Ik;const y=s<<2|l>>4;if(r.push(y),h!==64){const P=l<<4&240|h>>2;if(r.push(P),g!==64){const I=h<<6&192|g;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ik extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sk=function(t){const e=zT(t);return WT.encodeByteArray(e,!0)},Kh=function(t){return Sk(t).replace(/\./g,"")},HT=function(t){try{return WT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=()=>Ak().__FIREBASE_DEFAULTS__,Rk=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Pk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HT(t[1]);return e&&JSON.parse(e)},kd=()=>{try{return Ck()||Rk()||Pk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qT=t=>{var e,n;return(n=(e=kd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kk=t=>{const e=qT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KT=()=>{var t;return(t=kd())===null||t===void 0?void 0:t.config},GT=t=>{var e;return(e=kd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Kh(JSON.stringify(n)),Kh(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ok(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function xk(){var t;const e=(t=kd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Dk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Vk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Mk(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Fk(){return!xk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Uk(){try{return typeof indexedDB=="object"}catch{return!1}}function jk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="FirebaseError";class fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Bk,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?$k(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new fi(i,l,r)}}function $k(t,e){return t.replace(zk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const zk=/\{\$([^}]+)}/g;function Wk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(qv(s)&&qv(o)){if(!Gh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function qv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ol(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Hk(t,e){const n=new qk(t,e);return n.subscribe.bind(n)}class qk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Kk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jf),i.error===void 0&&(i.error=Jf),i.complete===void 0&&(i.complete=Jf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t){return t&&t._delegate?t._delegate:t}class Js{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yk(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Qk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qk(t){return t===Fs?void 0:t}function Yk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Gk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const Jk={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},Zk=Ce.INFO,eb={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},tb=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=eb[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mg{constructor(e){this.name=e,this._logLevel=Zk,this._logHandler=tb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Jk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const nb=(t,e)=>e.some(n=>t instanceof n);let Kv,Gv;function rb(){return Kv||(Kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ib(){return Gv||(Gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QT=new WeakMap,um=new WeakMap,YT=new WeakMap,Zf=new WeakMap,Fg=new WeakMap;function sb(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(es(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QT.set(n,t)}).catch(()=>{}),Fg.set(e,t),e}function ob(t){if(um.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});um.set(t,e)}let cm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ab(t){cm=t(cm)}function lb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ep(this),e,...n);return YT.set(r,e.sort?e.sort():[e]),es(r)}:ib().includes(t)?function(...e){return t.apply(ep(this),e),es(QT.get(this))}:function(...e){return es(t.apply(ep(this),e))}}function ub(t){return typeof t=="function"?lb(t):(t instanceof IDBTransaction&&ob(t),nb(t,rb())?new Proxy(t,cm):t)}function es(t){if(t instanceof IDBRequest)return sb(t);if(Zf.has(t))return Zf.get(t);const e=ub(t);return e!==t&&(Zf.set(t,e),Fg.set(e,t)),e}const ep=t=>Fg.get(t);function cb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=es(o);return r&&o.addEventListener("upgradeneeded",c=>{r(es(o.result),c.oldVersion,c.newVersion,es(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const hb=["get","getKey","getAll","getAllKeys","count"],db=["put","add","delete","clear"],tp=new Map;function Qv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tp.get(e))return tp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=db.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hb.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&c.done]))[0]};return tp.set(e,s),s}ab(t=>({...t,get:(e,n,r)=>Qv(e,n)||t.get(e,n,r),has:(e,n)=>!!Qv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hm="@firebase/app",Yv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new Mg("@firebase/app"),mb="@firebase/app-compat",gb="@firebase/analytics-compat",_b="@firebase/analytics",yb="@firebase/app-check-compat",vb="@firebase/app-check",Eb="@firebase/auth",wb="@firebase/auth-compat",Tb="@firebase/database",Ib="@firebase/data-connect",Sb="@firebase/database-compat",Ab="@firebase/functions",Cb="@firebase/functions-compat",Rb="@firebase/installations",Pb="@firebase/installations-compat",kb="@firebase/messaging",bb="@firebase/messaging-compat",Nb="@firebase/performance",Ob="@firebase/performance-compat",xb="@firebase/remote-config",Db="@firebase/remote-config-compat",Lb="@firebase/storage",Vb="@firebase/storage-compat",Mb="@firebase/firestore",Fb="@firebase/vertexai-preview",Ub="@firebase/firestore-compat",jb="firebase",Bb="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="[DEFAULT]",$b={[hm]:"fire-core",[mb]:"fire-core-compat",[_b]:"fire-analytics",[gb]:"fire-analytics-compat",[vb]:"fire-app-check",[yb]:"fire-app-check-compat",[Eb]:"fire-auth",[wb]:"fire-auth-compat",[Tb]:"fire-rtdb",[Ib]:"fire-data-connect",[Sb]:"fire-rtdb-compat",[Ab]:"fire-fn",[Cb]:"fire-fn-compat",[Rb]:"fire-iid",[Pb]:"fire-iid-compat",[kb]:"fire-fcm",[bb]:"fire-fcm-compat",[Nb]:"fire-perf",[Ob]:"fire-perf-compat",[xb]:"fire-rc",[Db]:"fire-rc-compat",[Lb]:"fire-gcs",[Vb]:"fire-gcs-compat",[Mb]:"fire-fst",[Ub]:"fire-fst-compat",[Fb]:"fire-vertex","fire-js":"fire-js",[jb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new Map,zb=new Map,fm=new Map;function Xv(t,e){try{t.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pa(t){const e=t.name;if(fm.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,t);for(const n of Qh.values())Xv(n,t);for(const n of zb.values())Xv(n,t);return!0}function Ug(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new bu("app","Firebase",Wb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=Bb;function XT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:dm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ts.create("bad-app-name",{appName:String(i)});if(n||(n=KT()),!n)throw ts.create("no-options");const s=Qh.get(i);if(s){if(Gh(n,s.options)&&Gh(r,s.config))return s;throw ts.create("duplicate-app",{appName:i})}const o=new Xk(i);for(const c of fm.values())o.addComponent(c);const l=new Hb(n,r,o);return Qh.set(i,l),l}function JT(t=dm){const e=Qh.get(t);if(!e&&t===dm&&KT())return XT();if(!e)throw ts.create("no-app",{appName:t});return e}function ns(t,e,n){var r;let i=(r=$b[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(l.join(" "));return}pa(new Js(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firebase-heartbeat-database",Kb=1,gu="firebase-heartbeat-store";let np=null;function ZT(){return np||(np=cb(qb,Kb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ts.create("idb-open",{originalErrorMessage:t.message})})),np}async function Gb(t){try{const n=(await ZT()).transaction(gu),r=await n.objectStore(gu).get(eI(t));return await n.done,r}catch(e){if(e instanceof fi)si.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function Jv(t,e){try{const r=(await ZT()).transaction(gu,"readwrite");await r.objectStore(gu).put(e,eI(t)),await r.done}catch(n){if(n instanceof fi)si.warn(n.message);else{const r=ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(r.message)}}}function eI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=1024,Yb=30*24*60*60*1e3;class Xb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Zv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Yb}),this._storage.overwrite(this._heartbeatsCache))}catch(r){si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zv(),{heartbeatsToSend:r,unsentEntries:i}=Jb(this._heartbeatsCache.heartbeats),s=Kh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return si.warn(n),""}}}function Zv(){return new Date().toISOString().substring(0,10)}function Jb(t,e=Qb){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),eE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),eE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Zb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Uk()?jk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Gb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function eE(t){return Kh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t){pa(new Js("platform-logger",e=>new fb(e),"PRIVATE")),pa(new Js("heartbeat",e=>new Xb(e),"PRIVATE")),ns(hm,Yv,t),ns(hm,Yv,"esm2017"),ns("fire-js","")}eN("");function jg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tN=tI,nI=new bu("auth","Firebase",tI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Mg("@firebase/auth");function nN(t,...e){Yh.logLevel<=Ce.WARN&&Yh.warn(`Auth (${ka}): ${t}`,...e)}function lh(t,...e){Yh.logLevel<=Ce.ERROR&&Yh.error(`Auth (${ka}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t,...e){throw Bg(t,...e)}function Ar(t,...e){return Bg(t,...e)}function rI(t,e,n){const r=Object.assign(Object.assign({},tN()),{[e]:n});return new bu("auth","Firebase",r).create(e,{appName:t.name})}function Zr(t){return rI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nI.create(t,...e)}function ce(t,e,...n){if(!t)throw Bg(e,...n)}function Qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lh(e),new Error(e)}function oi(t,e){t||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rN(){return tE()==="http:"||tE()==="https:"}function tE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rN()||Lk()||"connection"in navigator)?navigator.onLine:!0}function sN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,oi(n>e,"Short delay should be less than long delay!"),this.isMobile=Ok()||Vk()}get(){return iN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t,e){oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new Ou(3e4,6e4);function fs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ps(t,e,n,r,i={}){return sI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Nu(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:c},s);return Dk()||(h.referrerPolicy="no-referrer"),iI.fetch()(oI(t,t.config.apiHost,n,l),h)})}async function sI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},oN),e);try{const i=new uN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw zc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw zc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw zc(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw rI(t,f,h);ar(t,f)}}catch(i){if(i instanceof fi)throw i;ar(t,"network-request-failed",{message:String(i)})}}async function xu(t,e,n,r,i={}){const s=await ps(t,e,n,r,i);return"mfaPendingCredential"in s&&ar(t,"multi-factor-auth-required",{_serverResponse:s}),s}function oI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?$g(t.config,i):`${t.config.apiScheme}://${i}`}function lN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ar(this.auth,"network-request-failed")),aN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ar(t,e,r);return i.customData._tokenResponse=n,i}function nE(t){return t!==void 0&&t.enterprise!==void 0}class cN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function hN(t,e){return ps(t,"GET","/v2/recaptchaConfig",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(t,e){return ps(t,"POST","/v1/accounts:delete",e)}async function aI(t,e){return ps(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fN(t,e=!1){const n=bt(t),r=await n.getIdToken(e),i=zg(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ql(rp(i.auth_time)),issuedAtTime:ql(rp(i.iat)),expirationTime:ql(rp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rp(t){return Number(t)*1e3}function zg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const i=HT(n);return i?JSON.parse(i):(lh("Failed to decode base64 JWT payload"),null)}catch(i){return lh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function rE(t){const e=zg(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fi&&pN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await _u(t,aI(n,{idToken:r}));ce(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?lI(s.providerUserInfo):[],l=_N(t.providerData,o),c=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=c?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new mm(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function gN(t){const e=bt(t);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _N(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lI(t){return t.map(e=>{var{providerId:n}=e,r=jg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(t,e){const n=await sI(t,{},async()=>{const r=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=oI(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",iI.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vN(t,e){return ps(t,"POST","/v2/accounts:revokeToken",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=rE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await yN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ra;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ra,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=jg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new mm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fN(this,e)}reload(){return gN(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(Zr(this.auth));const e=await this.getIdToken();return await _u(this,dN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,h,f;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,P=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,I=(o=n.photoURL)!==null&&o!==void 0?o:void 0,O=(l=n.tenantId)!==null&&l!==void 0?l:void 0,k=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,S=(h=n.createdAt)!==null&&h!==void 0?h:void 0,T=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:A,emailVerified:U,isAnonymous:K,providerData:Y,stsTokenManager:C}=n;ce(A&&C,e,"internal-error");const w=ra.fromJSON(this.name,C);ce(typeof A=="string",e,"internal-error"),Oi(g,e.name),Oi(y,e.name),ce(typeof U=="boolean",e,"internal-error"),ce(typeof K=="boolean",e,"internal-error"),Oi(P,e.name),Oi(I,e.name),Oi(O,e.name),Oi(k,e.name),Oi(S,e.name),Oi(T,e.name);const R=new Yr({uid:A,auth:e,email:y,emailVerified:U,displayName:g,isAnonymous:K,photoURL:I,phoneNumber:P,tenantId:O,stsTokenManager:w,createdAt:S,lastLoginAt:T});return Y&&Array.isArray(Y)&&(R.providerData=Y.map(N=>Object.assign({},N))),k&&(R._redirectEventId=k),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new ra;i.updateFromServerResponse(n);const s=new Yr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ce(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?lI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new ra;l.updateFromIdToken(r);const c=new Yr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new mm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new Map;function Xr(t){oi(t instanceof Function,"Expected a class definition");let e=iE.get(t);return e?(oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uI.type="NONE";const sE=uI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(t,e,n){return`firebase:${t}:${e}:${n}`}class ia{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=uh(this.userKey,i.apiKey,s),this.fullPersistenceKey=uh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ia(Xr(sE),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Xr(sE);const o=uh(r,e.config.apiKey,e.name);let l=null;for(const h of n)try{const f=await h._get(o);if(f){const g=Yr._fromJSON(e,f);h!==s&&(l=g),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new ia(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new ia(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mI(e))return"Blackberry";if(gI(e))return"Webos";if(hI(e))return"Safari";if((e.includes("chrome/")||dI(e))&&!e.includes("edge/"))return"Chrome";if(pI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cI(t=Yt()){return/firefox\//i.test(t)}function hI(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dI(t=Yt()){return/crios\//i.test(t)}function fI(t=Yt()){return/iemobile/i.test(t)}function pI(t=Yt()){return/android/i.test(t)}function mI(t=Yt()){return/blackberry/i.test(t)}function gI(t=Yt()){return/webos/i.test(t)}function Wg(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EN(t=Yt()){var e;return Wg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wN(){return Mk()&&document.documentMode===10}function _I(t=Yt()){return Wg(t)||pI(t)||gI(t)||mI(t)||/windows phone/i.test(t)||fI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t,e=[]){let n;switch(t){case"Browser":n=oE(Yt());break;case"Worker":n=`${oE(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ka}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(t,e={}){return ps(t,"GET","/v2/passwordPolicy",fs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=6;class AN{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:SN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aE(this),this.idTokenSubscription=new aE(this),this.beforeStateQueue=new TN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ia.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await aI(this,{idToken:e}),r=await Yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(Zr(this));const n=e?bt(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IN(this),n=new AN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await vN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await ia.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&nN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function lo(t){return bt(t)}class aE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Hk(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RN(t){bd=t}function vI(t){return bd.loadJS(t)}function PN(){return bd.recaptchaEnterpriseScript}function kN(){return bd.gapiScript}function bN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const NN="recaptcha-enterprise",ON="NO_RECAPTCHA";class xN{constructor(e){this.type=NN,this.auth=lo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{hN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new cN(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;nE(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(ON)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&nE(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=PN();c.length!==0&&(c+=l),vI(c).then(()=>{i(l,s,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function lE(t,e,n,r=!1){const i=new xN(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function gm(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await lE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await lE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t,e){const n=Ug(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Gh(s,e??{}))return i;ar(i,"already-initialized")}return n.initialize({options:e})}function LN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function VN(t,e,n){const r=lo(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=EI(e),{host:o,port:l}=MN(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||FN()}function EI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MN(t){const e=EI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:uE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:uE(o)}}}function uE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}async function UN(t,e){return ps(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(t,e){return xu(t,"POST","/v1/accounts:signInWithPassword",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(t,e){return xu(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))}async function $N(t,e){return xu(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Hg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new yu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gm(e,n,"signInWithPassword",jN);case"emailLink":return BN(e,{email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gm(e,r,"signUpPassword",UN);case"emailLink":return $N(e,{idToken:n,email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(t,e){return xu(t,"POST","/v1/accounts:signInWithIdp",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="http://localhost";class Zs extends Hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=jg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Zs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return sa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,sa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,sa(e,n)}buildRequest(){const e={requestUri:zN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HN(t){const e=Nl(Ol(t)).link,n=e?Nl(Ol(e)).deep_link_id:null,r=Nl(Ol(t)).deep_link_id;return(r?Nl(Ol(r)).link:null)||r||n||e||t}class qg{constructor(e){var n,r,i,s,o,l;const c=Nl(Ol(e)),h=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,g=WN((i=c.mode)!==null&&i!==void 0?i:null);ce(h&&f&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=f,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=HN(e);try{return new qg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.providerId=ba.PROVIDER_ID}static credential(e,n){return yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qg.parseLink(n);return ce(r,"argument-error"),yu._fromEmailAndCode(e,r.code,r.tenantId)}}ba.PROVIDER_ID="password";ba.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ba.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends wI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Du{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fi.credential(n,r)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Du{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Du{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ji.credential(n,r)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(t,e){return xu(t,"POST","/v1/accounts:signUp",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Yr._fromIdTokenResponse(e,r,i),o=cE(r);return new eo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=cE(r);return new eo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function cE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends fi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Jh(e,n,r,i)}}function TI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Jh._fromErrorAndOperation(t,s,e,r):s})}async function KN(t,e,n=!1){const r=await _u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return eo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t,e,n=!1){const{auth:r}=t;if(Tr(r.app))return Promise.reject(Zr(r));const i="reauthenticate";try{const s=await _u(t,TI(r,i,e,t),n);ce(s.idToken,r,"internal-error");const o=zg(s.idToken);ce(o,r,"internal-error");const{sub:l}=o;return ce(t.uid===l,r,"user-mismatch"),eo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ar(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(t,e,n=!1){if(Tr(t.app))return Promise.reject(Zr(t));const r="signIn",i=await TI(t,r,e),s=await eo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function QN(t,e){return II(lo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(t){const e=lo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YN(t,e,n){if(Tr(t.app))return Promise.reject(Zr(t));const r=lo(t),o=await gm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qN).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&SI(t),c}),l=await eo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function XN(t,e,n){return Tr(t.app)?Promise.reject(Zr(t)):QN(bt(t),ba.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&SI(t),r})}function JN(t,e,n,r){return bt(t).onIdTokenChanged(e,n,r)}function ZN(t,e,n){return bt(t).beforeAuthStateChanged(e,n)}function eO(t,e,n,r){return bt(t).onAuthStateChanged(e,n,r)}function tO(t){return bt(t).signOut()}const Zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zh,"1"),this.storage.removeItem(Zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=1e3,rO=10;class CI extends AI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_I(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);wN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,rO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},nO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CI.type="LOCAL";const iO=CI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI extends AI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RI.type="SESSION";const PI=RI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Nd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async h=>h(n.origin,s)),c=await sO(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const h=Kg("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(y.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function aO(t){Cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function lO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cO(){return kI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="firebaseLocalStorageDb",hO=1,ed="firebaseLocalStorage",NI="fbase_key";class Lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Od(t,e){return t.transaction([ed],e?"readwrite":"readonly").objectStore(ed)}function dO(){const t=indexedDB.deleteDatabase(bI);return new Lu(t).toPromise()}function _m(){const t=indexedDB.open(bI,hO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ed,{keyPath:NI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ed)?e(r):(r.close(),await dO(),e(await _m()))})})}async function hE(t,e,n){const r=Od(t,!0).put({[NI]:e,value:n});return new Lu(r).toPromise()}async function fO(t,e){const n=Od(t,!1).get(e),r=await new Lu(n).toPromise();return r===void 0?null:r.value}function dE(t,e){const n=Od(t,!0).delete(e);return new Lu(n).toPromise()}const pO=800,mO=3;class OI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nd._getInstance(cO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await lO(),!this.activeServiceWorker)return;this.sender=new oO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await hE(e,Zh,"1"),await dE(e,Zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Od(i,!1).getAll();return new Lu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OI.type="LOCAL";const gO=OI;new Ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t,e){return e?Xr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg extends Hg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return sa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yO(t){return II(t.auth,new Gg(t),t.bypassAuthState)}function vO(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),GN(n,new Gg(t),t.bypassAuthState)}async function EO(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),KN(n,new Gg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yO;case"linkViaPopup":case"linkViaRedirect":return EO;case"reauthViaPopup":case"reauthViaRedirect":return vO;default:ar(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=new Ou(2e3,1e4);class Yo extends xI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Yo.currentPopupAction&&Yo.currentPopupAction.cancel(),Yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=Kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wO.get())};e()}}Yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="pendingRedirect",ch=new Map;class IO extends xI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const r=await SO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SO(t,e){const n=RO(e),r=CO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function AO(t,e){ch.set(t._key(),e)}function CO(t){return Xr(t._redirectPersistence)}function RO(t){return uh(TO,t.config.apiKey,t.name)}async function PO(t,e,n=!1){if(Tr(t.app))return Promise.reject(Zr(t));const r=lo(t),i=_O(r,e),o=await new IO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=10*60*1e3;class bO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ar(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kO&&this.cachedEventUids.clear(),this.cachedEventUids.has(fE(e))}saveEventToCache(e){this.cachedEventUids.add(fE(e)),this.lastProcessedEventTime=Date.now()}}function fE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(t,e={}){return ps(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DO=/^https?/;async function LO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OO(t);for(const n of e)try{if(VO(n))return}catch{}ar(t,"unauthorized-domain")}function VO(t){const e=pm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!DO.test(n))return!1;if(xO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=new Ou(3e4,6e4);function pE(){const t=Cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FO(t){return new Promise((e,n)=>{var r,i,s;function o(){pE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pE(),n(Ar(t,"network-request-failed"))},timeout:MO.get()})}if(!((i=(r=Cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Cr().gapi)===null||s===void 0)&&s.load)o();else{const l=bN("iframefcb");return Cr()[l]=()=>{gapi.load?o():n(Ar(t,"network-request-failed"))},vI(`${kN()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw hh=null,e})}let hh=null;function UO(t){return hh=hh||FO(t),hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new Ou(5e3,15e3),BO="__/auth/iframe",$O="emulator/auth/iframe",zO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HO(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$g(e,$O):`https://${t.config.authDomain}/${BO}`,r={apiKey:e.apiKey,appName:t.name,v:ka},i=WO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Nu(r).slice(1)}`}async function qO(t){const e=await UO(t),n=Cr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:HO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ar(t,"network-request-failed"),l=Cr().setTimeout(()=>{s(o)},jO.get());function c(){Cr().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GO=500,QO=600,YO="_blank",XO="http://localhost";class mE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JO(t,e,n,r=GO,i=QO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},KO),{width:r.toString(),height:i.toString(),top:s,left:o}),h=Yt().toLowerCase();n&&(l=dI(h)?YO:n),cI(h)&&(e=e||XO,c.scrollbars="yes");const f=Object.entries(c).reduce((y,[P,I])=>`${y}${P}=${I},`,"");if(EN(h)&&l!=="_self")return ZO(e||"",l),new mE(null);const g=window.open(e||"",l,f);ce(g,t,"popup-blocked");try{g.focus()}catch{}return new mE(g)}function ZO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="__/auth/handler",tx="emulator/auth/handler",nx=encodeURIComponent("fac");async function gE(t,e,n,r,i,s){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ka,eventId:i};if(e instanceof wI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Wk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof Du){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),h=c?`#${nx}=${encodeURIComponent(c)}`:"";return`${rx(t)}?${Nu(l).slice(1)}${h}`}function rx({config:t}){return t.emulator?$g(t,tx):`https://${t.authDomain}/${ex}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="webStorageSupport";class ix{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PI,this._completeRedirectFn=PO,this._overrideRedirectResult=AO}async _openPopup(e,n,r,i){var s;oi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await gE(e,n,r,pm(),i);return JO(e,o,Kg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await gE(e,n,r,pm(),i);return aO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(oi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await qO(e),r=new bO(e);return n.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ip,{type:ip},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ip];o!==void 0&&n(!!o),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _I()||hI()||Wg()}}const sx=ix;var _E="@firebase/auth",yE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lx(t){pa(new Js("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yI(t)},h=new CN(r,i,s,c);return LN(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pa(new Js("auth-internal",e=>{const n=lo(e.getProvider("auth").getImmediate());return(r=>new ox(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(_E,yE,ax(t)),ns(_E,yE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=5*60,cx=GT("authIdTokenMaxAge")||ux;let vE=null;const hx=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cx)return;const i=n==null?void 0:n.token;vE!==i&&(vE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function dx(t=JT()){const e=Ug(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DN(t,{popupRedirectResolver:sx,persistence:[gO,iO,PI]}),r=GT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=hx(s.toString());ZN(n,o,()=>o(n.currentUser)),JN(n,l=>o(l))}}const i=qT("auth");return i&&VN(n,`http://${i}`),n}function fx(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}RN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ar("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",fx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lx("Browser");var px="firebase",mx="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns(px,mx,"app");var EE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qs,LI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,w){function R(){}R.prototype=w.prototype,C.D=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(N,D,F){for(var b=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)b[Qe-2]=arguments[Qe];return w.prototype[D].apply(N,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,w,R){R||(R=0);var N=Array(16);if(typeof w=="string")for(var D=0;16>D;++D)N[D]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(D=0;16>D;++D)N[D]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],D=C.g[2];var F=C.g[3],b=w+(F^R&(D^F))+N[0]+3614090360&4294967295;w=R+(b<<7&4294967295|b>>>25),b=F+(D^w&(R^D))+N[1]+3905402710&4294967295,F=w+(b<<12&4294967295|b>>>20),b=D+(R^F&(w^R))+N[2]+606105819&4294967295,D=F+(b<<17&4294967295|b>>>15),b=R+(w^D&(F^w))+N[3]+3250441966&4294967295,R=D+(b<<22&4294967295|b>>>10),b=w+(F^R&(D^F))+N[4]+4118548399&4294967295,w=R+(b<<7&4294967295|b>>>25),b=F+(D^w&(R^D))+N[5]+1200080426&4294967295,F=w+(b<<12&4294967295|b>>>20),b=D+(R^F&(w^R))+N[6]+2821735955&4294967295,D=F+(b<<17&4294967295|b>>>15),b=R+(w^D&(F^w))+N[7]+4249261313&4294967295,R=D+(b<<22&4294967295|b>>>10),b=w+(F^R&(D^F))+N[8]+1770035416&4294967295,w=R+(b<<7&4294967295|b>>>25),b=F+(D^w&(R^D))+N[9]+2336552879&4294967295,F=w+(b<<12&4294967295|b>>>20),b=D+(R^F&(w^R))+N[10]+4294925233&4294967295,D=F+(b<<17&4294967295|b>>>15),b=R+(w^D&(F^w))+N[11]+2304563134&4294967295,R=D+(b<<22&4294967295|b>>>10),b=w+(F^R&(D^F))+N[12]+1804603682&4294967295,w=R+(b<<7&4294967295|b>>>25),b=F+(D^w&(R^D))+N[13]+4254626195&4294967295,F=w+(b<<12&4294967295|b>>>20),b=D+(R^F&(w^R))+N[14]+2792965006&4294967295,D=F+(b<<17&4294967295|b>>>15),b=R+(w^D&(F^w))+N[15]+1236535329&4294967295,R=D+(b<<22&4294967295|b>>>10),b=w+(D^F&(R^D))+N[1]+4129170786&4294967295,w=R+(b<<5&4294967295|b>>>27),b=F+(R^D&(w^R))+N[6]+3225465664&4294967295,F=w+(b<<9&4294967295|b>>>23),b=D+(w^R&(F^w))+N[11]+643717713&4294967295,D=F+(b<<14&4294967295|b>>>18),b=R+(F^w&(D^F))+N[0]+3921069994&4294967295,R=D+(b<<20&4294967295|b>>>12),b=w+(D^F&(R^D))+N[5]+3593408605&4294967295,w=R+(b<<5&4294967295|b>>>27),b=F+(R^D&(w^R))+N[10]+38016083&4294967295,F=w+(b<<9&4294967295|b>>>23),b=D+(w^R&(F^w))+N[15]+3634488961&4294967295,D=F+(b<<14&4294967295|b>>>18),b=R+(F^w&(D^F))+N[4]+3889429448&4294967295,R=D+(b<<20&4294967295|b>>>12),b=w+(D^F&(R^D))+N[9]+568446438&4294967295,w=R+(b<<5&4294967295|b>>>27),b=F+(R^D&(w^R))+N[14]+3275163606&4294967295,F=w+(b<<9&4294967295|b>>>23),b=D+(w^R&(F^w))+N[3]+4107603335&4294967295,D=F+(b<<14&4294967295|b>>>18),b=R+(F^w&(D^F))+N[8]+1163531501&4294967295,R=D+(b<<20&4294967295|b>>>12),b=w+(D^F&(R^D))+N[13]+2850285829&4294967295,w=R+(b<<5&4294967295|b>>>27),b=F+(R^D&(w^R))+N[2]+4243563512&4294967295,F=w+(b<<9&4294967295|b>>>23),b=D+(w^R&(F^w))+N[7]+1735328473&4294967295,D=F+(b<<14&4294967295|b>>>18),b=R+(F^w&(D^F))+N[12]+2368359562&4294967295,R=D+(b<<20&4294967295|b>>>12),b=w+(R^D^F)+N[5]+4294588738&4294967295,w=R+(b<<4&4294967295|b>>>28),b=F+(w^R^D)+N[8]+2272392833&4294967295,F=w+(b<<11&4294967295|b>>>21),b=D+(F^w^R)+N[11]+1839030562&4294967295,D=F+(b<<16&4294967295|b>>>16),b=R+(D^F^w)+N[14]+4259657740&4294967295,R=D+(b<<23&4294967295|b>>>9),b=w+(R^D^F)+N[1]+2763975236&4294967295,w=R+(b<<4&4294967295|b>>>28),b=F+(w^R^D)+N[4]+1272893353&4294967295,F=w+(b<<11&4294967295|b>>>21),b=D+(F^w^R)+N[7]+4139469664&4294967295,D=F+(b<<16&4294967295|b>>>16),b=R+(D^F^w)+N[10]+3200236656&4294967295,R=D+(b<<23&4294967295|b>>>9),b=w+(R^D^F)+N[13]+681279174&4294967295,w=R+(b<<4&4294967295|b>>>28),b=F+(w^R^D)+N[0]+3936430074&4294967295,F=w+(b<<11&4294967295|b>>>21),b=D+(F^w^R)+N[3]+3572445317&4294967295,D=F+(b<<16&4294967295|b>>>16),b=R+(D^F^w)+N[6]+76029189&4294967295,R=D+(b<<23&4294967295|b>>>9),b=w+(R^D^F)+N[9]+3654602809&4294967295,w=R+(b<<4&4294967295|b>>>28),b=F+(w^R^D)+N[12]+3873151461&4294967295,F=w+(b<<11&4294967295|b>>>21),b=D+(F^w^R)+N[15]+530742520&4294967295,D=F+(b<<16&4294967295|b>>>16),b=R+(D^F^w)+N[2]+3299628645&4294967295,R=D+(b<<23&4294967295|b>>>9),b=w+(D^(R|~F))+N[0]+4096336452&4294967295,w=R+(b<<6&4294967295|b>>>26),b=F+(R^(w|~D))+N[7]+1126891415&4294967295,F=w+(b<<10&4294967295|b>>>22),b=D+(w^(F|~R))+N[14]+2878612391&4294967295,D=F+(b<<15&4294967295|b>>>17),b=R+(F^(D|~w))+N[5]+4237533241&4294967295,R=D+(b<<21&4294967295|b>>>11),b=w+(D^(R|~F))+N[12]+1700485571&4294967295,w=R+(b<<6&4294967295|b>>>26),b=F+(R^(w|~D))+N[3]+2399980690&4294967295,F=w+(b<<10&4294967295|b>>>22),b=D+(w^(F|~R))+N[10]+4293915773&4294967295,D=F+(b<<15&4294967295|b>>>17),b=R+(F^(D|~w))+N[1]+2240044497&4294967295,R=D+(b<<21&4294967295|b>>>11),b=w+(D^(R|~F))+N[8]+1873313359&4294967295,w=R+(b<<6&4294967295|b>>>26),b=F+(R^(w|~D))+N[15]+4264355552&4294967295,F=w+(b<<10&4294967295|b>>>22),b=D+(w^(F|~R))+N[6]+2734768916&4294967295,D=F+(b<<15&4294967295|b>>>17),b=R+(F^(D|~w))+N[13]+1309151649&4294967295,R=D+(b<<21&4294967295|b>>>11),b=w+(D^(R|~F))+N[4]+4149444226&4294967295,w=R+(b<<6&4294967295|b>>>26),b=F+(R^(w|~D))+N[11]+3174756917&4294967295,F=w+(b<<10&4294967295|b>>>22),b=D+(w^(F|~R))+N[2]+718787259&4294967295,D=F+(b<<15&4294967295|b>>>17),b=R+(F^(D|~w))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(D+(b<<21&4294967295|b>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+F&4294967295}r.prototype.u=function(C,w){w===void 0&&(w=C.length);for(var R=w-this.blockSize,N=this.B,D=this.h,F=0;F<w;){if(D==0)for(;F<=R;)i(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<w;)if(N[D++]=C.charCodeAt(F++),D==this.blockSize){i(this,N),D=0;break}}else for(;F<w;)if(N[D++]=C[F++],D==this.blockSize){i(this,N),D=0;break}}this.h=D,this.o+=w},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;var R=8*this.o;for(w=C.length-8;w<C.length;++w)C[w]=R&255,R/=256;for(this.u(C),C=Array(16),w=R=0;4>w;++w)for(var N=0;32>N;N+=8)C[R++]=this.g[w]>>>N&255;return C};function s(C,w){var R=l;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function o(C,w){this.h=w;for(var R=[],N=!0,D=C.length-1;0<=D;D--){var F=C[D]|0;N&&F==w||(R[D]=F,N=!1)}this.g=R}var l={};function c(C){return-128<=C&&128>C?s(C,function(w){return new o([w|0],0>w?-1:0)}):new o([C|0],0>C?-1:0)}function h(C){if(isNaN(C)||!isFinite(C))return g;if(0>C)return k(h(-C));for(var w=[],R=1,N=0;C>=R;N++)w[N]=C/R|0,R*=4294967296;return new o(w,0)}function f(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return k(f(C.substring(1),w));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=h(Math.pow(w,8)),N=g,D=0;D<C.length;D+=8){var F=Math.min(8,C.length-D),b=parseInt(C.substring(D,D+F),w);8>F?(F=h(Math.pow(w,F)),N=N.j(F).add(h(b))):(N=N.j(R),N=N.add(h(b)))}return N}var g=c(0),y=c(1),P=c(16777216);t=o.prototype,t.m=function(){if(O(this))return-k(this).m();for(var C=0,w=1,R=0;R<this.g.length;R++){var N=this.i(R);C+=(0<=N?N:4294967296+N)*w,w*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I(this))return"0";if(O(this))return"-"+k(this).toString(C);for(var w=h(Math.pow(C,6)),R=this,N="";;){var D=U(R,w).g;R=S(R,D.j(w));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=D,I(R))return F+N;for(;6>F.length;)F="0"+F;N=F+N}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function I(C){if(C.h!=0)return!1;for(var w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function O(C){return C.h==-1}t.l=function(C){return C=S(this,C),O(C)?-1:I(C)?0:1};function k(C){for(var w=C.g.length,R=[],N=0;N<w;N++)R[N]=~C.g[N];return new o(R,~C.h).add(y)}t.abs=function(){return O(this)?k(this):this},t.add=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],N=0,D=0;D<=w;D++){var F=N+(this.i(D)&65535)+(C.i(D)&65535),b=(F>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);N=b>>>16,F&=65535,b&=65535,R[D]=b<<16|F}return new o(R,R[R.length-1]&-2147483648?-1:0)};function S(C,w){return C.add(k(w))}t.j=function(C){if(I(this)||I(C))return g;if(O(this))return O(C)?k(this).j(k(C)):k(k(this).j(C));if(O(C))return k(this.j(k(C)));if(0>this.l(P)&&0>C.l(P))return h(this.m()*C.m());for(var w=this.g.length+C.g.length,R=[],N=0;N<2*w;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var D=0;D<C.g.length;D++){var F=this.i(N)>>>16,b=this.i(N)&65535,Qe=C.i(D)>>>16,wn=C.i(D)&65535;R[2*N+2*D]+=b*wn,T(R,2*N+2*D),R[2*N+2*D+1]+=F*wn,T(R,2*N+2*D+1),R[2*N+2*D+1]+=b*Qe,T(R,2*N+2*D+1),R[2*N+2*D+2]+=F*Qe,T(R,2*N+2*D+2)}for(N=0;N<w;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=w;N<2*w;N++)R[N]=0;return new o(R,0)};function T(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function A(C,w){this.g=C,this.h=w}function U(C,w){if(I(w))throw Error("division by zero");if(I(C))return new A(g,g);if(O(C))return w=U(k(C),w),new A(k(w.g),k(w.h));if(O(w))return w=U(C,k(w)),new A(k(w.g),w.h);if(30<C.g.length){if(O(C)||O(w))throw Error("slowDivide_ only works with positive integers.");for(var R=y,N=w;0>=N.l(C);)R=K(R),N=K(N);var D=Y(R,1),F=Y(N,1);for(N=Y(N,2),R=Y(R,2);!I(N);){var b=F.add(N);0>=b.l(C)&&(D=D.add(R),F=b),N=Y(N,1),R=Y(R,1)}return w=S(C,D.j(w)),new A(D,w)}for(D=g;0<=C.l(w);){for(R=Math.max(1,Math.floor(C.m()/w.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),F=h(R),b=F.j(w);O(b)||0<b.l(C);)R-=N,F=h(R),b=F.j(w);I(F)&&(F=y),D=D.add(F),C=S(C,b)}return new A(D,C)}t.A=function(C){return U(this,C).h},t.and=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)&C.i(N);return new o(R,this.h&C.h)},t.or=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)|C.i(N);return new o(R,this.h|C.h)},t.xor=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)^C.i(N);return new o(R,this.h^C.h)};function K(C){for(var w=C.g.length+1,R=[],N=0;N<w;N++)R[N]=C.i(N)<<1|C.i(N-1)>>>31;return new o(R,C.h)}function Y(C,w){var R=w>>5;w%=32;for(var N=C.g.length-R,D=[],F=0;F<N;F++)D[F]=0<w?C.i(F+R)>>>w|C.i(F+R+1)<<32-w:C.i(F+R);return new o(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,qs=o}).apply(typeof EE<"u"?EE:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VI,xl,MI,dh,ym,FI,UI,jI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,m){return a==Array.prototype||a==Object.prototype||(a[d]=m.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var d=0;d<a.length;++d){var m=a[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var m=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var M=a[v];if(!(M in m))break e;m=m[M]}a=a[a.length-1],v=m[a],d=d(v),d!=v&&d!=null&&e(m,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var m=0,v=!1,M={next:function(){if(!v&&m<a.length){var B=m++;return{value:d(B,a[B]),done:!1}}return v=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function h(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,m){return a.call.apply(a.bind,arguments)}function g(a,d,m){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,v),a.apply(d,M)}}return function(){return a.apply(d,arguments)}}function y(a,d,m){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,y.apply(null,arguments)}function P(a,d){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function I(a,d){function m(){}m.prototype=d.prototype,a.aa=d.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(v,M,B){for(var J=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)J[xe-2]=arguments[xe];return d.prototype[M].apply(v,J)}}function O(a){const d=a.length;if(0<d){const m=Array(d);for(let v=0;v<d;v++)m[v]=a[v];return m}return[]}function k(a,d){for(let m=1;m<arguments.length;m++){const v=arguments[m];if(c(v)){const M=a.length||0,B=v.length||0;a.length=M+B;for(let J=0;J<B;J++)a[M+J]=v[J]}else a.push(v)}}class S{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function T(a){return/^[\s\xa0]*$/.test(a)}function A(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function U(a){return U[" "](a),a}U[" "]=function(){};var K=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function Y(a,d,m){for(const v in a)d.call(m,a[v],v,a)}function C(a,d){for(const m in a)d.call(void 0,a[m],m,a)}function w(a){const d={};for(const m in a)d[m]=a[m];return d}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(a,d){let m,v;for(let M=1;M<arguments.length;M++){v=arguments[M];for(m in v)a[m]=v[m];for(let B=0;B<R.length;B++)m=R[B],Object.prototype.hasOwnProperty.call(v,m)&&(a[m]=v[m])}}function D(a){var d=1;a=a.split(":");const m=[];for(;0<d&&a.length;)m.push(a.shift()),d--;return a.length&&m.push(a.join(":")),m}function F(a){l.setTimeout(()=>{throw a},0)}function b(){var a=le;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Qe{constructor(){this.h=this.g=null}add(d,m){const v=wn.get();v.set(d,m),this.h?this.h.next=v:this.g=v,this.h=v}}var wn=new S(()=>new pt,a=>a.reset());class pt{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Xt,X=!1,le=new Qe,he=()=>{const a=l.Promise.resolve(void 0);Xt=()=>{a.then(z)}};var z=()=>{for(var a;a=b();){try{a.h.call(a.g)}catch(m){F(m)}var d=wn;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}X=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Fe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Fe.prototype.h=function(){this.defaultPrevented=!0};var wt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};l.addEventListener("test",m,d),l.removeEventListener("test",m,d)}catch{}return a}();function et(a,d){if(Fe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(K){e:{try{U(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else m=="mouseover"?d=a.fromElement:m=="mouseout"&&(d=a.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Jt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&et.aa.h.call(this)}}I(et,Fe);var Jt={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var tt="closure_listenable_"+(1e6*Math.random()|0),Fa=0;function oe(a,d,m,v,M){this.listener=a,this.proxy=null,this.src=d,this.type=m,this.capture=!!v,this.ha=M,this.key=++Fa,this.da=this.fa=!1}function Nr(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function gs(a){this.src=a,this.g={},this.h=0}gs.prototype.add=function(a,d,m,v,M){var B=a.toString();a=this.g[B],a||(a=this.g[B]=[],this.h++);var J=ja(a,d,v,M);return-1<J?(d=a[J],m||(d.fa=!1)):(d=new oe(d,this.src,B,!!v,M),d.fa=m,a.push(d)),d};function Ua(a,d){var m=d.type;if(m in a.g){var v=a.g[m],M=Array.prototype.indexOf.call(v,d,void 0),B;(B=0<=M)&&Array.prototype.splice.call(v,M,1),B&&(Nr(d),a.g[m].length==0&&(delete a.g[m],a.h--))}}function ja(a,d,m,v){for(var M=0;M<a.length;++M){var B=a[M];if(!B.da&&B.listener==d&&B.capture==!!m&&B.ha==v)return M}return-1}var Or="closure_lm_"+(1e6*Math.random()|0),ho={};function pi(a,d,m,v,M){if(v&&v.once)return Ku(a,d,m,v,M);if(Array.isArray(d)){for(var B=0;B<d.length;B++)pi(a,d[B],m,v,M);return null}return m=Dn(m),a&&a[tt]?a.K(d,m,h(v)?!!v.capture:!!v,M):xr(a,d,m,!1,v,M)}function xr(a,d,m,v,M,B){if(!d)throw Error("Invalid event type");var J=h(M)?!!M.capture:!!M,xe=$a(a);if(xe||(a[Or]=xe=new gs(a)),m=xe.add(d,m,v,J,B),m.proxy)return m;if(v=tf(),m.proxy=v,v.src=a,v.listener=m,a.addEventListener)wt||(M=J),M===void 0&&(M=!1),a.addEventListener(d.toString(),v,M);else if(a.attachEvent)a.attachEvent(Qu(d.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function tf(){function a(m){return d.call(a.src,a.listener,m)}const d=nf;return a}function Ku(a,d,m,v,M){if(Array.isArray(d)){for(var B=0;B<d.length;B++)Ku(a,d[B],m,v,M);return null}return m=Dn(m),a&&a[tt]?a.L(d,m,h(v)?!!v.capture:!!v,M):xr(a,d,m,!0,v,M)}function Gu(a,d,m,v,M){if(Array.isArray(d))for(var B=0;B<d.length;B++)Gu(a,d[B],m,v,M);else v=h(v)?!!v.capture:!!v,m=Dn(m),a&&a[tt]?(a=a.i,d=String(d).toString(),d in a.g&&(B=a.g[d],m=ja(B,m,v,M),-1<m&&(Nr(B[m]),Array.prototype.splice.call(B,m,1),B.length==0&&(delete a.g[d],a.h--)))):a&&(a=$a(a))&&(d=a.g[d.toString()],a=-1,d&&(a=ja(d,m,v,M)),(m=-1<a?d[a]:null)&&Ba(m))}function Ba(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[tt])Ua(d.i,a);else{var m=a.type,v=a.proxy;d.removeEventListener?d.removeEventListener(m,v,a.capture):d.detachEvent?d.detachEvent(Qu(m),v):d.addListener&&d.removeListener&&d.removeListener(v),(m=$a(d))?(Ua(m,a),m.h==0&&(m.src=null,d[Or]=null)):Nr(a)}}}function Qu(a){return a in ho?ho[a]:ho[a]="on"+a}function nf(a,d){if(a.da)a=!0;else{d=new et(d,this);var m=a.listener,v=a.ha||a.src;a.fa&&Ba(a),a=m.call(v,d)}return a}function $a(a){return a=a[Or],a instanceof gs?a:null}var mi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dn(a){return typeof a=="function"?a:(a[mi]||(a[mi]=function(d){return a.handleEvent(d)}),a[mi])}function mt(){we.call(this),this.i=new gs(this),this.M=this,this.F=null}I(mt,we),mt.prototype[tt]=!0,mt.prototype.removeEventListener=function(a,d,m,v){Gu(this,a,d,m,v)};function Nt(a,d){var m,v=a.F;if(v)for(m=[];v;v=v.F)m.push(v);if(a=a.M,v=d.type||d,typeof d=="string")d=new Fe(d,a);else if(d instanceof Fe)d.target=d.target||a;else{var M=d;d=new Fe(v,a),N(d,M)}if(M=!0,m)for(var B=m.length-1;0<=B;B--){var J=d.g=m[B];M=fo(J,v,!0,d)&&M}if(J=d.g=a,M=fo(J,v,!0,d)&&M,M=fo(J,v,!1,d)&&M,m)for(B=0;B<m.length;B++)J=d.g=m[B],M=fo(J,v,!1,d)&&M}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var m=a.g[d],v=0;v<m.length;v++)Nr(m[v]);delete a.g[d],a.h--}}this.F=null},mt.prototype.K=function(a,d,m,v){return this.i.add(String(a),d,!1,m,v)},mt.prototype.L=function(a,d,m,v){return this.i.add(String(a),d,!0,m,v)};function fo(a,d,m,v){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,B=0;B<d.length;++B){var J=d[B];if(J&&!J.da&&J.capture==m){var xe=J.listener,_t=J.ha||J.src;J.fa&&Ua(a.i,J),M=xe.call(_t,v)!==!1&&M}}return M&&!v.defaultPrevented}function gi(a,d,m){if(typeof a=="function")m&&(a=y(a,m));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function Dr(a){a.g=gi(()=>{a.g=null,a.i&&(a.i=!1,Dr(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class _i extends we{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Dr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cr(a){we.call(this),this.h=a,this.g={}}I(cr,we);var Yu=[];function po(a){Y(a.g,function(d,m){this.g.hasOwnProperty(m)&&Ba(d)},a),a.g={}}cr.prototype.N=function(){cr.aa.N.call(this),po(this)},cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var za=l.JSON.stringify,rf=l.JSON.parse,sf=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Wa(){}Wa.prototype.h=null;function Xu(a){return a.h||(a.h=a.i())}function Ju(){}var yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){Fe.call(this,"d")}I(vi,Fe);function mo(){Fe.call(this,"c")}I(mo,Fe);var hr={},Zu=null;function go(){return Zu=Zu||new mt}hr.La="serverreachability";function ec(a){Fe.call(this,hr.La,a)}I(ec,Fe);function _s(a){const d=go();Nt(d,new ec(d))}hr.STAT_EVENT="statevent";function Lr(a,d){Fe.call(this,hr.STAT_EVENT,a),this.stat=d}I(Lr,Fe);function st(a){const d=go();Nt(d,new Lr(d,a))}hr.Ma="timingevent";function tc(a,d){Fe.call(this,hr.Ma,a),this.size=d}I(tc,Fe);function ys(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function vs(){this.g=!0}vs.prototype.xa=function(){this.g=!1};function of(a,d,m,v,M,B){a.info(function(){if(a.g)if(B)for(var J="",xe=B.split("&"),_t=0;_t<xe.length;_t++){var Re=xe[_t].split("=");if(1<Re.length){var It=Re[0];Re=Re[1];var St=It.split("_");J=2<=St.length&&St[1]=="type"?J+(It+"="+Re+"&"):J+(It+"=redacted&")}}else J=null;else J=B;return"XMLHTTP REQ ("+v+") [attempt "+M+"]: "+d+`
`+m+`
`+J})}function af(a,d,m,v,M,B,J){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+M+"]: "+d+`
`+m+`
`+B+" "+J})}function dr(a,d,m,v){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+_o(a,m)+(v?" "+v:"")})}function Ei(a,d){a.info(function(){return"TIMEOUT: "+d})}vs.prototype.info=function(){};function _o(a,d){if(!a.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var v=m[a];if(!(2>v.length)){var M=v[1];if(Array.isArray(M)&&!(1>M.length)){var B=M[0];if(B!="noop"&&B!="stop"&&B!="close")for(var J=1;J<M.length;J++)M[J]=""}}}}return za(m)}catch{return d}}var yo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ha;function Eo(){}I(Eo,Wa),Eo.prototype.g=function(){return new XMLHttpRequest},Eo.prototype.i=function(){return{}},Ha=new Eo;function Zt(a,d,m,v){this.j=a,this.i=d,this.l=m,this.R=v||1,this.U=new cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tt}function Tt(){this.i=null,this.g="",this.h=!1}var jt={},Ot={};function gt(a,d,m){a.L=1,a.v=Fr(nt(d)),a.m=m,a.P=!0,Es(a,null)}function Es(a,d){a.F=Date.now(),Gn(a),a.A=nt(a.v);var m=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),Io(m.i,"t",v),a.C=0,m=a.j.J,a.h=new Tt,a.g=mc(a.j,m?d:null,!a.m),0<a.O&&(a.M=new _i(y(a.Y,a,a.g),a.O)),d=a.U,m=a.g,v=a.ca;var M="readystatechange";Array.isArray(M)||(M&&(Yu[0]=M.toString()),M=Yu);for(var B=0;B<M.length;B++){var J=pi(m,M[B],v||d.handleEvent,!1,d.h||d);if(!J)break;d.g[J.key]=J}d=a.H?w(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),_s(),of(a.i,a.u,a.A,a.l,a.R,a.m)}Zt.prototype.ca=function(a){a=a.target;const d=this.M;d&&Bt(a)==3?d.j():this.Y(a)},Zt.prototype.Y=function(a){try{if(a==this.g)e:{const St=Bt(this.g);var d=this.g.Ba();const At=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||hc(this.g)))){this.J||St!=4||d==7||(d==8||0>=At?_s(3):_s(2)),ws(this);var m=this.g.Z();this.X=m;t:if(Vr(this)){var v=hc(this.g);a="";var M=v.length,B=Bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fr(this),Ln(this);var J="";break t}this.h.i=new l.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,a+=this.h.i.decode(v[d],{stream:!(B&&d==M-1)});v.length=0,this.h.g+=a,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=m==200,af(this.i,this.u,this.A,this.l,this.R,St,m),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,_t=this.g;if((xe=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(xe)){var Re=xe;break t}}Re=null}if(m=Re)dr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ts(this,m);else{this.o=!1,this.s=3,st(12),fr(this),Ln(this);break e}}if(this.P){m=!0;let dn;for(;!this.J&&this.C<J.length;)if(dn=Mr(this,J),dn==Ot){St==4&&(this.s=4,st(14),m=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==jt){this.s=4,st(15),dr(this.i,this.l,J,"[Invalid Chunk]"),m=!1;break}else dr(this.i,this.l,dn,null),Ts(this,dn);if(Vr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||J.length!=0||this.h.h||(this.s=1,st(16),m=!1),this.o=this.o&&m,!m)dr(this.i,this.l,J,"[Invalid Chunked Response]"),fr(this),Ln(this);else if(0<J.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),ul(It),It.M=!0,st(11))}}else dr(this.i,this.l,J,null),Ts(this,J);St==4&&fr(this),this.o&&!this.J&&(St==4?cl(this.j,this):(this.o=!1,Gn(this)))}else dc(this.g),m==400&&0<J.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),fr(this),Ln(this)}}}catch{}finally{}};function Vr(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Mr(a,d){var m=a.C,v=d.indexOf(`
`,m);return v==-1?Ot:(m=Number(d.substring(m,v)),isNaN(m)?jt:(v+=1,v+m>d.length?Ot:(d=d.slice(v,v+m),a.C=v+m,d)))}Zt.prototype.cancel=function(){this.J=!0,fr(this)};function Gn(a){a.S=Date.now()+a.I,qa(a,a.I)}function qa(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ys(y(a.ba,a),d)}function ws(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Zt.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Ei(this.i,this.A),this.L!=2&&(_s(),st(17)),fr(this),this.s=2,Ln(this)):qa(this,this.S-a)};function Ln(a){a.j.G==0||a.J||cl(a.j,a)}function fr(a){ws(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,po(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Ts(a,d){try{var m=a.j;if(m.G!=0&&(m.g==a||wo(m.h,a))){if(!a.K&&wo(m.h,a)&&m.G==3){try{var v=m.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var M=v;if(M[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)Ps(m),As(m);else break e;ll(m),st(18)}}else m.za=M[1],0<m.za-m.T&&37500>M[2]&&m.F&&m.v==0&&!m.C&&(m.C=ys(y(m.Za,m),6e3));if(1>=Ya(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Yn(m,11)}else if((a.K||m.g==a)&&Ps(m),!T(d))for(M=m.Da.g.parse(d),d=0;d<M.length;d++){let Re=M[d];if(m.T=Re[0],Re=Re[1],m.G==2)if(Re[0]=="c"){m.K=Re[1],m.ia=Re[2];const It=Re[3];It!=null&&(m.la=It,m.j.info("VER="+m.la));const St=Re[4];St!=null&&(m.Aa=St,m.j.info("SVER="+m.Aa));const At=Re[5];At!=null&&typeof At=="number"&&0<At&&(v=1.5*At,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;const dn=a.g;if(dn){const ks=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var B=v.h;B.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(To(B,B.h),B.h=null))}if(v.D){const No=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;No&&(v.ya=No,ke(v.I,v.D,No))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var J=a;if(v.qa=hl(v,v.J?v.ia:null,v.W),J.K){Xa(v.h,J);var xe=J,_t=v.L;_t&&(xe.I=_t),xe.B&&(ws(xe),Gn(xe)),v.g=J}else Rs(v);0<m.i.length&&Cs(m)}else Re[0]!="stop"&&Re[0]!="close"||Yn(m,7);else m.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Yn(m,7):Ro(m):Re[0]!="noop"&&m.l&&m.l.ta(Re),m.v=0)}}_s(4)}catch{}}var Ka=class{constructor(a,d){this.g=a,this.map=d}};function Ga(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qa(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ya(a){return a.h?1:a.g?a.g.size:0}function wo(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function To(a,d){a.g?a.g.add(d):a.h=d}function Xa(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Ga.prototype.cancel=function(){if(this.i=Ja(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ja(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const m of a.g.values())d=d.concat(m.D);return d}return O(a.i)}function nc(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var d=[],m=a.length,v=0;v<m;v++)d.push(a[v]);return d}d=[],m=0;for(v in a)d[m++]=a[v];return d}function rc(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var d=[];a=a.length;for(var m=0;m<a;m++)d.push(m);return d}d=[],m=0;for(const v in a)d[m++]=v;return d}}}function Za(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var m=rc(a),v=nc(a),M=v.length,B=0;B<M;B++)d.call(void 0,v[B],m&&m[B],a)}var Tn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function en(a,d){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var v=a[m].indexOf("="),M=null;if(0<=v){var B=a[m].substring(0,v);M=a[m].substring(v+1)}else B=a[m];d(B,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function tn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof tn){this.h=a.h,wi(this,a.j),this.o=a.o,this.g=a.g,Ti(this,a.s),this.l=a.l;var d=a.i,m=new hn;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),In(this,m),this.m=a.m}else a&&(d=String(a).match(Tn))?(this.h=!1,wi(this,d[1]||"",!0),this.o=Vn(d[2]||""),this.g=Vn(d[3]||"",!0),Ti(this,d[4]),this.l=Vn(d[5]||"",!0),In(this,d[6]||"",!0),this.m=Vn(d[7]||"")):(this.h=!1,this.i=new hn(null,this.h))}tn.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Ur(d,jr,!0),":");var m=this.g;return(m||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Ur(d,jr,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(Ur(m,m.charAt(0)=="/"?sc:el,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",Ur(m,lf)),a.join("")};function nt(a){return new tn(a)}function wi(a,d,m){a.j=m?Vn(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Ti(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function In(a,d,m){d instanceof hn?(a.i=d,oc(a.i,a.h)):(m||(d=Ur(d,Qn)),a.i=new hn(d,a.h))}function ke(a,d,m){a.i.set(d,m)}function Fr(a){return ke(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Vn(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ur(a,d,m){return typeof a=="string"?(a=encodeURI(a).replace(d,ic),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function ic(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var jr=/[#\/\?@]/g,el=/[#\?:]/g,sc=/[#\?]/g,Qn=/[#\?@]/g,lf=/#/g;function hn(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Sn(a){a.g||(a.g=new Map,a.h=0,a.i&&en(a.i,function(d,m){a.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=hn.prototype,t.add=function(a,d){Sn(this),this.i=null,a=Mn(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(d),this.h+=1,this};function tl(a,d){Sn(a),d=Mn(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Ii(a,d){return Sn(a),d=Mn(a,d),a.g.has(d)}t.forEach=function(a,d){Sn(this),this.g.forEach(function(m,v){m.forEach(function(M){a.call(d,M,v,this)},this)},this)},t.na=function(){Sn(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let v=0;v<d.length;v++){const M=a[v];for(let B=0;B<M.length;B++)m.push(d[v])}return m},t.V=function(a){Sn(this);let d=[];if(typeof a=="string")Ii(this,a)&&(d=d.concat(this.g.get(Mn(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)d=d.concat(a[m])}return d},t.set=function(a,d){return Sn(this),this.i=null,a=Mn(this,a),Ii(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Io(a,d,m){tl(a,d),0<m.length&&(a.i=null,a.g.set(Mn(a,d),O(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var v=d[m];const B=encodeURIComponent(String(v)),J=this.V(v);for(v=0;v<J.length;v++){var M=B;J[v]!==""&&(M+="="+encodeURIComponent(String(J[v]))),a.push(M)}}return this.i=a.join("&")};function Mn(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function oc(a,d){d&&!a.j&&(Sn(a),a.i=null,a.g.forEach(function(m,v){var M=v.toLowerCase();v!=M&&(tl(this,v),Io(this,M,m))},a)),a.j=d}function ac(a,d){const m=new vs;if(l.Image){const v=new Image;v.onload=P(nn,m,"TestLoadImage: loaded",!0,d,v),v.onerror=P(nn,m,"TestLoadImage: error",!1,d,v),v.onabort=P(nn,m,"TestLoadImage: abort",!1,d,v),v.ontimeout=P(nn,m,"TestLoadImage: timeout",!1,d,v),l.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else d(!1)}function lc(a,d){const m=new vs,v=new AbortController,M=setTimeout(()=>{v.abort(),nn(m,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:v.signal}).then(B=>{clearTimeout(M),B.ok?nn(m,"TestPingServer: ok",!0,d):nn(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),nn(m,"TestPingServer: error",!1,d)})}function nn(a,d,m,v,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),v(m)}catch{}}function uf(){this.g=new sf}function uc(a,d,m){const v=m||"";try{Za(a,function(M,B){let J=M;h(M)&&(J=za(M)),d.push(v+B+"="+encodeURIComponent(J))})}catch(M){throw d.push(v+"type="+encodeURIComponent("_badmap")),M}}function Si(a){this.l=a.Ub||null,this.j=a.eb||!1}I(Si,Wa),Si.prototype.g=function(){return new Br(this.l,this.j)},Si.prototype.i=function(a){return function(){return a}}({});function Br(a,d){mt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Br,mt),t=Br.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,pr(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;So(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function So(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Is(this):pr(this),this.readyState==3&&So(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Is(this))},t.Qa=function(a){this.g&&(this.response=a,Is(this))},t.ga=function(){this.g&&Is(this)};function Is(a){a.readyState=4,a.l=null,a.j=null,a.v=null,pr(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=d.next();return a.join(`\r
`)};function pr(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function cc(a){let d="";return Y(a,function(m,v){d+=v,d+=":",d+=m,d+=`\r
`}),d}function Ao(a,d,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=cc(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):ke(a,d,m))}function $e(a){mt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I($e,mt);var nl=/^https?$/i,rl=["POST","PUT"];t=$e.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ha.g(),this.v=this.o?Xu(this.o):Xu(Ha),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(B){il(this,B);return}if(a=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var M in v)m.set(M,v[M]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const B of v.keys())m.set(B,v.get(B));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(B=>B.toLowerCase()=="content-type"),M=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(rl,d,void 0))||v||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of m)this.g.setRequestHeader(B,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sl(this),this.u=!0,this.g.send(a),this.u=!1}catch(B){il(this,B)}};function il(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Ai(a),Ss(a)}function Ai(a){a.A||(a.A=!0,Nt(a,"complete"),Nt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Nt(this,"complete"),Nt(this,"abort"),Ss(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ss(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Co(this):this.bb())},t.bb=function(){Co(this)};function Co(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Bt(a)!=4||a.Z()!=2)){if(a.u&&Bt(a)==4)gi(a.Ea,0,a);else if(Nt(a,"readystatechange"),Bt(a)==4){a.h=!1;try{const J=a.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var v;if(v=J===0){var M=String(a.D).match(Tn)[1]||null;!M&&l.self&&l.self.location&&(M=l.self.location.protocol.slice(0,-1)),v=!nl.test(M?M.toLowerCase():"")}m=v}if(m)Nt(a,"complete"),Nt(a,"success");else{a.m=6;try{var B=2<Bt(a)?a.g.statusText:""}catch{B=""}a.l=B+" ["+a.Z()+"]",Ai(a)}}finally{Ss(a)}}}}function Ss(a,d){if(a.g){sl(a);const m=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Nt(a,"ready");try{m.onreadystatechange=v}catch{}}}function sl(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Bt(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),rf(d)}};function hc(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function dc(a){const d={};a=(a.g&&2<=Bt(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(T(a[v]))continue;var m=D(a[v]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const B=d[M]||[];d[M]=B,B.push(m)}C(d,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(a,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||d}function ol(a){this.Aa=0,this.i=[],this.j=new vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ci("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ci("baseRetryDelayMs",5e3,a),this.cb=Ci("retryDelaySeedMs",1e4,a),this.Wa=Ci("forwardChannelMaxRetries",2,a),this.wa=Ci("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Ga(a&&a.concurrentRequestLimit),this.Da=new uf,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ol.prototype,t.la=8,t.G=1,t.connect=function(a,d,m,v){st(0),this.W=a,this.H=d||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=hl(this,null,this.W),Cs(this)};function Ro(a){if(Po(a),a.G==3){var d=a.U++,m=nt(a.I);if(ke(m,"SID",a.K),ke(m,"RID",d),ke(m,"TYPE","terminate"),Ri(a,m),d=new Zt(a,a.j,d),d.L=2,d.v=Fr(nt(m)),m=!1,l.navigator&&l.navigator.sendBeacon)try{m=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&l.Image&&(new Image().src=d.v,m=!0),m||(d.g=mc(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Gn(d)}pc(a)}function As(a){a.g&&(ul(a),a.g.cancel(),a.g=null)}function Po(a){As(a),a.u&&(l.clearTimeout(a.u),a.u=null),Ps(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Cs(a){if(!Qa(a.h)&&!a.s){a.s=!0;var d=a.Ga;Xt||he(),X||(Xt(),X=!0),le.add(d,a),a.B=0}}function cf(a,d){return Ya(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ys(y(a.Ga,a,d),mr(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const M=new Zt(this,this.j,a);let B=this.o;if(this.S&&(B?(B=w(B),N(B,this.S)):B=this.S),this.m!==null||this.O||(M.H=B,B=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=al(this,M,d),m=nt(this.I),ke(m,"RID",a),ke(m,"CVER",22),this.D&&ke(m,"X-HTTP-Session-Id",this.D),Ri(this,m),B&&(this.O?d="headers="+encodeURIComponent(String(cc(B)))+"&"+d:this.m&&Ao(m,this.m,B)),To(this.h,M),this.Ua&&ke(m,"TYPE","init"),this.P?(ke(m,"$req",d),ke(m,"SID","null"),M.T=!0,gt(M,m,null)):gt(M,m,d),this.G=2}}else this.G==3&&(a?fc(this,a):this.i.length==0||Qa(this.h)||fc(this))};function fc(a,d){var m;d?m=d.l:m=a.U++;const v=nt(a.I);ke(v,"SID",a.K),ke(v,"RID",m),ke(v,"AID",a.T),Ri(a,v),a.m&&a.o&&Ao(v,a.m,a.o),m=new Zt(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),d&&(a.i=d.D.concat(a.i)),d=al(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),To(a.h,m),gt(m,v,d)}function Ri(a,d){a.H&&Y(a.H,function(m,v){ke(d,v,m)}),a.l&&Za({},function(m,v){ke(d,v,m)})}function al(a,d,m){m=Math.min(a.i.length,m);var v=a.l?y(a.l.Na,a.l,a):null;e:{var M=a.i;let B=-1;for(;;){const J=["count="+m];B==-1?0<m?(B=M[0].g,J.push("ofs="+B)):B=0:J.push("ofs="+B);let xe=!0;for(let _t=0;_t<m;_t++){let Re=M[_t].g;const It=M[_t].map;if(Re-=B,0>Re)B=Math.max(0,M[_t].g-100),xe=!1;else try{uc(It,J,"req"+Re+"_")}catch{v&&v(It)}}if(xe){v=J.join("&");break e}}}return a=a.i.splice(0,m),d.D=a,v}function Rs(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Xt||he(),X||(Xt(),X=!0),le.add(d,a),a.v=0}}function ll(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ys(y(a.Fa,a),mr(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,ko(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ys(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),As(this),ko(this))};function ul(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function ko(a){a.g=new Zt(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=nt(a.qa);ke(d,"RID","rpc"),ke(d,"SID",a.K),ke(d,"AID",a.T),ke(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&ke(d,"TO",a.ja),ke(d,"TYPE","xmlhttp"),Ri(a,d),a.m&&a.o&&Ao(d,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=Fr(nt(d)),m.m=null,m.P=!0,Es(m,a)}t.Za=function(){this.C!=null&&(this.C=null,As(this),ll(this),st(19))};function Ps(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function cl(a,d){var m=null;if(a.g==d){Ps(a),ul(a),a.g=null;var v=2}else if(wo(a.h,d))m=d.D,Xa(a.h,d),v=1;else return;if(a.G!=0){if(d.o)if(v==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var M=a.B;v=go(),Nt(v,new tc(v,m)),Cs(a)}else Rs(a);else if(M=d.s,M==3||M==0&&0<d.X||!(v==1&&cf(a,d)||v==2&&ll(a)))switch(m&&0<m.length&&(d=a.h,d.i=d.i.concat(m)),M){case 1:Yn(a,5);break;case 4:Yn(a,10);break;case 3:Yn(a,6);break;default:Yn(a,2)}}}function mr(a,d){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*d}function Yn(a,d){if(a.j.info("Error code "+d),d==2){var m=y(a.fb,a),v=a.Xa;const M=!v;v=new tn(v||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||wi(v,"https"),Fr(v),M?ac(v.toString(),m):lc(v.toString(),m)}else st(2);a.G=0,a.l&&a.l.sa(d),pc(a),Po(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function pc(a){if(a.G=0,a.ka=[],a.l){const d=Ja(a.h);(d.length!=0||a.i.length!=0)&&(k(a.ka,d),k(a.ka,a.i),a.h.i.length=0,O(a.i),a.i.length=0),a.l.ra()}}function hl(a,d,m){var v=m instanceof tn?nt(m):new tn(m);if(v.g!="")d&&(v.g=d+"."+v.g),Ti(v,v.s);else{var M=l.location;v=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var B=new tn(null);v&&wi(B,v),d&&(B.g=d),M&&Ti(B,M),m&&(B.l=m),v=B}return m=a.D,d=a.ya,m&&d&&ke(v,m,d),ke(v,"VER",a.la),Ri(a,v),v}function mc(a,d,m){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new $e(new Si({eb:m})):new $e(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}t=gc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bo(){}bo.prototype.g=function(a,d){return new rn(a,d)};function rn(a,d){mt.call(this),this.g=new ol(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!T(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!T(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Pi(this)}I(rn,mt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ro(this.g)},rn.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=za(a),a=m);d.i.push(new Ka(d.Ya++,a)),d.G==3&&Cs(d)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,rn.aa.N.call(this)};function dl(a){vi.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const m in d){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}I(dl,vi);function fl(){mo.call(this),this.status=1}I(fl,mo);function Pi(a){this.g=a}I(Pi,gc),Pi.prototype.ua=function(){Nt(this.g,"a")},Pi.prototype.ta=function(a){Nt(this.g,new dl(a))},Pi.prototype.sa=function(a){Nt(this.g,new fl)},Pi.prototype.ra=function(){Nt(this.g,"b")},bo.prototype.createWebChannel=bo.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,jI=function(){return new bo},UI=function(){return go()},FI=hr,ym={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yo.NO_ERROR=0,yo.TIMEOUT=8,yo.HTTP_ERROR=6,dh=yo,vo.COMPLETE="complete",MI=vo,Ju.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",mt.prototype.listen=mt.prototype.K,xl=Ju,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,VI=$e}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const wE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Na="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new Mg("@firebase/firestore");function Al(){return to.logLevel}function se(t,...e){if(to.logLevel<=Ce.DEBUG){const n=e.map(Qg);to.debug(`Firestore (${Na}): ${t}`,...n)}}function ai(t,...e){if(to.logLevel<=Ce.ERROR){const n=e.map(Qg);to.error(`Firestore (${Na}): ${t}`,...n)}}function ma(t,...e){if(to.logLevel<=Ce.WARN){const n=e.map(Qg);to.warn(`Firestore (${Na}): ${t}`,...n)}}function Qg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${Na}) INTERNAL ASSERTION FAILED: `+t;throw ai(e),new Error(e)}function Me(t,e){t||fe()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class _x{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yx{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ei,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ei)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new BI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new Ht(e)}}class vx{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ex{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new vx(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tx{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Me(this.o===void 0);const r=s=>{s.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.R=n.token,new wx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Ix(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function ga(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new Et(0,0))}static max(){return new ge(new Et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qe extends vu{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const Sx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends vu{construct(e,n,r){return new Lt(e,n,r)}static isValidIdentifier(e){return Sx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new re(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new re(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new re(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new re(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(n)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(qe.fromString(e))}static fromName(e){return new ae(qe.fromString(e).popFirst(5))}static empty(){return new ae(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new qe(e.slice()))}}function Ax(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new Et(n+1,0):new Et(n,r));return new os(i,ae.empty(),e)}function Cx(t){return new os(t.readTime,t.key,-1)}class os{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new os(ge.min(),ae.empty(),-1)}static max(){return new os(ge.max(),ae.empty(),-1)}}function Rx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==Px)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(i=>i?G.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new G((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const h=c;n(e[h]).next(f=>{o[h]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new G((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function bx(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Yg.oe=-1;function xd(t){return t==null}function td(t){return t===0&&1/t==-1/0}function Nx(t){return typeof t=="number"&&Number.isInteger(t)&&!td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||Dt.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Dt.RED,this.left=i??Dt.EMPTY,this.right=s??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Dt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IE(this.data.getIterator())}getIteratorFrom(e){return new IE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class IE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new kn([])}unionWith(e){let n=new Mt(Lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new WI("Invalid base64 string: "+s):s}}(e);return new Ut(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const Ox=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(t){if(Me(!!t),typeof t=="string"){let e=0;const n=Ox.exec(t);if(Me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function no(t){return typeof t=="string"?Ut.fromBase64String(t):Ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Jg(t){const e=t.mapValue.fields.__previous_value__;return Xg(e)?Jg(e):e}function Eu(t){const e=as(t.mapValue.fields.__local_write_time__.timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,r,i,s,o,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h}}class wu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xg(t)?4:Lx(t)?9007199254740991:Dx(t)?10:11:fe()}function kr(t,e){if(t===e)return!0;const n=ro(t);if(n!==ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Eu(t).isEqual(Eu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=as(i.timestampValue),l=as(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return no(i.bytesValue).isEqual(no(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return at(i.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return at(i.integerValue)===at(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=at(i.doubleValue),l=at(s.doubleValue);return o===l?td(o)===td(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ga(t.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(TE(o)!==TE(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!kr(o[c],l[c])))return!1;return!0}(t,e);default:return fe()}}function Tu(t,e){return(t.values||[]).find(n=>kr(n,e))!==void 0}function _a(t,e){if(t===e)return 0;const n=ro(t),r=ro(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=at(s.integerValue||s.doubleValue),c=at(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return SE(t.timestampValue,e.timestampValue);case 4:return SE(Eu(t),Eu(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(s,o){const l=no(s),c=no(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const f=Ne(l[h],c[h]);if(f!==0)return f}return Ne(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Ne(at(s.latitude),at(o.latitude));return l!==0?l:Ne(at(s.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return AE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,c,h,f;const g=s.fields||{},y=o.fields||{},P=(l=g.value)===null||l===void 0?void 0:l.arrayValue,I=(c=y.value)===null||c===void 0?void 0:c.arrayValue,O=Ne(((h=P==null?void 0:P.values)===null||h===void 0?void 0:h.length)||0,((f=I==null?void 0:I.values)===null||f===void 0?void 0:f.length)||0);return O!==0?O:AE(P,I)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===qc.mapValue&&o===qc.mapValue)return 0;if(s===qc.mapValue)return 1;if(o===qc.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),h=o.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let g=0;g<c.length&&g<f.length;++g){const y=Ne(c[g],f[g]);if(y!==0)return y;const P=_a(l[c[g]],h[f[g]]);if(P!==0)return P}return Ne(c.length,f.length)}(t.mapValue,e.mapValue);default:throw fe()}}function SE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=as(t),r=as(e),i=Ne(n.seconds,r.seconds);return i!==0?i:Ne(n.nanos,r.nanos)}function AE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=_a(n[i],r[i]);if(s)return s}return Ne(n.length,r.length)}function ya(t){return vm(t)}function vm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=as(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return no(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=vm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${vm(n.fields[o])}`;return i+"}"}(t.mapValue):fe()}function CE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Em(t){return!!t&&"integerValue"in t}function Zg(t){return!!t&&"arrayValue"in t}function RE(t){return!!t&&"nullValue"in t}function PE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fh(t){return!!t&&"mapValue"in t}function Dx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Kl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Kl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Lx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=Lt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Kl(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){uo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new pn(Kl(this.value))}}function HI(t){const e=[];return uo(t.fields,(n,r)=>{const i=new Lt([n]);if(fh(r)){const s=HI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Kt(e,0,ge.min(),ge.min(),ge.min(),pn.empty(),0)}static newFoundDocument(e,n,r,i){return new Kt(e,1,n,ge.min(),r,i,0)}static newNoDocument(e,n){return new Kt(e,2,n,ge.min(),ge.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Kt(e,3,n,ge.min(),ge.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.position=e,this.inclusive=n}}function kE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=_a(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function bE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Vx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{}class dt extends qI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Fx(e,n,r):n==="array-contains"?new Bx(e,r):n==="in"?new $x(e,r):n==="not-in"?new zx(e,r):n==="array-contains-any"?new Wx(e,r):new dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ux(e,r):new jx(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_a(n,this.value)):n!==null&&ro(this.value)===ro(n)&&this.matchesComparison(_a(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends qI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new lr(e,n)}matches(e){return KI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function KI(t){return t.op==="and"}function GI(t){return Mx(t)&&KI(t)}function Mx(t){for(const e of t.filters)if(e instanceof lr)return!1;return!0}function wm(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+ya(t.value);if(GI(t))return t.filters.map(e=>wm(e)).join(",");{const e=t.filters.map(n=>wm(n)).join(",");return`${t.op}(${e})`}}function QI(t,e){return t instanceof dt?function(r,i){return i instanceof dt&&r.op===i.op&&r.field.isEqual(i.field)&&kr(r.value,i.value)}(t,e):t instanceof lr?function(r,i){return i instanceof lr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&QI(o,i.filters[l]),!0):!1}(t,e):void fe()}function YI(t){return t instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${ya(n.value)}`}(t):t instanceof lr?function(n){return n.op.toString()+" {"+n.getFilters().map(YI).join(" ,")+"}"}(t):"Filter"}class Fx extends dt{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ux extends dt{constructor(e,n){super(e,"in",n),this.keys=XI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jx extends dt{constructor(e,n){super(e,"not-in",n),this.keys=XI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class Bx extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zg(n)&&Tu(n.arrayValue,this.value)}}class $x extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tu(this.value.arrayValue,n)}}class zx extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Tu(this.value.arrayValue,n)}}class Wx extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Tu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function NE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Hx(t,e,n,r,i,s,o)}function e_(t){const e=_e(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),xd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ya(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ya(r)).join(",")),e.ue=n}return e.ue}function t_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Vx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bE(t.startAt,e.startAt)&&bE(t.endAt,e.endAt)}function Tm(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function qx(t,e,n,r,i,s,o,l){return new Fu(t,e,n,r,i,s,o,l)}function n_(t){return new Fu(t)}function OE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JI(t){return t.collectionGroup!==null}function Gl(t){const e=_e(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Mt(Lt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new rd(s,r))}),n.has(Lt.keyField().canonicalString())||e.ce.push(new rd(Lt.keyField(),r))}return e.ce}function Rr(t){const e=_e(t);return e.le||(e.le=Kx(e,Gl(t))),e.le}function Kx(t,e){if(t.limitType==="F")return NE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new rd(i.field,s)});const n=t.endAt?new nd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nd(t.startAt.position,t.startAt.inclusive):null;return NE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Im(t,e){const n=t.filters.concat([e]);return new Fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sm(t,e,n){return new Fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dd(t,e){return t_(Rr(t),Rr(e))&&t.limitType===e.limitType}function ZI(t){return`${e_(Rr(t))}|lt:${t.limitType}`}function Lo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>YI(i)).join(", ")}]`),xd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ya(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ya(i)).join(",")),`Target(${r})`}(Rr(t))}; limitType=${t.limitType})`}function Ld(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Gl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const h=kE(o,l,c);return o.inclusive?h<=0:h<0}(r.startAt,Gl(r),i)||r.endAt&&!function(o,l,c){const h=kE(o,l,c);return o.inclusive?h>=0:h>0}(r.endAt,Gl(r),i))}(t,e)}function Gx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eS(t){return(e,n)=>{let r=!1;for(const i of Gl(t)){const s=Qx(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Qx(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),h=l.data.field(s);return c!==null&&h!==null?_a(c,h):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){uo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return zI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new Ze(ae.comparator);function li(){return Yx}const tS=new Ze(ae.comparator);function Dl(...t){let e=tS;for(const n of t)e=e.insert(n.key,n);return e}function nS(t){let e=tS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $s(){return Ql()}function rS(){return Ql()}function Ql(){return new Oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const Xx=new Ze(ae.comparator),Jx=new Mt(ae.comparator);function Se(...t){let e=Jx;for(const n of t)e=e.add(n);return e}const Zx=new Mt(Ne);function eD(){return Zx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:td(e)?"-0":e}}function iS(t){return{integerValue:""+t}}function tD(t,e){return Nx(e)?iS(e):r_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this._=void 0}}function nD(t,e,n){return t instanceof id?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Xg(s)&&(s=Jg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Iu?oS(t,e):t instanceof Su?aS(t,e):function(i,s){const o=sS(i,s),l=xE(o)+xE(i.Pe);return Em(o)&&Em(i.Pe)?iS(l):r_(i.serializer,l)}(t,e)}function rD(t,e,n){return t instanceof Iu?oS(t,e):t instanceof Su?aS(t,e):n}function sS(t,e){return t instanceof sd?function(r){return Em(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class id extends Vd{}class Iu extends Vd{constructor(e){super(),this.elements=e}}function oS(t,e){const n=lS(e);for(const r of t.elements)n.some(i=>kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Su extends Vd{constructor(e){super(),this.elements=e}}function aS(t,e){let n=lS(e);for(const r of t.elements)n=n.filter(i=>!kr(i,r));return{arrayValue:{values:n}}}class sd extends Vd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function xE(t){return at(t.integerValue||t.doubleValue)}function lS(t){return Zg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function iD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Iu&&i instanceof Iu||r instanceof Su&&i instanceof Su?ga(r.elements,i.elements,kr):r instanceof sd&&i instanceof sd?kr(r.Pe,i.Pe):r instanceof id&&i instanceof id}(t.transform,e.transform)}class sD{constructor(e,n){this.version=e,this.transformResults=n}}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Md{}function uS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new i_(t.key,ir.none()):new Uu(t.key,t.data,ir.none());{const n=t.data,r=pn.empty();let i=new Mt(Lt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ms(t.key,r,new kn(i.toArray()),ir.none())}}function oD(t,e,n){t instanceof Uu?function(i,s,o){const l=i.value.clone(),c=LE(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ms?function(i,s,o){if(!ph(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=LE(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(cS(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Yl(t,e,n,r){return t instanceof Uu?function(s,o,l,c){if(!ph(s.precondition,o))return l;const h=s.value.clone(),f=VE(s.fieldTransforms,c,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof ms?function(s,o,l,c){if(!ph(s.precondition,o))return l;const h=VE(s.fieldTransforms,c,o),f=o.data;return f.setAll(cS(s)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,l){return ph(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function aD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=sS(r.transform,i||null);s!=null&&(n===null&&(n=pn.empty()),n.set(r.field,s))}return n||null}function DE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ga(r,i,(s,o)=>iD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uu extends Md{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ms extends Md{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function LE(t,e,n){const r=new Map;Me(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,rD(o,l,n[i]))}return r}function VE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,nD(s,o,e))}return r}class i_ extends Md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lD extends Md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&oD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=uS(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,(n,r)=>DE(n,r))&&ga(this.baseMutations,e.baseMutations,(n,r)=>DE(n,r))}}class s_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Me(e.mutations.length===r.length);let i=function(){return Xx}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new s_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Pe;function dD(t){switch(t){default:return fe();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function hS(t){if(t===void 0)return ai("GRPC error has no .code"),H.UNKNOWN;switch(t){case ct.OK:return H.OK;case ct.CANCELLED:return H.CANCELLED;case ct.UNKNOWN:return H.UNKNOWN;case ct.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case ct.INTERNAL:return H.INTERNAL;case ct.UNAVAILABLE:return H.UNAVAILABLE;case ct.UNAUTHENTICATED:return H.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case ct.NOT_FOUND:return H.NOT_FOUND;case ct.ALREADY_EXISTS:return H.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return H.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case ct.ABORTED:return H.ABORTED;case ct.OUT_OF_RANGE:return H.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return H.UNIMPLEMENTED;case ct.DATA_LOSS:return H.DATA_LOSS;default:return fe()}}(Pe=ct||(ct={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new qs([4294967295,4294967295],0);function ME(t){const e=fD().encode(t),n=new LI;return n.update(e),new Uint8Array(n.digest())}function FE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qs([n,r],0),new qs([i,s],0)]}class o_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=qs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(qs.fromNumber(r)));return i.compare(pD)===1&&(i=new qs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=ME(e),[r,i]=FE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new o_(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=ME(e),[r,i]=FE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fd(ge.min(),i,new Ze(Ne),li(),Se())}}class ju{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ju(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class dS{constructor(e,n){this.targetId=e,this.me=n}}class fS{constructor(e,n,r=Ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class UE{constructor(){this.fe=0,this.ge=BE(),this.pe=Ut.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Se(),n=Se(),r=Se();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new ju(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=BE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mD{constructor(e){this.Le=e,this.Be=new Map,this.ke=li(),this.qe=jE(),this.Qe=new Ze(Ne)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Tm(s))if(r===0){const o=new ae(s.path);this.Ue(n,o,Kt.newNoDocument(o,ge.min()))}else Me(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=no(r).toUint8Array()}catch(c){if(c instanceof WI)return ma("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new o_(o,i,s)}catch(c){return ma(c instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&Tm(l.target)){const c=new ae(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Kt.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Se();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const h=this.Je(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Fd(e,n,this.Qe,this.ke,r);return this.ke=li(),this.qe=jE(),this.Qe=new Ze(Ne),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new UE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Mt(Ne),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new UE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function jE(){return new Ze(ae.comparator)}function BE(){return new Ze(ae.comparator)}const gD=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_D=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),yD=(()=>({and:"AND",or:"OR"}))();class vD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Am(t,e){return t.useProto3Json||xd(e)?e:{value:e}}function od(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ED(t,e){return od(t,e.toTimestamp())}function Pr(t){return Me(!!t),ge.fromTimestamp(function(n){const r=as(n);return new Et(r.seconds,r.nanos)}(t))}function a_(t,e){return Cm(t,e).canonicalString()}function Cm(t,e){const n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mS(t){const e=qe.fromString(t);return Me(ES(e)),e}function Rm(t,e){return a_(t.databaseId,e.path)}function sp(t,e){const n=mS(e);if(n.get(1)!==t.databaseId.projectId)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(_S(n))}function gS(t,e){return a_(t.databaseId,e)}function wD(t){const e=mS(t);return e.length===4?qe.emptyPath():_S(e)}function Pm(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _S(t){return Me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $E(t,e,n){return{name:Rm(t,e),fields:n.value.mapValue.fields}}function TD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(Me(f===void 0||typeof f=="string"),Ut.fromBase64String(f||"")):(Me(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Ut.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const f=h.code===void 0?H.UNKNOWN:hS(h.code);return new re(f,h.message||"")}(o);n=new fS(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=sp(t,r.document.name),s=Pr(r.document.updateTime),o=r.document.createTime?Pr(r.document.createTime):ge.min(),l=new pn({mapValue:{fields:r.document.fields}}),c=Kt.newFoundDocument(i,s,o,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new mh(h,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=sp(t,r.document),s=r.readTime?Pr(r.readTime):ge.min(),o=Kt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new mh([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=sp(t,r.document),s=r.removedTargetIds||[];n=new mh([],s,i,null)}else{if(!("filter"in e))return fe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new hD(i,s),l=r.targetId;n=new dS(l,o)}}return n}function ID(t,e){let n;if(e instanceof Uu)n={update:$E(t,e.key,e.value)};else if(e instanceof i_)n={delete:Rm(t,e.key)};else if(e instanceof ms)n={update:$E(t,e.key,e.data),updateMask:OD(e.fieldMask)};else{if(!(e instanceof lD))return fe();n={verify:Rm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof id)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Iu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Su)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof sd)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:ED(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fe()}(t,e.precondition)),n}function SD(t,e){return t&&t.length>0?(Me(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Pr(i.updateTime):Pr(s);return o.isEqual(ge.min())&&(o=Pr(s)),new sD(o,i.transformResults||[])}(n,e))):[]}function AD(t,e){return{documents:[gS(t,e.path)]}}function CD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gS(t,i);const s=function(h){if(h.length!==0)return vS(lr.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(f=>function(y){return{field:Vo(y.field),direction:kD(y.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Am(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function RD(t){let e=wD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Me(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){const y=yS(g);return y instanceof lr&&GI(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(y=>function(I){return new rd(Mo(I.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(g){let y;return y=typeof g=="object"?g.value:g,xd(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(g){const y=!!g.before,P=g.values||[];return new nd(P,y)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const y=!g.before,P=g.values||[];return new nd(P,y)}(n.endAt)),qx(e,i,o,s,l,"F",c,h)}function PD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mo(n.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Mo(n.unaryFilter.field);return dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Mo(n.unaryFilter.field);return dt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Mo(n.unaryFilter.field);return dt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(n){return dt.create(Mo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return lr.create(n.compositeFilter.filters.map(r=>yS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(t):fe()}function kD(t){return gD[t]}function bD(t){return _D[t]}function ND(t){return yD[t]}function Vo(t){return{fieldPath:t.canonicalString()}}function Mo(t){return Lt.fromServerFormat(t.fieldPath)}function vS(t){return t instanceof dt?function(n){if(n.op==="=="){if(PE(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NAN"}};if(RE(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PE(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NAN"}};if(RE(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(n.field),op:bD(n.op),value:n.value}}}(t):t instanceof lr?function(n){const r=n.getFilters().map(i=>vS(i));return r.length===1?r[0]:{compositeFilter:{op:ND(n.op),filters:r}}}(t):fe()}function OD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ES(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,r,i,s=ge.min(),o=ge.min(),l=Ut.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.ct=e}}function DD(t){const e=RD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.un=new VD}addToCollectionParentIndex(e,n){return this.un.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(os.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(os.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class VD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mt(qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new va(0)}static kn(){return new va(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.changes=new Oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Yl(r.mutation,i,kn.empty(),Et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=$s();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Dl();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$s();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=li();const o=Ql(),l=function(){return Ql()}();return n.forEach((c,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof ms)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),Yl(f.mutation,h,f.mutation.getFieldMask(),Et.now())):o.set(h.key,kn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,f)=>o.set(h,f)),n.forEach((h,f)=>{var g;return l.set(h,new FD(f,(g=o.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ql();let i=new Ze((o,l)=>o-l),s=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let f=r.get(c)||kn.empty();f=l.applyToLocalView(h,f),r.set(c,f);const g=(i.get(l.batchId)||Se()).add(c);i=i.insert(l.batchId,g)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,f=c.value,g=rS();f.forEach(y=>{if(!s.has(y)){const P=uS(n.get(y),r.get(y));P!==null&&g.set(y,P),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,g))}return G.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):G.resolve($s());let l=-1,c=s;return o.next(h=>G.forEach(h,(f,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(f)?G.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{c=c.insert(f,y)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,Se())).next(f=>({batchId:l,changes:nS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let i=Dl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Dl();return this.indexManager.getCollectionParents(e,s).next(l=>G.forEach(l,c=>{const h=function(g,y){return new Fu(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((g,y)=>{o=o.insert(g,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,Kt.newInvalidDocument(f)))});let l=Dl();return o.forEach((c,h)=>{const f=s.get(c);f!==void 0&&Yl(f.mutation,h,kn.empty(),Et.now()),Ld(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return G.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pr(i.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:DD(i.bundledQuery),readTime:Pr(i.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.overlays=new Ze(ae.comparator),this.Ir=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$s();return G.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const i=$s(),s=n.length+1,o=new ae(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return G.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ze((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=$s(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=$s(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return G.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cD(n,r));let s=this.Ir.get(n);s===void 0&&(s=Se(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(){this.Tr=new Mt(Rt.Er),this.dr=new Mt(Rt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Rt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ae(new qe([])),r=new Rt(n,e),i=new Rt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ae(new qe([])),r=new Rt(n,e),i=new Rt(n,e+1);let s=Se();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Rt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ae.comparator(e.key,n.key)||Ne(e.wr,n.wr)}static Ar(e,n){return Ne(e.wr,n.wr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Mt(Rt.Er)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new uD(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new Rt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return G.resolve(o)}lookupMutationBatch(e,n){return G.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return G.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),i=new Rt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),G.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(Ne);return n.forEach(i=>{const s=new Rt(i,0),o=new Rt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),G.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ae.isDocumentKey(s)||(s=s.child(""));const o=new Rt(new ae(s),0);let l=new Mt(Ne);return this.br.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.wr)),!0)},o),G.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Me(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return G.forEach(n.mutations,i=>{const s=new Rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Rt(n,0),i=this.br.firstAfterOrEqual(r);return G.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.Mr=e,this.docs=function(){return new Ze(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():Kt.newInvalidDocument(n))}getEntries(e,n){let r=li();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Kt.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=li();const o=n.path,l=new ae(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||Rx(Cx(f),r)<=0||(i.has(f.key)||Ld(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return G.resolve(s)}getAllFromCollectionGroup(e,n,r,i){fe()}Or(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new HD(this)}getSize(e){return G.resolve(this.size)}}class HD extends MD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.persistence=e,this.Nr=new Oa(n=>e_(n),t_),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new l_,this.targetCount=0,this.kr=va.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),G.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new va(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.Kn(n),G.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),G.waitFor(s).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),G.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Yg(0),this.Kr=!1,this.Kr=!0,this.$r=new $D,this.referenceDelegate=e(this),this.Ur=new qD(this),this.indexManager=new LD,this.remoteDocumentCache=function(i){return new WD(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new xD(n),this.Gr=new jD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new zD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new GD(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return G.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class GD extends kx{constructor(e){super(),this.currentSequenceNumber=e}}class u_{constructor(e){this.persistence=e,this.Jr=new l_,this.Yr=null}static Zr(e){return new u_(e)}get Xr(){if(this.Yr)return this.Yr;throw fe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),G.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Xr,r=>{const i=ae.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ge.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return G.or([()=>G.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Se(),i=Se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new c_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Fk()?8:bx(Yt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new QD;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Al()<=Ce.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),G.resolve()):(Al()<=Ce.DEBUG&&se("QueryEngine","Query:",Lo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Al()<=Ce.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):G.resolve())}Yi(e,n){if(OE(n))return G.resolve(null);let r=Rr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sm(n,null,"F"),r=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Se(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.ts(n,l);return this.ns(n,h,o,c.readTime)?this.Yi(e,Sm(n,null,"F")):this.rs(e,h,n,c)}))})))}Zi(e,n,r,i){return OE(n)||i.isEqual(ge.min())?G.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?G.resolve(null):(Al()<=Ce.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lo(n)),this.rs(e,o,n,Ax(i,-1)).next(l=>l))})}ts(e,n){let r=new Mt(eS(e));return n.forEach((i,s)=>{Ld(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Al()<=Ce.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Lo(n)),this.Ji.getDocumentsMatchingQuery(e,n,os.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ze(Ne),this._s=new Oa(s=>e_(s),t_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function JD(t,e,n,r){return new XD(t,e,n,r)}async function wS(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=Se();for(const h of i){o.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:l}))})})}function ZD(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,h,f){const g=h.batch,y=g.keys();let P=G.resolve();return y.forEach(I=>{P=P.next(()=>f.getEntry(c,I)).next(O=>{const k=h.docVersions.get(I);Me(k!==null),O.version.compareTo(k)<0&&(g.applyToRemoteDocument(O,h),O.isValidDocument()&&(O.setReadTime(h.commitVersion),f.addEntry(O)))})}),P.next(()=>l.mutationQueue.removeMutationBatch(c,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Se();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function TS(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function eL(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((f,g)=>{const y=i.get(g);if(!y)return;l.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,g)));let P=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?P=P.withResumeToken(Ut.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):f.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(f.resumeToken,r)),i=i.insert(g,P),function(O,k,S){return O.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(y,P,f)&&l.push(n.Ur.updateTargetData(s,P))});let c=li(),h=Se();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(tL(s,o,e.documentUpdates).next(f=>{c=f.Ps,h=f.Is})),!r.isEqual(ge.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return G.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(n.os=i,s))}function tL(t,e,n){let r=Se(),i=Se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=li();return n.forEach((l,c)=>{const h=s.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(ge.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):se("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function nL(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rL(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,G.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Wi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function km(t,e,n){const r=_e(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Mu(o))throw o;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function zE(t,e,n){const r=_e(t);let i=ge.min(),s=Se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,f){const g=_e(c),y=g._s.get(f);return y!==void 0?G.resolve(g.os.get(y)):g.Ur.getTargetData(h,f)}(r,o,Rr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ge.min(),n?s:Se())).next(l=>(iL(r,Gx(e),l),{documents:l,Ts:s})))}function iL(t,e,n){let r=t.us.get(e)||ge.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class WE{constructor(){this.activeTargetIds=eD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sL{constructor(){this.so=new WE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new WE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc=null;function op(){return Kc===null?Kc=function(){return 268435456+Math.round(2147483648*Math.random())}():Kc++,"0x"+Kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class uL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=op(),c=this.xo(n,r.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,o),this.No(n,c,h,i).then(f=>(se("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw ma("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",c,"request:",i),f})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Na}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=aL[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=op();return new Promise((o,l)=>{const c=new VI;c.setWithCredentials(!0),c.listenOnce(MI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case dh.NO_ERROR:const f=c.getResponseJson();se(Wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case dh.TIMEOUT:se(Wt,`RPC '${e}' ${s} timed out`),l(new re(H.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const g=c.getStatus();if(se(Wt,`RPC '${e}' ${s} failed with status:`,g,"response text:",c.getResponseText()),g>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const P=y==null?void 0:y.error;if(P&&P.status&&P.message){const I=function(k){const S=k.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(S)>=0?S:H.UNKNOWN}(P.status);l(new re(I,P.message))}else l(new re(H.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new re(H.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{se(Wt,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);se(Wt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}Bo(e,n,r){const i=op(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jI(),l=UI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");se(Wt,`Creating RPC '${e}' stream ${i}: ${f}`,c);const g=o.createWebChannel(f,c);let y=!1,P=!1;const I=new lL({Io:k=>{P?se(Wt,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(y||(se(Wt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),se(Wt,`RPC '${e}' stream ${i} sending:`,k),g.send(k))},To:()=>g.close()}),O=(k,S,T)=>{k.listen(S,A=>{try{T(A)}catch(U){setTimeout(()=>{throw U},0)}})};return O(g,xl.EventType.OPEN,()=>{P||(se(Wt,`RPC '${e}' stream ${i} transport opened.`),I.yo())}),O(g,xl.EventType.CLOSE,()=>{P||(P=!0,se(Wt,`RPC '${e}' stream ${i} transport closed`),I.So())}),O(g,xl.EventType.ERROR,k=>{P||(P=!0,ma(Wt,`RPC '${e}' stream ${i} transport errored:`,k),I.So(new re(H.UNAVAILABLE,"The operation could not be completed")))}),O(g,xl.EventType.MESSAGE,k=>{var S;if(!P){const T=k.data[0];Me(!!T);const A=T,U=A.error||((S=A[0])===null||S===void 0?void 0:S.error);if(U){se(Wt,`RPC '${e}' stream ${i} received error:`,U);const K=U.status;let Y=function(R){const N=ct[R];if(N!==void 0)return hS(N)}(K),C=U.message;Y===void 0&&(Y=H.INTERNAL,C="Unknown error status: "+K+" with message "+U.message),P=!0,I.So(new re(Y,C)),g.close()}else se(Wt,`RPC '${e}' stream ${i} received:`,T),I.bo(T)}}),O(l,FI.STAT_EVENT,k=>{k.stat===ym.PROXY?se(Wt,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===ym.NOPROXY&&se(Wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.wo()},0),I}}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t){return new vD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n,r,i,s,o,l,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new IS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new re(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cL extends SS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=TD(this.serializer,e),r=function(s){if(!("targetChange"in s))return ge.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Pr(o.readTime):ge.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Pm(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=Tm(c)?{documents:AD(s,c)}:{query:CD(s,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=pS(s,o.resumeToken);const h=Am(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(ge.min())>0){l.readTime=od(s,o.snapshotVersion.toTimestamp());const h=Am(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=PD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Pm(this.serializer),n.removeTarget=e,this.a_(n)}}class hL extends SS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=SD(e.writeResults,e.commitTime),r=Pr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Pm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ID(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Cm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(H.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Cm(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(H.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class fL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ai(n),this.D_=!1):se("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{co(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(c){const h=_e(c);h.L_.add(4),await Bu(h),h.q_.set("Unknown"),h.L_.delete(4),await jd(h)}(this))})}),this.q_=new fL(r,i)}}async function jd(t){if(co(t))for(const e of t.B_)await e(!0)}async function Bu(t){for(const e of t.B_)await e(!1)}function AS(t,e){const n=_e(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),p_(n)?f_(n):xa(n).r_()&&d_(n,e))}function h_(t,e){const n=_e(t),r=xa(n);n.N_.delete(e),r.r_()&&CS(n,e),n.N_.size===0&&(r.r_()?r.o_():co(n)&&n.q_.set("Unknown"))}function d_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xa(t).A_(e)}function CS(t,e){t.Q_.xe(e),xa(t).R_(e)}function f_(t){t.Q_=new mD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),xa(t).start(),t.q_.v_()}function p_(t){return co(t)&&!xa(t).n_()&&t.N_.size>0}function co(t){return _e(t).L_.size===0}function RS(t){t.Q_=void 0}async function mL(t){t.q_.set("Online")}async function gL(t){t.N_.forEach((e,n)=>{d_(t,e)})}async function _L(t,e){RS(t),p_(t)?(t.q_.M_(e),f_(t)):t.q_.set("Unknown")}async function yL(t,e,n){if(t.q_.set("Online"),e instanceof fS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ad(t,r)}else if(e instanceof mh?t.Q_.Ke(e):e instanceof dS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ge.min()))try{const r=await TS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.N_.get(h);f&&s.N_.set(h,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const f=s.N_.get(c);if(!f)return;s.N_.set(c,f.withResumeToken(Ut.EMPTY_BYTE_STRING,f.snapshotVersion)),CS(s,c);const g=new Wi(f.target,c,h,f.sequenceNumber);d_(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await ad(t,r)}}async function ad(t,e,n){if(!Mu(e))throw e;t.L_.add(1),await Bu(t),t.q_.set("Offline"),n||(n=()=>TS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await jd(t)})}function PS(t,e){return e().catch(n=>ad(t,n,e))}async function Bd(t){const e=_e(t),n=ls(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;vL(e);)try{const i=await nL(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,EL(e,i)}catch(i){await ad(e,i)}kS(e)&&bS(e)}function vL(t){return co(t)&&t.O_.length<10}function EL(t,e){t.O_.push(e);const n=ls(t);n.r_()&&n.V_&&n.m_(e.mutations)}function kS(t){return co(t)&&!ls(t).n_()&&t.O_.length>0}function bS(t){ls(t).start()}async function wL(t){ls(t).p_()}async function TL(t){const e=ls(t);for(const n of t.O_)e.m_(n.mutations)}async function IL(t,e,n){const r=t.O_.shift(),i=s_.from(r,e,n);await PS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bd(t)}async function SL(t,e){e&&ls(t).V_&&await async function(r,i){if(function(o){return dD(o)&&o!==H.ABORTED}(i.code)){const s=r.O_.shift();ls(r).s_(),await PS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Bd(r)}}(t,e),kS(t)&&bS(t)}async function qE(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=co(n);n.L_.add(3),await Bu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await jd(n)}async function AL(t,e){const n=_e(t);e?(n.L_.delete(2),await jd(n)):e||(n.L_.add(2),await Bu(n),n.q_.set("Unknown"))}function xa(t){return t.K_||(t.K_=function(n,r,i){const s=_e(n);return s.w_(),new cL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:mL.bind(null,t),Ro:gL.bind(null,t),mo:_L.bind(null,t),d_:yL.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),p_(t)?f_(t):t.q_.set("Unknown")):(await t.K_.stop(),RS(t))})),t.K_}function ls(t){return t.U_||(t.U_=function(n,r,i){const s=_e(n);return s.w_(),new hL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:wL.bind(null,t),mo:SL.bind(null,t),f_:TL.bind(null,t),g_:IL.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Bd(t)):(await t.U_.stop(),t.O_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new m_(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g_(t,e){if(ai("AsyncQueue",`${e}: ${t}`),Mu(t))return new re(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Dl(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new oa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.W_=new Ze(ae.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):fe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ea{constructor(e,n,r,i,s,o,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ea(e,n,oa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class RL{constructor(){this.queries=GE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=_e(n),s=i.queries;i.queries=GE(),s.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new re(H.ABORTED,"Firestore shutting down"))}}function GE(){return new Oa(t=>ZI(t),Dd)}async function NS(t,e){const n=_e(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new CL,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=g_(o,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&__(n)}async function OS(t,e){const n=_e(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function PL(t,e){const n=_e(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&__(n)}function kL(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function __(t){t.Y_.forEach(e=>{e.next()})}var bm,QE;(QE=bm||(bm={})).ea="default",QE.Cache="cache";class xS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.key=e}}class LS{constructor(e){this.key=e}}class bL{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Se(),this.mutatedKeys=Se(),this.Aa=eS(e),this.Ra=new oa(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new KE,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{const y=i.get(f),P=Ld(this.query,g)?g:null,I=!!y&&this.mutatedKeys.has(y.key),O=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let k=!1;y&&P?y.data.isEqual(P.data)?I!==O&&(r.track({type:3,doc:P}),k=!0):this.ga(y,P)||(r.track({type:2,doc:P}),k=!0,(c&&this.Aa(P,c)>0||h&&this.Aa(P,h)<0)&&(l=!0)):!y&&P?(r.track({type:0,doc:P}),k=!0):y&&!P&&(r.track({type:1,doc:y}),k=!0,(c||h)&&(l=!0)),k&&(P?(o=o.add(P),s=O?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,g)=>function(P,I){const O=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return O(P)-O(I)}(f.type,g.type)||this.Aa(f.doc,g.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,h=c!==this.Ea;return this.Ea=c,o.length!==0||h?{snapshot:new Ea(this.query,e.Ra,s,o,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new KE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Se(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new LS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new DS(r))}),n}ba(e){this.Ta=e.Ts,this.da=Se();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ea.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class NL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class OL{constructor(e){this.key=e,this.va=!1}}class xL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Oa(l=>ZI(l),Dd),this.Ma=new Map,this.xa=new Set,this.Oa=new Ze(ae.comparator),this.Na=new Map,this.La=new l_,this.Ba={},this.ka=new Map,this.qa=va.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function DL(t,e,n=!0){const r=BS(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await VS(r,e,n,!0),i}async function LL(t,e){const n=BS(t);await VS(n,e,!0,!1)}async function VS(t,e,n,r){const i=await rL(t.localStore,Rr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await VL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&AS(t.remoteStore,i),l}async function VL(t,e,n,r,i){t.Ka=(g,y,P)=>async function(O,k,S,T){let A=k.view.ma(S);A.ns&&(A=await zE(O.localStore,k.query,!1).then(({documents:C})=>k.view.ma(C,A)));const U=T&&T.targetChanges.get(k.targetId),K=T&&T.targetMismatches.get(k.targetId)!=null,Y=k.view.applyChanges(A,O.isPrimaryClient,U,K);return XE(O,k.targetId,Y.wa),Y.snapshot}(t,g,y,P);const s=await zE(t.localStore,e,!0),o=new bL(e,s.Ts),l=o.ma(s.documents),c=ju.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(l,t.isPrimaryClient,c);XE(t,n,h.wa);const f=new NL(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function ML(t,e,n){const r=_e(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Dd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await km(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&h_(r.remoteStore,i.targetId),Nm(r,i.targetId)}).catch(Vu)):(Nm(r,i.targetId),await km(r.localStore,i.targetId,!0))}async function FL(t,e){const n=_e(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),h_(n.remoteStore,r.targetId))}async function UL(t,e,n){const r=qL(t);try{const i=await function(o,l){const c=_e(o),h=Et.now(),f=l.reduce((P,I)=>P.add(I.key),Se());let g,y;return c.persistence.runTransaction("Locally write mutations","readwrite",P=>{let I=li(),O=Se();return c.cs.getEntries(P,f).next(k=>{I=k,I.forEach((S,T)=>{T.isValidDocument()||(O=O.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(P,I)).next(k=>{g=k;const S=[];for(const T of l){const A=aD(T,g.get(T.key).overlayedDocument);A!=null&&S.push(new ms(T.key,A,HI(A.value.mapValue),ir.exists(!0)))}return c.mutationQueue.addMutationBatch(P,h,S,l)}).next(k=>{y=k;const S=k.applyToLocalDocumentSet(g,O);return c.documentOverlayCache.saveOverlays(P,k.batchId,S)})}).then(()=>({batchId:y.batchId,changes:nS(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let h=o.Ba[o.currentUser.toKey()];h||(h=new Ze(Ne)),h=h.insert(l,c),o.Ba[o.currentUser.toKey()]=h}(r,i.batchId,n),await $u(r,i.changes),await Bd(r.remoteStore)}catch(i){const s=g_(i,"Failed to persist write");n.reject(s)}}async function MS(t,e){const n=_e(t);try{const r=await eL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Me(o.va):i.removedDocuments.size>0&&(Me(o.va),o.va=!1))}),await $u(n,r,e)}catch(r){await Vu(r)}}function YE(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=_e(o);c.onlineState=l;let h=!1;c.queries.forEach((f,g)=>{for(const y of g.j_)y.Z_(l)&&(h=!0)}),h&&__(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jL(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ze(ae.comparator);o=o.insert(s,Kt.newNoDocument(s,ge.min()));const l=Se().add(s),c=new Fd(ge.min(),new Map,new Ze(Ne),o,l);await MS(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),y_(r)}else await km(r.localStore,e,!1).then(()=>Nm(r,e,n)).catch(Vu)}async function BL(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await ZD(n.localStore,e);US(n,r,null),FS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $u(n,i)}catch(i){await Vu(i)}}async function $L(t,e,n){const r=_e(t);try{const i=await function(o,l){const c=_e(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return c.mutationQueue.lookupMutationBatch(h,l).next(g=>(Me(g!==null),f=g.keys(),c.mutationQueue.removeMutationBatch(h,g))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>c.localDocuments.getDocuments(h,f))})}(r.localStore,e);US(r,e,n),FS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $u(r,i)}catch(i){await Vu(i)}}function FS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function US(t,e,n){const r=_e(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Nm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||jS(t,r)})}function jS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(h_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),y_(t))}function XE(t,e,n){for(const r of n)r instanceof DS?(t.La.addReference(r.key,e),zL(t,r)):r instanceof LS?(se("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||jS(t,r.key)):fe()}function zL(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(se("SyncEngine","New document in limbo: "+n),t.xa.add(r),y_(t))}function y_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ae(qe.fromString(e)),r=t.qa.next();t.Na.set(r,new OL(n)),t.Oa=t.Oa.insert(n,r),AS(t.remoteStore,new Wi(Rr(n_(n.path)),r,"TargetPurposeLimboResolution",Yg.oe))}}async function $u(t,e,n){const r=_e(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(h){i.push(h);const g=c_.Wi(c.targetId,h);s.push(g)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(c,h){const f=_e(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>G.forEach(h,y=>G.forEach(y.$i,P=>f.persistence.referenceDelegate.addReference(g,y.targetId,P)).next(()=>G.forEach(y.Ui,P=>f.persistence.referenceDelegate.removeReference(g,y.targetId,P)))))}catch(g){if(!Mu(g))throw g;se("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const P=f.os.get(y),I=P.snapshotVersion,O=P.withLastLimboFreeSnapshotVersion(I);f.os=f.os.insert(y,O)}}}(r.localStore,s))}async function WL(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await wS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(c=>{c.reject(new re(H.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $u(n,r.hs)}}function HL(t,e){const n=_e(t),r=n.Na.get(e);if(r&&r.va)return Se().add(r.key);{let i=Se();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function BS(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jL.bind(null,e),e.Ca.d_=PL.bind(null,e.eventManager),e.Ca.$a=kL.bind(null,e.eventManager),e}function qL(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$L.bind(null,e),e}class ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ud(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return JD(this.persistence,new YD,e.initialUser,this.serializer)}Ga(e){return new KD(u_.Zr,this.serializer)}Wa(e){return new sL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ld.provider={build:()=>new ld};class Om{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WL.bind(null,this.syncEngine),await AL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RL}()}createDatastore(e){const n=Ud(e.databaseInfo.databaseId),r=function(s){return new uL(s)}(e.databaseInfo);return function(s,o,l,c){return new dL(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new pL(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>YE(this.syncEngine,n,0),function(){return HE.D()?new HE:new oL}())}createSyncEngine(e,n){return function(i,s,o,l,c,h,f){const g=new xL(i,s,o,l,c,h);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=_e(i);se("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Bu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Om.provider={build:()=>new Om};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=$I.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{se("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(se("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=g_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lp(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await wS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function JE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await GL(t);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>qE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>qE(e.remoteStore,i)),t._onlineComponents=e}async function GL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await lp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ma("Error using user provided cache. Falling back to memory cache: "+n),await lp(t,new ld)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await lp(t,new ld);return t._offlineComponents}async function zS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await JE(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await JE(t,new Om))),t._onlineComponents}function QL(t){return zS(t).then(e=>e.syncEngine)}async function WS(t){const e=await zS(t),n=e.eventManager;return n.onListen=DL.bind(null,e.syncEngine),n.onUnlisten=ML.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FL.bind(null,e.syncEngine),n}function YL(t,e,n={}){const r=new ei;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,h){const f=new $S({next:y=>{f.Za(),o.enqueueAndForget(()=>OS(s,g));const P=y.docs.has(l);!P&&y.fromCache?h.reject(new re(H.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&y.fromCache&&c&&c.source==="server"?h.reject(new re(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new xS(n_(l.path),f,{includeMetadataChanges:!0,_a:!0});return NS(s,g)}(await WS(t),t.asyncQueue,e,n,r)),r.promise}function XL(t,e,n={}){const r=new ei;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,h){const f=new $S({next:y=>{f.Za(),o.enqueueAndForget(()=>OS(s,g)),y.fromCache&&c.source==="server"?h.reject(new re(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new xS(l,f,{includeMetadataChanges:!0,_a:!0});return NS(s,g)}(await WS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t,e,n){if(!n)throw new re(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JL(t,e,n,r){if(e===!0&&r===!0)throw new re(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ew(t){if(!ae.isDocumentKey(t))throw new re(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tw(t){if(ae.isDocumentKey(t))throw new re(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $d(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function ui(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$d(t);throw new re(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gx;switch(r.type){case"firstParty":return new Ex(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ZE.get(n);r&&(se("ComponentProvider","Removing Datastore"),ZE.delete(n),r.terminate())}(this),Promise.resolve()}}function ZL(t,e,n,r={}){var i;const s=(t=ui(t,zd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Ht.MOCK_USER;else{l=Nk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new re(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ht(h)}t._authCredentials=new _x(new BI(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Da(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class rs extends Da{constructor(e,n,r){super(e,n,n_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ae(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function Wd(t,e,...n){if(t=bt(t),qS("collection","path",e),t instanceof zd){const r=qe.fromString(e,...n);return tw(r),new rs(t,null,r)}{if(!(t instanceof vn||t instanceof rs))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return tw(r),new rs(t.firestore,null,r)}}function ud(t,e,...n){if(t=bt(t),arguments.length===1&&(e=$I.newId()),qS("doc","path",e),t instanceof zd){const r=qe.fromString(e,...n);return ew(r),new vn(t,null,new ae(r))}{if(!(t instanceof vn||t instanceof rs))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return ew(r),new vn(t.firestore,t instanceof rs?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new IS(this,"async_queue_retry"),this.Vu=()=>{const r=ap();r&&se("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ei;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Mu(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw ai("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=m_.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&fe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class La extends zd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new rw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rw(e),this._firestoreClient=void 0,await e}}}function eV(t,e){const n=typeof t=="object"?t:JT(),r=typeof t=="string"?t:e||"(default)",i=Ug(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=kk("firestore");s&&ZL(i,...s)}return i}function v_(t){if(t._terminated)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tV(t),t._firestoreClient}function tV(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,h,f){return new xx(l,c,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,HS(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new KL(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wa(Ut.fromBase64String(e))}catch(n){throw new re(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wa(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=/^__.*__$/;class rV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uu(e,this.data,n,this.fieldTransforms)}}class KS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class I_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new I_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return cd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(GS(this.Cu)&&nV.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class iV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ud(e)}Qu(e,n,r,i=!1){return new I_({Cu:e,methodName:n,qu:r,path:Lt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function S_(t){const e=t._freezeSettings(),n=Ud(t._databaseId);return new iV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sV(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);A_("Data must be an object, but it was:",o,r);const l=QS(r,o);let c,h;if(s.merge)c=new kn(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const g of s.mergeFields){const y=xm(e,g,n);if(!o.contains(y))throw new re(H.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);XS(f,y)||f.push(y)}c=new kn(f),h=o.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,h=o.fieldTransforms;return new rV(new pn(l),c,h)}class qd extends E_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qd}}function oV(t,e,n,r){const i=t.Qu(1,e,n);A_("Data must be an object, but it was:",i,r);const s=[],o=pn.empty();uo(r,(c,h)=>{const f=C_(e,c,n);h=bt(h);const g=i.Nu(f);if(h instanceof qd)s.push(f);else{const y=zu(h,g);y!=null&&(s.push(f),o.set(f,y))}});const l=new kn(s);return new KS(o,l,i.fieldTransforms)}function aV(t,e,n,r,i,s){const o=t.Qu(1,e,n),l=[xm(e,r,n)],c=[i];if(s.length%2!=0)throw new re(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)l.push(xm(e,s[y])),c.push(s[y+1]);const h=[],f=pn.empty();for(let y=l.length-1;y>=0;--y)if(!XS(h,l[y])){const P=l[y];let I=c[y];I=bt(I);const O=o.Nu(P);if(I instanceof qd)h.push(P);else{const k=zu(I,O);k!=null&&(h.push(P),f.set(P,k))}}const g=new kn(h);return new KS(f,g,o.fieldTransforms)}function lV(t,e,n,r=!1){return zu(n,t.Qu(r?4:3,e))}function zu(t,e){if(YS(t=bt(t)))return A_("Unsupported field value:",e,t),QS(t,e);if(t instanceof E_)return function(r,i){if(!GS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=zu(l,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Et.fromDate(r);return{timestampValue:od(i.serializer,s)}}if(r instanceof Et){const s=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:od(i.serializer,s)}}if(r instanceof w_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wa)return{bytesValue:pS(i.serializer,r._byteString)};if(r instanceof vn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:a_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof T_)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return r_(l.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${$d(r)}`)}(t,e)}function QS(t,e){const n={};return zI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(t,(r,i)=>{const s=zu(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function YS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof w_||t instanceof wa||t instanceof vn||t instanceof E_||t instanceof T_)}function A_(t,e,n){if(!YS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=$d(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function xm(t,e,n){if((e=bt(e))instanceof Hd)return e._internalPath;if(typeof e=="string")return C_(t,e);throw cd("Field path arguments must be of type string or ",t,!1,void 0,n)}const uV=new RegExp("[~\\*/\\[\\]]");function C_(t,e,n){if(e.search(uV)>=0)throw cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hd(...e.split("."))._internalPath}catch{throw cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new re(H.INVALID_ARGUMENT,l+t+c)}function XS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(R_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cV extends JS{data(){return super.data()}}function R_(t,e){return typeof e=="string"?C_(t,e):e instanceof Hd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P_{}class dV extends P_{}function k_(t,e,...n){let r=[];e instanceof P_&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof N_).length,l=s.filter(c=>c instanceof Kd).length;if(o>1||o>0&&l>0)throw new re(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Kd extends dV{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kd(e,n,r)}_apply(e){const n=this._parse(e);return ZS(e._query,n),new Da(e.firestore,e.converter,Im(e._query,n))}_parse(e){const n=S_(e.firestore);return function(s,o,l,c,h,f,g){let y;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new re(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){sw(g,f);const P=[];for(const I of g)P.push(iw(c,s,I));y={arrayValue:{values:P}}}else y=iw(c,s,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||sw(g,f),y=lV(l,o,g,f==="in"||f==="not-in");return dt.create(h,f,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function b_(t,e,n){const r=e,i=R_("where",t);return Kd._create(i,r,n)}class N_ extends P_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new N_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)ZS(o,c),o=Im(o,c)}(e._query,n),new Da(e.firestore,e.converter,Im(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function iw(t,e,n){if(typeof(n=bt(n))=="string"){if(n==="")throw new re(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JI(e)&&n.indexOf("/")!==-1)throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qe.fromString(n));if(!ae.isDocumentKey(r))throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return CE(t,new ae(r))}if(n instanceof vn)return CE(t,n._key);throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$d(n)}.`)}function sw(t,e){if(!Array.isArray(t)||t.length===0)throw new re(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZS(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fV{convertValue(e,n="none"){switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(no(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return uo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>at(o.doubleValue));return new T_(s)}convertGeoPoint(e){return new w_(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Eu(e));default:return null}}convertTimestamp(e){const n=as(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Me(ES(r));const i=new wu(r.get(1),r.get(3)),s=new ae(r.popFirst(5));return i.isEqual(n)||ai(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eA extends JS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(R_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gh extends eA{data(e={}){return super.data(e)}}class mV{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gh(this._firestore,this._userDataWriter,r.key,r,new Vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new gh(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Vl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new gh(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Vl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:gV(l.type),doc:c,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t){t=ui(t,vn);const e=ui(t.firestore,La);return YL(v_(e),t._key).then(n=>wV(e,t,n))}class tA extends fV{constructor(e){super(),this.firestore=e}convertBytes(e){return new wa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function O_(t){t=ui(t,Da);const e=ui(t.firestore,La),n=v_(e),r=new tA(e);return hV(t._query),XL(n,t._query).then(i=>new mV(e,r,t,i))}function yV(t,e,n,...r){t=ui(t,vn);const i=ui(t.firestore,La),s=S_(i);let o;return o=typeof(e=bt(e))=="string"||e instanceof Hd?aV(s,"updateDoc",t._key,e,n,r):oV(s,"updateDoc",t._key,e),x_(i,[o.toMutation(t._key,ir.exists(!0))])}function vV(t){return x_(ui(t.firestore,La),[new i_(t._key,ir.none())])}function EV(t,e){const n=ui(t.firestore,La),r=ud(t),i=pV(t.converter,e);return x_(n,[sV(S_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ir.exists(!1))]).then(()=>r)}function x_(t,e){return function(r,i){const s=new ei;return r.asyncQueue.enqueueAndForget(async()=>UL(await QL(r),i,s)),s.promise}(v_(t),e)}function wV(t,e,n){const r=n.docs.get(e._key),i=new tA(t);return new eA(t,i,e._key,r,new Vl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Na=i})(ka),pa(new Js("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new La(new yx(r.getProvider("auth-internal")),new Tx(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new re(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(h.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ns(wE,"4.7.3",e),ns(wE,"4.7.3","esm2017")})();const TV={apiKey:"AIzaSyBSOLrVCUbq3KOQkoEyuoVWTWRYPhVVdqQ",authDomain:"movies-4180f.firebaseapp.com",projectId:"movies-4180f",storageBucket:"movies-4180f.firebasestorage.app",messagingSenderId:"137906722927",appId:"1:137906722927:web:42aadad89e0b746842d59a",measurementId:"G-CMT6EC4BTW"},nA=XT(TV),Gc=dx(nA),io=eV(nA),rA=W.createContext();function br(){return W.useContext(rA)}function IV({children:t}){const[e,n]=W.useState(null),[r,i]=W.useState(!0);function s(h,f){return XN(Gc,h,f)}function o(h,f){return YN(Gc,h,f)}function l(){return tO(Gc)}W.useEffect(()=>eO(Gc,f=>{n(f),i(!1)}),[]);const c={currentUser:e,login:s,register:o,logout:l};return x.createElement(rA.Provider,{value:c},!r&&t)}function SV(){const{currentUser:t}=br(),e=di(),[n,r]=W.useState(!1),i=()=>{t?e("/movies"):r(!0)};return x.createElement("div",{className:"text-center"},x.createElement("h1",null,"Welcome to MovieReviews"),x.createElement("p",null,"Browse popular movies, read and write reviews."),x.createElement("button",{className:"btn btn-primary me-2",onClick:i},t?"Browse Movies":"Get Started"),!t&&n&&x.createElement("div",{className:"mt-3"},x.createElement(Pn,{to:"/login",className:"btn btn-outline-primary me-2"},"Login"),x.createElement(Pn,{to:"/register",className:"btn btn-outline-secondary"},"Register")))}function iA(t,e){return function(){return t.apply(e,arguments)}}const{toString:AV}=Object.prototype,{getPrototypeOf:D_}=Object,{iterator:Gd,toStringTag:sA}=Symbol,Qd=(t=>e=>{const n=AV.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ur=t=>(t=t.toLowerCase(),e=>Qd(e)===t),Yd=t=>e=>typeof e===t,{isArray:Va}=Array,Ta=Yd("undefined");function Wu(t){return t!==null&&!Ta(t)&&t.constructor!==null&&!Ta(t.constructor)&&En(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const oA=ur("ArrayBuffer");function CV(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&oA(t.buffer),e}const RV=Yd("string"),En=Yd("function"),aA=Yd("number"),Hu=t=>t!==null&&typeof t=="object",PV=t=>t===!0||t===!1,_h=t=>{if(Qd(t)!=="object")return!1;const e=D_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(sA in t)&&!(Gd in t)},kV=t=>{if(!Hu(t)||Wu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},bV=ur("Date"),NV=ur("File"),OV=ur("Blob"),xV=ur("FileList"),DV=t=>Hu(t)&&En(t.pipe),LV=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||En(t.append)&&((e=Qd(t))==="formdata"||e==="object"&&En(t.toString)&&t.toString()==="[object FormData]"))},VV=ur("URLSearchParams"),[MV,FV,UV,jV]=["ReadableStream","Request","Response","Headers"].map(ur),BV=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Va(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Wu(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function lA(t,e){if(Wu(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const zs=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),uA=t=>!Ta(t)&&t!==zs;function Dm(){const{caseless:t,skipUndefined:e}=uA(this)&&this||{},n={},r=(i,s)=>{const o=t&&lA(n,s)||s;_h(n[o])&&_h(i)?n[o]=Dm(n[o],i):_h(i)?n[o]=Dm({},i):Va(i)?n[o]=i.slice():(!e||!Ta(i))&&(n[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&qu(arguments[i],r);return n}const $V=(t,e,n,{allOwnKeys:r}={})=>(qu(e,(i,s)=>{n&&En(i)?t[s]=iA(i,n):t[s]=i},{allOwnKeys:r}),t),zV=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),WV=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},HV=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&D_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},qV=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},KV=t=>{if(!t)return null;if(Va(t))return t;let e=t.length;if(!aA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},GV=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&D_(Uint8Array)),QV=(t,e)=>{const r=(t&&t[Gd]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},YV=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},XV=ur("HTMLFormElement"),JV=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),ow=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ZV=ur("RegExp"),cA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};qu(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},e2=t=>{cA(t,(e,n)=>{if(En(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(En(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},t2=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Va(t)?r(t):r(String(t).split(e)),n},n2=()=>{},r2=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function i2(t){return!!(t&&En(t.append)&&t[sA]==="FormData"&&t[Gd])}const s2=t=>{const e=new Array(10),n=(r,i)=>{if(Hu(r)){if(e.indexOf(r)>=0)return;if(Wu(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Va(r)?[]:{};return qu(r,(o,l)=>{const c=n(o,i+1);!Ta(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},o2=ur("AsyncFunction"),a2=t=>t&&(Hu(t)||En(t))&&En(t.then)&&En(t.catch),hA=((t,e)=>t?setImmediate:e?((n,r)=>(zs.addEventListener("message",({source:i,data:s})=>{i===zs&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),zs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",En(zs.postMessage)),l2=typeof queueMicrotask<"u"?queueMicrotask.bind(zs):typeof process<"u"&&process.nextTick||hA,u2=t=>t!=null&&En(t[Gd]),j={isArray:Va,isArrayBuffer:oA,isBuffer:Wu,isFormData:LV,isArrayBufferView:CV,isString:RV,isNumber:aA,isBoolean:PV,isObject:Hu,isPlainObject:_h,isEmptyObject:kV,isReadableStream:MV,isRequest:FV,isResponse:UV,isHeaders:jV,isUndefined:Ta,isDate:bV,isFile:NV,isBlob:OV,isRegExp:ZV,isFunction:En,isStream:DV,isURLSearchParams:VV,isTypedArray:GV,isFileList:xV,forEach:qu,merge:Dm,extend:$V,trim:BV,stripBOM:zV,inherits:WV,toFlatObject:HV,kindOf:Qd,kindOfTest:ur,endsWith:qV,toArray:KV,forEachEntry:QV,matchAll:YV,isHTMLForm:XV,hasOwnProperty:ow,hasOwnProp:ow,reduceDescriptors:cA,freezeMethods:e2,toObjectSet:t2,toCamelCase:JV,noop:n2,toFiniteNumber:r2,findKey:lA,global:zs,isContextDefined:uA,isSpecCompliantForm:i2,toJSONObject:s2,isAsyncFn:o2,isThenable:a2,setImmediate:hA,asap:l2,isIterable:u2};function ye(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}j.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const dA=ye.prototype,fA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{fA[t]={value:t}});Object.defineProperties(ye,fA);Object.defineProperty(dA,"isAxiosError",{value:!0});ye.from=(t,e,n,r,i,s)=>{const o=Object.create(dA);j.toFlatObject(t,o,function(f){return f!==Error.prototype},h=>h!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return ye.call(o,l,c,n,r,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",s&&Object.assign(o,s),o};const c2=null;function Lm(t){return j.isPlainObject(t)||j.isArray(t)}function pA(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function aw(t,e,n){return t?t.concat(e).map(function(i,s){return i=pA(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function h2(t){return j.isArray(t)&&!t.some(Lm)}const d2=j.toFlatObject(j,{},null,function(e){return/^is[A-Z]/.test(e)});function Xd(t,e,n){if(!j.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=j.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,k){return!j.isUndefined(k[O])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(e);if(!j.isFunction(i))throw new TypeError("visitor must be a function");function h(I){if(I===null)return"";if(j.isDate(I))return I.toISOString();if(j.isBoolean(I))return I.toString();if(!c&&j.isBlob(I))throw new ye("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(I)||j.isTypedArray(I)?c&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function f(I,O,k){let S=I;if(I&&!k&&typeof I=="object"){if(j.endsWith(O,"{}"))O=r?O:O.slice(0,-2),I=JSON.stringify(I);else if(j.isArray(I)&&h2(I)||(j.isFileList(I)||j.endsWith(O,"[]"))&&(S=j.toArray(I)))return O=pA(O),S.forEach(function(A,U){!(j.isUndefined(A)||A===null)&&e.append(o===!0?aw([O],U,s):o===null?O:O+"[]",h(A))}),!1}return Lm(I)?!0:(e.append(aw(k,O,s),h(I)),!1)}const g=[],y=Object.assign(d2,{defaultVisitor:f,convertValue:h,isVisitable:Lm});function P(I,O){if(!j.isUndefined(I)){if(g.indexOf(I)!==-1)throw Error("Circular reference detected in "+O.join("."));g.push(I),j.forEach(I,function(S,T){(!(j.isUndefined(S)||S===null)&&i.call(e,S,j.isString(T)?T.trim():T,O,y))===!0&&P(S,O?O.concat(T):[T])}),g.pop()}}if(!j.isObject(t))throw new TypeError("data must be an object");return P(t),e}function lw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function L_(t,e){this._pairs=[],t&&Xd(t,this,e)}const mA=L_.prototype;mA.append=function(e,n){this._pairs.push([e,n])};mA.toString=function(e){const n=e?function(r){return e.call(this,r,lw)}:lw;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function f2(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function gA(t,e,n){if(!e)return t;const r=n&&n.encode||f2;j.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=j.isURLSearchParams(e)?e.toString():new L_(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class p2{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){j.forEach(this.handlers,function(r){r!==null&&e(r)})}}const uw=p2,_A={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},m2=typeof URLSearchParams<"u"?URLSearchParams:L_,g2=typeof FormData<"u"?FormData:null,_2=typeof Blob<"u"?Blob:null,y2={isBrowser:!0,classes:{URLSearchParams:m2,FormData:g2,Blob:_2},protocols:["http","https","file","blob","url","data"]},V_=typeof window<"u"&&typeof document<"u",Vm=typeof navigator=="object"&&navigator||void 0,v2=V_&&(!Vm||["ReactNative","NativeScript","NS"].indexOf(Vm.product)<0),E2=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),w2=V_&&window.location.href||"http://localhost",T2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:V_,hasStandardBrowserEnv:v2,hasStandardBrowserWebWorkerEnv:E2,navigator:Vm,origin:w2},Symbol.toStringTag,{value:"Module"})),Gt={...T2,...y2};function I2(t,e){return Xd(t,new Gt.classes.URLSearchParams,{visitor:function(n,r,i,s){return Gt.isNode&&j.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function S2(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function A2(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function yA(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&j.isArray(i)?i.length:o,c?(j.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!j.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&j.isArray(i[o])&&(i[o]=A2(i[o])),!l)}if(j.isFormData(t)&&j.isFunction(t.entries)){const n={};return j.forEachEntry(t,(r,i)=>{e(S2(r),i,n,0)}),n}return null}function C2(t,e,n){if(j.isString(t))try{return(e||JSON.parse)(t),j.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const M_={transitional:_A,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=j.isObject(e);if(s&&j.isHTMLForm(e)&&(e=new FormData(e)),j.isFormData(e))return i?JSON.stringify(yA(e)):e;if(j.isArrayBuffer(e)||j.isBuffer(e)||j.isStream(e)||j.isFile(e)||j.isBlob(e)||j.isReadableStream(e))return e;if(j.isArrayBufferView(e))return e.buffer;if(j.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return I2(e,this.formSerializer).toString();if((l=j.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Xd(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),C2(e)):e}],transformResponse:[function(e){const n=this.transitional||M_.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(j.isResponse(e)||j.isReadableStream(e))return e;if(e&&j.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ye.from(l,ye.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gt.classes.FormData,Blob:Gt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],t=>{M_.headers[t]={}});const F_=M_,R2=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),P2=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&R2[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},cw=Symbol("internals");function Cl(t){return t&&String(t).trim().toLowerCase()}function yh(t){return t===!1||t==null?t:j.isArray(t)?t.map(yh):String(t)}function k2(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const b2=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function up(t,e,n,r,i){if(j.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!j.isString(e)){if(j.isString(r))return e.indexOf(r)!==-1;if(j.isRegExp(r))return r.test(e)}}function N2(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function O2(t,e){const n=j.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Jd{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,h){const f=Cl(c);if(!f)throw new Error("header name must be a non-empty string");const g=j.findKey(i,f);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||c]=yh(l))}const o=(l,c)=>j.forEach(l,(h,f)=>s(h,f,c));if(j.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(j.isString(e)&&(e=e.trim())&&!b2(e))o(P2(e),n);else if(j.isObject(e)&&j.isIterable(e)){let l={},c,h;for(const f of e){if(!j.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[h=f[0]]=(c=l[h])?j.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}o(l,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Cl(e),e){const r=j.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return k2(i);if(j.isFunction(n))return n.call(this,i,r);if(j.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Cl(e),e){const r=j.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||up(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Cl(o),o){const l=j.findKey(r,o);l&&(!n||up(r,r[l],l,n))&&(delete r[l],i=!0)}}return j.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||up(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return j.forEach(this,(i,s)=>{const o=j.findKey(r,s);if(o){n[o]=yh(i),delete n[s];return}const l=e?N2(s):String(s).trim();l!==s&&delete n[s],n[l]=yh(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return j.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&j.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[cw]=this[cw]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Cl(o);r[l]||(O2(i,o),r[l]=!0)}return j.isArray(e)?e.forEach(s):s(e),this}}Jd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(Jd.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});j.freezeMethods(Jd);const sr=Jd;function cp(t,e){const n=this||F_,r=e||n,i=sr.from(r.headers);let s=r.data;return j.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function vA(t){return!!(t&&t.__CANCEL__)}function Ma(t,e,n){ye.call(this,t??"canceled",ye.ERR_CANCELED,e,n),this.name="CanceledError"}j.inherits(Ma,ye,{__CANCEL__:!0});function EA(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ye("Request failed with status code "+n.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function x2(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function D2(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),f=r[s];o||(o=h),n[i]=c,r[i]=h;let g=s,y=0;for(;g!==i;)y+=n[g++],g=g%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),h-o<e)return;const P=f&&h-f;return P?Math.round(y*1e3/P):void 0}}function L2(t,e){let n=0,r=1e3/e,i,s;const o=(h,f=Date.now())=>{n=f,i=null,s&&(clearTimeout(s),s=null),t(...h)};return[(...h)=>{const f=Date.now(),g=f-n;g>=r?o(h,f):(i=h,s||(s=setTimeout(()=>{s=null,o(i)},r-g)))},()=>i&&o(i)]}const hd=(t,e,n=3)=>{let r=0;const i=D2(50,250);return L2(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-r,h=i(c),f=o<=l;r=o;const g={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:h||void 0,estimated:h&&l&&f?(l-o)/h:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(g)},n)},hw=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},dw=t=>(...e)=>j.asap(()=>t(...e)),V2=Gt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Gt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Gt.origin),Gt.navigator&&/(msie|trident)/i.test(Gt.navigator.userAgent)):()=>!0,M2=Gt.hasStandardBrowserEnv?{write(t,e,n,r,i,s,o){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];j.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),j.isString(r)&&l.push(`path=${r}`),j.isString(i)&&l.push(`domain=${i}`),s===!0&&l.push("secure"),j.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function F2(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function U2(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function wA(t,e,n){let r=!F2(e);return t&&(r||n==!1)?U2(t,e):e}const fw=t=>t instanceof sr?{...t}:t;function so(t,e){e=e||{};const n={};function r(h,f,g,y){return j.isPlainObject(h)&&j.isPlainObject(f)?j.merge.call({caseless:y},h,f):j.isPlainObject(f)?j.merge({},f):j.isArray(f)?f.slice():f}function i(h,f,g,y){if(j.isUndefined(f)){if(!j.isUndefined(h))return r(void 0,h,g,y)}else return r(h,f,g,y)}function s(h,f){if(!j.isUndefined(f))return r(void 0,f)}function o(h,f){if(j.isUndefined(f)){if(!j.isUndefined(h))return r(void 0,h)}else return r(void 0,f)}function l(h,f,g){if(g in e)return r(h,f);if(g in t)return r(void 0,h)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(h,f,g)=>i(fw(h),fw(f),g,!0)};return j.forEach(Object.keys({...t,...e}),function(f){const g=c[f]||i,y=g(t[f],e[f],f);j.isUndefined(y)&&g!==l||(n[f]=y)}),n}const TA=t=>{const e=so({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;if(e.headers=o=sr.from(o),e.url=gA(wA(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),j.isFormData(n)){if(Gt.hasStandardBrowserEnv||Gt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(j.isFunction(n.getHeaders)){const c=n.getHeaders(),h=["content-type","content-length"];Object.entries(c).forEach(([f,g])=>{h.includes(f.toLowerCase())&&o.set(f,g)})}}if(Gt.hasStandardBrowserEnv&&(r&&j.isFunction(r)&&(r=r(e)),r||r!==!1&&V2(e.url))){const c=i&&s&&M2.read(s);c&&o.set(i,c)}return e},j2=typeof XMLHttpRequest<"u",B2=j2&&function(t){return new Promise(function(n,r){const i=TA(t);let s=i.data;const o=sr.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:h}=i,f,g,y,P,I;function O(){P&&P(),I&&I(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let k=new XMLHttpRequest;k.open(i.method.toUpperCase(),i.url,!0),k.timeout=i.timeout;function S(){if(!k)return;const A=sr.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),K={data:!l||l==="text"||l==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:A,config:t,request:k};EA(function(C){n(C),O()},function(C){r(C),O()},K),k=null}"onloadend"in k?k.onloadend=S:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(S)},k.onabort=function(){k&&(r(new ye("Request aborted",ye.ECONNABORTED,t,k)),k=null)},k.onerror=function(U){const K=U&&U.message?U.message:"Network Error",Y=new ye(K,ye.ERR_NETWORK,t,k);Y.event=U||null,r(Y),k=null},k.ontimeout=function(){let U=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const K=i.transitional||_A;i.timeoutErrorMessage&&(U=i.timeoutErrorMessage),r(new ye(U,K.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,t,k)),k=null},s===void 0&&o.setContentType(null),"setRequestHeader"in k&&j.forEach(o.toJSON(),function(U,K){k.setRequestHeader(K,U)}),j.isUndefined(i.withCredentials)||(k.withCredentials=!!i.withCredentials),l&&l!=="json"&&(k.responseType=i.responseType),h&&([y,I]=hd(h,!0),k.addEventListener("progress",y)),c&&k.upload&&([g,P]=hd(c),k.upload.addEventListener("progress",g),k.upload.addEventListener("loadend",P)),(i.cancelToken||i.signal)&&(f=A=>{k&&(r(!A||A.type?new Ma(null,t,k):A),k.abort(),k=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const T=x2(i.url);if(T&&Gt.protocols.indexOf(T)===-1){r(new ye("Unsupported protocol "+T+":",ye.ERR_BAD_REQUEST,t));return}k.send(s||null)})},$2=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(h){if(!i){i=!0,l();const f=h instanceof Error?h:this.reason;r.abort(f instanceof ye?f:new Ma(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,s(new ye(`timeout ${e} of ms exceeded`,ye.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),t=null)};t.forEach(h=>h.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>j.asap(l),c}},z2=$2,W2=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},H2=async function*(t,e){for await(const n of q2(t))yield*W2(n,e)},q2=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},pw=(t,e,n,r)=>{const i=H2(t,e);let s=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:h,value:f}=await i.next();if(h){l(),c.close();return}let g=f.byteLength;if(n){let y=s+=g;n(y)}c.enqueue(new Uint8Array(f))}catch(h){throw l(h),h}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},mw=64*1024,{isFunction:Qc}=j,K2=(({Request:t,Response:e})=>({Request:t,Response:e}))(j.global),{ReadableStream:gw,TextEncoder:_w}=j.global,yw=(t,...e)=>{try{return!!t(...e)}catch{return!1}},G2=t=>{t=j.merge.call({skipUndefined:!0},K2,t);const{fetch:e,Request:n,Response:r}=t,i=e?Qc(e):typeof fetch=="function",s=Qc(n),o=Qc(r);if(!i)return!1;const l=i&&Qc(gw),c=i&&(typeof _w=="function"?(I=>O=>I.encode(O))(new _w):async I=>new Uint8Array(await new n(I).arrayBuffer())),h=s&&l&&yw(()=>{let I=!1;const O=new n(Gt.origin,{body:new gw,method:"POST",get duplex(){return I=!0,"half"}}).headers.has("Content-Type");return I&&!O}),f=o&&l&&yw(()=>j.isReadableStream(new r("").body)),g={stream:f&&(I=>I.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(I=>{!g[I]&&(g[I]=(O,k)=>{let S=O&&O[I];if(S)return S.call(O);throw new ye(`Response type '${I}' is not supported`,ye.ERR_NOT_SUPPORT,k)})});const y=async I=>{if(I==null)return 0;if(j.isBlob(I))return I.size;if(j.isSpecCompliantForm(I))return(await new n(Gt.origin,{method:"POST",body:I}).arrayBuffer()).byteLength;if(j.isArrayBufferView(I)||j.isArrayBuffer(I))return I.byteLength;if(j.isURLSearchParams(I)&&(I=I+""),j.isString(I))return(await c(I)).byteLength},P=async(I,O)=>{const k=j.toFiniteNumber(I.getContentLength());return k??y(O)};return async I=>{let{url:O,method:k,data:S,signal:T,cancelToken:A,timeout:U,onDownloadProgress:K,onUploadProgress:Y,responseType:C,headers:w,withCredentials:R="same-origin",fetchOptions:N}=TA(I),D=e||fetch;C=C?(C+"").toLowerCase():"text";let F=z2([T,A&&A.toAbortSignal()],U),b=null;const Qe=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let wn;try{if(Y&&h&&k!=="get"&&k!=="head"&&(wn=await P(w,S))!==0){let z=new n(O,{method:"POST",body:S,duplex:"half"}),we;if(j.isFormData(S)&&(we=z.headers.get("content-type"))&&w.setContentType(we),z.body){const[Fe,wt]=hw(wn,hd(dw(Y)));S=pw(z.body,mw,Fe,wt)}}j.isString(R)||(R=R?"include":"omit");const pt=s&&"credentials"in n.prototype,Xt={...N,signal:F,method:k.toUpperCase(),headers:w.normalize().toJSON(),body:S,duplex:"half",credentials:pt?R:void 0};b=s&&new n(O,Xt);let X=await(s?D(b,N):D(O,Xt));const le=f&&(C==="stream"||C==="response");if(f&&(K||le&&Qe)){const z={};["status","statusText","headers"].forEach(et=>{z[et]=X[et]});const we=j.toFiniteNumber(X.headers.get("content-length")),[Fe,wt]=K&&hw(we,hd(dw(K),!0))||[];X=new r(pw(X.body,mw,Fe,()=>{wt&&wt(),Qe&&Qe()}),z)}C=C||"text";let he=await g[j.findKey(g,C)||"text"](X,I);return!le&&Qe&&Qe(),await new Promise((z,we)=>{EA(z,we,{data:he,headers:sr.from(X.headers),status:X.status,statusText:X.statusText,config:I,request:b})})}catch(pt){throw Qe&&Qe(),pt&&pt.name==="TypeError"&&/Load failed|fetch/i.test(pt.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,I,b),{cause:pt.cause||pt}):ye.from(pt,pt&&pt.code,I,b)}}},Q2=new Map,IA=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let o=s.length,l=o,c,h,f=Q2;for(;l--;)c=s[l],h=f.get(c),h===void 0&&f.set(c,h=l?new Map:G2(e)),f=h;return h};IA();const U_={http:c2,xhr:B2,fetch:{get:IA}};j.forEach(U_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const vw=t=>`- ${t}`,Y2=t=>j.isFunction(t)||t===null||t===!1;function X2(t,e){t=j.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let o=0;o<n;o++){r=t[o];let l;if(i=r,!Y2(r)&&(i=U_[(l=String(r)).toLowerCase()],i===void 0))throw new ye(`Unknown adapter '${l}'`);if(i&&(j.isFunction(i)||(i=i.get(e))))break;s[l||"#"+o]=i}if(!i){const o=Object.entries(s).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(vw).join(`
`):" "+vw(o[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const SA={getAdapter:X2,adapters:U_};function hp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ma(null,t)}function Ew(t){return hp(t),t.headers=sr.from(t.headers),t.data=cp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),SA.getAdapter(t.adapter||F_.adapter,t)(t).then(function(r){return hp(t),r.data=cp.call(t,t.transformResponse,r),r.headers=sr.from(r.headers),r},function(r){return vA(r)||(hp(t),r&&r.response&&(r.response.data=cp.call(t,t.transformResponse,r.response),r.response.headers=sr.from(r.response.headers))),Promise.reject(r)})}const AA="1.13.1",Zd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Zd[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const ww={};Zd.transitional=function(e,n,r){function i(s,o){return"[Axios v"+AA+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new ye(i(o," has been removed"+(n?" in "+n:"")),ye.ERR_DEPRECATED);return n&&!ww[o]&&(ww[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};Zd.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function J2(t,e,n){if(typeof t!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],c=l===void 0||o(l,s,t);if(c!==!0)throw new ye("option "+s+" must be "+c,ye.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ye("Unknown option "+s,ye.ERR_BAD_OPTION)}}const vh={assertOptions:J2,validators:Zd},vr=vh.validators;class dd{constructor(e){this.defaults=e||{},this.interceptors={request:new uw,response:new uw}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=so(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&vh.assertOptions(r,{silentJSONParsing:vr.transitional(vr.boolean),forcedJSONParsing:vr.transitional(vr.boolean),clarifyTimeoutError:vr.transitional(vr.boolean)},!1),i!=null&&(j.isFunction(i)?n.paramsSerializer={serialize:i}:vh.assertOptions(i,{encode:vr.function,serialize:vr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),vh.assertOptions(n,{baseUrl:vr.spelling("baseURL"),withXsrfToken:vr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&j.merge(s.common,s[n.method]);s&&j.forEach(["delete","get","head","post","put","patch","common"],I=>{delete s[I]}),n.headers=sr.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(n)===!1||(c=c&&O.synchronous,l.unshift(O.fulfilled,O.rejected))});const h=[];this.interceptors.response.forEach(function(O){h.push(O.fulfilled,O.rejected)});let f,g=0,y;if(!c){const I=[Ew.bind(this),void 0];for(I.unshift(...l),I.push(...h),y=I.length,f=Promise.resolve(n);g<y;)f=f.then(I[g++],I[g++]);return f}y=l.length;let P=n;for(;g<y;){const I=l[g++],O=l[g++];try{P=I(P)}catch(k){O.call(this,k);break}}try{f=Ew.call(this,P)}catch(I){return Promise.reject(I)}for(g=0,y=h.length;g<y;)f=f.then(h[g++],h[g++]);return f}getUri(e){e=so(this.defaults,e);const n=wA(e.baseURL,e.url,e.allowAbsoluteUrls);return gA(n,e.params,e.paramsSerializer)}}j.forEach(["delete","get","head","options"],function(e){dd.prototype[e]=function(n,r){return this.request(so(r||{},{method:e,url:n,data:(r||{}).data}))}});j.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(so(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}dd.prototype[e]=n(),dd.prototype[e+"Form"]=n(!0)});const Eh=dd;class j_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new Ma(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new j_(function(i){e=i}),cancel:e}}}const Z2=j_;function eM(t){return function(n){return t.apply(null,n)}}function tM(t){return j.isObject(t)&&t.isAxiosError===!0}const Mm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Mm).forEach(([t,e])=>{Mm[e]=t});const nM=Mm;function CA(t){const e=new Eh(t),n=iA(Eh.prototype.request,e);return j.extend(n,Eh.prototype,e,{allOwnKeys:!0}),j.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return CA(so(t,i))},n}const ft=CA(F_);ft.Axios=Eh;ft.CanceledError=Ma;ft.CancelToken=Z2;ft.isCancel=vA;ft.VERSION=AA;ft.toFormData=Xd;ft.AxiosError=ye;ft.Cancel=ft.CanceledError;ft.all=function(e){return Promise.all(e)};ft.spread=eM;ft.isAxiosError=tM;ft.mergeConfig=so;ft.AxiosHeaders=sr;ft.formToJSON=t=>yA(j.isHTMLForm(t)?new FormData(t):t);ft.getAdapter=SA.getAdapter;ft.HttpStatusCode=nM;ft.default=ft;const RA=ft,Fm="http://localhost:4000/api",PA="https://image.tmdb.org/t/p/w500";function rM(){const{currentUser:t}=br(),[e,n]=W.useState([]),[r,i]=W.useState(""),[s,o]=W.useState(!1),[l,c]=W.useState(""),[h,f]=W.useState("top_rated"),[g,y]=W.useState([]),P=async(k="",S=h)=>{o(!0),c("");try{let T;k?T=`${Fm}/search?q=${encodeURIComponent(k)}`:T=`${Fm}/${S}`;const A=await RA.get(T);n(A.data.results||[])}catch(T){c("Failed to fetch movies. Please try again."),console.error(T)}o(!1)};W.useEffect(()=>{P()},[h]),W.useEffect(()=>{(async()=>{if(!t){y([]);return}try{const S=k_(Wd(io,"reviews"),b_("author","==",t.email)),A=(await O_(S)).docs.map(U=>({id:U.id,...U.data()}));y(A)}catch(S){console.error("Failed to fetch user reviews:",S)}})()},[t]);const I=k=>{k.preventDefault(),P(r)},O=k=>{f(k),i("")};return x.createElement("div",null,x.createElement("h2",null,"Movies"),x.createElement("div",{className:"mb-4"},x.createElement("div",{className:"btn-group me-3",role:"group"},x.createElement("button",{type:"button",className:`btn ${h==="popular"?"btn-primary":"btn-outline-primary"}`,onClick:()=>O("popular")},"Popular"),x.createElement("button",{type:"button",className:`btn ${h==="upcoming"?"btn-primary":"btn-outline-primary"}`,onClick:()=>O("upcoming")},"Upcoming"),x.createElement("button",{type:"button",className:`btn ${h==="top_rated"?"btn-primary":"btn-outline-primary"}`,onClick:()=>O("top_rated")},"Top Rated")),!t&&x.createElement("div",{className:"d-inline"},x.createElement(Pn,{to:"/login",className:"btn btn-outline-success me-2"},"Login"),x.createElement(Pn,{to:"/register",className:"btn btn-outline-info"},"Register"))),x.createElement("form",{onSubmit:I,className:"mb-4"},x.createElement("div",{className:"input-group"},x.createElement("input",{type:"text",className:"form-control",placeholder:"Search for movies...",value:r,onChange:k=>i(k.target.value)}),x.createElement("button",{className:"btn btn-outline-secondary",type:"submit"},"Search"))),l&&x.createElement("div",{className:"alert alert-danger"},l),s?x.createElement("div",{className:"text-center"},x.createElement("div",{className:"spinner-border",role:"status"},x.createElement("span",{className:"visually-hidden"},"Loading..."))):x.createElement("div",{className:"row"},e.map(k=>x.createElement("div",{key:k.id,className:"col-md-3 mb-4"},x.createElement(Pn,{to:`/movie/${k.id}`,className:"text-decoration-none text-dark"},x.createElement("div",{className:"card movie-card"},x.createElement("img",{src:k.poster_path?PA+k.poster_path:"",className:"card-img-top",alt:k.title}),x.createElement("div",{className:"card-body"},x.createElement("h5",{className:"card-title"},k.title),x.createElement("p",{className:"card-text"},"Rating: ",k.vote_average),t&&g.some(S=>S.movieId===k.id.toString())&&x.createElement("span",{className:"badge bg-success"},"Reviewed"))))))))}function ef({rating:t,onRatingChange:e,readonly:n=!1}){const r=i=>{!n&&e&&e(i)};return x.createElement("div",{className:"star-rating"},[1,2,3,4,5].map(i=>x.createElement("span",{key:i,className:`star ${i<=t?"filled":""} ${n?"readonly":""}`,onClick:()=>r(i),style:{cursor:n?"default":"pointer",fontSize:"24px",color:i<=t?"#ffc107":"#ddd"}},"")))}function iM(){const{id:t}=UT(),[e,n]=W.useState(null),[r,i]=W.useState([]),[s,o]=W.useState(!0),[l,c]=W.useState(""),h=di(),{currentUser:f}=br();W.useEffect(()=>{(async()=>{o(!0),c("");try{const P=await RA.get(`${Fm}/movie/${t}`);n(P.data);const I=k_(Wd(io,"reviews"),b_("movieId","==",t)),O=await O_(I);i(O.docs.map(k=>({id:k.id,...k.data()})))}catch(P){c("Failed to load movie details or reviews."),console.error(P)}o(!1)})()},[t]);async function g(y){if(confirm("Delete this review?"))try{await vV(ud(io,"reviews",y)),i(r.filter(P=>P.id!==y))}catch(P){c("Failed to delete review."),console.error(P)}}return s?x.createElement("div",{className:"text-center"},x.createElement("div",{className:"spinner-border",role:"status"},x.createElement("span",{className:"visually-hidden"},"Loading..."))):l?x.createElement("div",{className:"alert alert-danger"},l):x.createElement("div",null,x.createElement("button",{className:"btn btn-link mb-3",onClick:()=>h(-1)}," Back"),e&&x.createElement("div",{className:"row"},x.createElement("div",{className:"col-md-4"},x.createElement("img",{src:e.poster_path?PA+e.poster_path:"",className:"img-fluid",alt:e.title})),x.createElement("div",{className:"col-md-8"},x.createElement("h2",null,e.title),x.createElement("p",null,e.overview),x.createElement("p",null,"Release: ",e.release_date),f&&x.createElement(Pn,{to:`/add-review?movieId=${t}&title=${encodeURIComponent(e.title)}`,className:"btn btn-primary"},"Add Review"))),x.createElement("hr",null),x.createElement("h3",null,"Reviews"),r.length===0&&x.createElement("p",null,"No reviews yet  be the first!"),r.map(y=>x.createElement("div",{key:y.id,className:"card mb-2"},x.createElement("div",{className:"card-body"},x.createElement("h5",null,y.title," ",x.createElement("small",{className:"text-muted"}," ",y.author)),x.createElement(ef,{rating:y.rating,readonly:!0}),x.createElement("p",null,y.content),f&&y.author===f.email&&x.createElement(x.Fragment,null,x.createElement(Pn,{to:`/edit-review/${y.id}`,className:"btn btn-sm btn-outline-secondary me-2"},"Edit"),x.createElement("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>g(y.id)},"Delete"))))))}function sM(){const[t]=wk(),e=t.get("movieId")||"",n=t.get("title")||"",[r,i]=W.useState(n?`Review: ${n}`:""),[s,o]=W.useState(4),[l,c]=W.useState(""),[h,f]=W.useState(!1),[g,y]=W.useState(""),P=di(),{currentUser:I}=br();async function O(k){if(k.preventDefault(),!I){y("You must be logged in to add a review.");return}f(!0),y("");try{await EV(Wd(io,"reviews"),{movieId:e,title:r,author:I.email,rating:s,content:l,createdAt:new Date().toISOString()}),P(`/movie/${e}`)}catch(S){y("Failed to add review. Please try again."),console.error(S)}f(!1)}return x.createElement("div",null,x.createElement("h2",null,"Add Review"),g&&x.createElement("div",{className:"alert alert-danger"},g),x.createElement("form",{onSubmit:O},x.createElement("div",{className:"mb-3"},x.createElement("label",{className:"form-label"},"Title"),x.createElement("input",{value:r,onChange:k=>i(k.target.value),className:"form-control"})),x.createElement("div",{className:"mb-3"},x.createElement("label",{className:"form-label"},"Rating"),x.createElement(ef,{rating:s,onRatingChange:o})),x.createElement("div",{className:"mb-3"},x.createElement("label",{className:"form-label"},"Content"),x.createElement("textarea",{value:l,onChange:k=>c(k.target.value),className:"form-control",rows:5,required:!0})),x.createElement("button",{className:"btn btn-primary",disabled:h},h?"Submitting...":"Submit")))}function oM(){const{id:t}=UT(),[e,n]=W.useState(null),[r,i]=W.useState(!1),[s,o]=W.useState(""),l=di(),{currentUser:c}=br();W.useEffect(()=>{c&&(async()=>{try{const g=await _V(ud(io,"reviews",t));if(g.exists()){const y=g.data();if(y.author!==(c==null?void 0:c.email)){o("You can only edit your own reviews.");return}n({id:g.id,...y})}}catch(g){o("Failed to load review."),console.error(g)}})()},[t,c]);async function h(f){if(f.preventDefault(),!c){o("You must be logged in to edit a review.");return}i(!0),o("");try{await yV(ud(io,"reviews",t),{title:e.title,rating:e.rating,content:e.content}),l(`/movie/${e.movieId}`)}catch(g){o("Failed to update review. Please try again."),console.error(g)}i(!1)}return!e&&!s?x.createElement("div",{className:"text-center"},x.createElement("div",{className:"spinner-border",role:"status"},x.createElement("span",{className:"visually-hidden"},"Loading..."))):s?x.createElement("div",{className:"alert alert-danger"},s):x.createElement("div",null,x.createElement("h2",null,"Edit Review"),x.createElement("form",{onSubmit:h},x.createElement("div",{className:"mb-3"},x.createElement("label",{className:"form-label"},"Title"),x.createElement("input",{value:e.title,onChange:f=>n({...e,title:f.target.value}),className:"form-control"})),x.createElement("div",{className:"mb-3"},x.createElement("label",{className:"form-label"},"Rating"),x.createElement(ef,{rating:e.rating,onRatingChange:f=>n({...e,rating:f})})),x.createElement("div",{className:"mb-3"},x.createElement("label",{className:"form-label"},"Content"),x.createElement("textarea",{value:e.content,onChange:f=>n({...e,content:f.target.value}),className:"form-control",rows:5,required:!0})),x.createElement("button",{className:"btn btn-primary",disabled:r},r?"Saving...":"Save")))}function aM(){const{currentUser:t}=br(),[e,n]=W.useState([]),[r,i]=W.useState(!0),[s,o]=W.useState("");return W.useEffect(()=>{(async()=>{if(t){i(!0),o("");try{const c=k_(Wd(io,"reviews"),b_("author","==",t.email)),h=await O_(c);n(h.docs.map(f=>({id:f.id,...f.data()})))}catch(c){o("Failed to load your reviews."),console.error(c)}i(!1)}})()},[t]),t?r?x.createElement("div",{className:"text-center"},x.createElement("div",{className:"spinner-border",role:"status"},x.createElement("span",{className:"visually-hidden"},"Loading..."))):x.createElement("div",null,x.createElement("h2",null,"Profile"),x.createElement("p",null,"Welcome, ",t.email,"!"),s&&x.createElement("div",{className:"alert alert-danger"},s),x.createElement("h3",null,"Your Reviews"),e.length===0?x.createElement("p",null,"You haven't written any reviews yet."):e.map(l=>x.createElement("div",{key:l.id,className:"card mb-3"},x.createElement("div",{className:"card-body"},x.createElement("h5",{className:"card-title"},l.title),x.createElement(ef,{rating:l.rating,readonly:!0}),x.createElement("p",{className:"card-text"},l.content),x.createElement("small",{className:"text-muted"},"Created: ",new Date(l.createdAt).toLocaleDateString()))))):x.createElement("div",null,x.createElement("h2",null,"Profile"),x.createElement("p",null,"Please log in to view your profile."))}function lM(){const[t,e]=W.useState(""),[n,r]=W.useState(""),[i,s]=W.useState(""),[o,l]=W.useState(!1),{login:c}=br(),h=di();async function f(g){g.preventDefault();try{s(""),l(!0),await c(t,n),h("/")}catch(y){s("Failed to log in: "+y.message)}l(!1)}return x.createElement("div",{className:"container mt-5"},x.createElement("div",{className:"row justify-content-center"},x.createElement("div",{className:"col-md-6"},x.createElement("div",{className:"card"},x.createElement("div",{className:"card-body"},x.createElement("h2",{className:"card-title text-center"},"Login"),i&&x.createElement("div",{className:"alert alert-danger"},i),x.createElement("form",{onSubmit:f},x.createElement("div",{className:"mb-3"},x.createElement("label",{className:"form-label"},"Email"),x.createElement("input",{type:"email",className:"form-control",value:t,onChange:g=>e(g.target.value),required:!0})),x.createElement("div",{className:"mb-3"},x.createElement("label",{className:"form-label"},"Password"),x.createElement("input",{type:"password",className:"form-control",value:n,onChange:g=>r(g.target.value),required:!0})),x.createElement("button",{disabled:o,className:"btn btn-primary w-100",type:"submit"},o?"Logging in...":"Login")),x.createElement("div",{className:"text-center mt-3"},x.createElement("p",null,"Don't have an account? ",x.createElement(Pn,{to:"/register"},"Register"))))))))}function uM(){const[t,e]=W.useState(""),[n,r]=W.useState(""),[i,s]=W.useState(""),[o,l]=W.useState(""),[c,h]=W.useState(!1),{register:f}=br(),g=di();async function y(P){if(P.preventDefault(),n!==i)return l("Passwords do not match");try{l(""),h(!0),await f(t,n),g("/")}catch(I){l("Failed to create account: "+I.message)}h(!1)}return x.createElement("div",{className:"container mt-5"},x.createElement("div",{className:"row justify-content-center"},x.createElement("div",{className:"col-md-6"},x.createElement("div",{className:"card"},x.createElement("div",{className:"card-body"},x.createElement("h2",{className:"card-title text-center"},"Register"),o&&x.createElement("div",{className:"alert alert-danger"},o),x.createElement("form",{onSubmit:y},x.createElement("div",{className:"mb-3"},x.createElement("label",{className:"form-label"},"Email"),x.createElement("input",{type:"email",className:"form-control",value:t,onChange:P=>e(P.target.value),required:!0})),x.createElement("div",{className:"mb-3"},x.createElement("label",{className:"form-label"},"Password"),x.createElement("input",{type:"password",className:"form-control",value:n,onChange:P=>r(P.target.value),required:!0})),x.createElement("div",{className:"mb-3"},x.createElement("label",{className:"form-label"},"Confirm Password"),x.createElement("input",{type:"password",className:"form-control",value:i,onChange:P=>s(P.target.value),required:!0})),x.createElement("button",{disabled:c,className:"btn btn-primary w-100",type:"submit"},c?"Creating account...":"Register")),x.createElement("div",{className:"text-center mt-3"},x.createElement("p",null,"Already have an account? ",x.createElement(Pn,{to:"/login"},"Login"))))))))}function dp({children:t}){const{currentUser:e}=br();return e?t:x.createElement(ak,{to:"/login"})}function cM(){const{currentUser:t,logout:e}=br();return x.createElement("div",null,x.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},x.createElement("div",{className:"container"},x.createElement(Pn,{className:"navbar-brand",to:"/"},"MovieReviews"),x.createElement("div",{className:"collapse navbar-collapse"},x.createElement("ul",{className:"navbar-nav me-auto"},x.createElement("li",{className:"nav-item"},x.createElement(Pn,{className:"nav-link",to:"/movies"},"Movies"))),x.createElement("ul",{className:"navbar-nav ms-auto"},t?x.createElement(x.Fragment,null,x.createElement("li",{className:"nav-item"},x.createElement(Pn,{className:"nav-link",to:"/add-review"},"Add Review")),x.createElement("li",{className:"nav-item"},x.createElement(Pn,{className:"nav-link",to:"/profile"},"Profile")),x.createElement("li",{className:"nav-item"},x.createElement("button",{className:"btn btn-link nav-link",onClick:e},"Logout"))):null)))),x.createElement("div",{className:"container mt-4"},x.createElement(uk,null,x.createElement(Wr,{path:"/",element:x.createElement(SV,null)}),x.createElement(Wr,{path:"/movies",element:x.createElement(rM,null)}),x.createElement(Wr,{path:"/movie/:id",element:x.createElement(iM,null)}),x.createElement(Wr,{path:"/login",element:x.createElement(lM,null)}),x.createElement(Wr,{path:"/register",element:x.createElement(uM,null)}),x.createElement(Wr,{path:"/add-review",element:x.createElement(dp,null,x.createElement(sM,null))}),x.createElement(Wr,{path:"/edit-review/:id",element:x.createElement(dp,null,x.createElement(oM,null))}),x.createElement(Wr,{path:"/profile",element:x.createElement(dp,null,x.createElement(aM,null))}))))}function hM(){return x.createElement(_k,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0}},x.createElement(IV,null,x.createElement(cM,null)))}var dM={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r()})(Y1,function(){const n=new Map,r={set(_,u,p){n.has(_)||n.set(_,new Map);const E=n.get(_);E.has(u)||E.size===0?E.set(u,p):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(E.keys())[0]}.`)},get:(_,u)=>n.has(_)&&n.get(_).get(u)||null,remove(_,u){if(!n.has(_))return;const p=n.get(_);p.delete(u),p.size===0&&n.delete(_)}},i="transitionend",s=_=>(_&&window.CSS&&window.CSS.escape&&(_=_.replace(/#([^\s"#']+)/g,(u,p)=>`#${CSS.escape(p)}`)),_),o=_=>_==null?`${_}`:Object.prototype.toString.call(_).match(/\s([a-z]+)/i)[1].toLowerCase(),l=_=>{_.dispatchEvent(new Event(i))},c=_=>!(!_||typeof _!="object")&&(_.jquery!==void 0&&(_=_[0]),_.nodeType!==void 0),h=_=>c(_)?_.jquery?_[0]:_:typeof _=="string"&&_.length>0?document.querySelector(s(_)):null,f=_=>{if(!c(_)||_.getClientRects().length===0)return!1;const u=getComputedStyle(_).getPropertyValue("visibility")==="visible",p=_.closest("details:not([open])");if(!p)return u;if(p!==_){const E=_.closest("summary");if(E&&E.parentNode!==p||E===null)return!1}return u},g=_=>!_||_.nodeType!==Node.ELEMENT_NODE||!!_.classList.contains("disabled")||(_.disabled!==void 0?_.disabled:_.hasAttribute("disabled")&&_.getAttribute("disabled")!=="false"),y=_=>{if(!document.documentElement.attachShadow)return null;if(typeof _.getRootNode=="function"){const u=_.getRootNode();return u instanceof ShadowRoot?u:null}return _ instanceof ShadowRoot?_:_.parentNode?y(_.parentNode):null},P=()=>{},I=_=>{_.offsetHeight},O=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,k=[],S=()=>document.documentElement.dir==="rtl",T=_=>{var u;u=()=>{const p=O();if(p){const E=_.NAME,L=p.fn[E];p.fn[E]=_.jQueryInterface,p.fn[E].Constructor=_,p.fn[E].noConflict=()=>(p.fn[E]=L,_.jQueryInterface)}},document.readyState==="loading"?(k.length||document.addEventListener("DOMContentLoaded",()=>{for(const p of k)p()}),k.push(u)):u()},A=(_,u=[],p=_)=>typeof _=="function"?_.call(...u):p,U=(_,u,p=!0)=>{if(!p)return void A(_);const E=($=>{if(!$)return 0;let{transitionDuration:q,transitionDelay:Z}=window.getComputedStyle($);const te=Number.parseFloat(q),ie=Number.parseFloat(Z);return te||ie?(q=q.split(",")[0],Z=Z.split(",")[0],1e3*(Number.parseFloat(q)+Number.parseFloat(Z))):0})(u)+5;let L=!1;const V=({target:$})=>{$===u&&(L=!0,u.removeEventListener(i,V),A(_))};u.addEventListener(i,V),setTimeout(()=>{L||l(u)},E)},K=(_,u,p,E)=>{const L=_.length;let V=_.indexOf(u);return V===-1?!p&&E?_[L-1]:_[0]:(V+=p?1:-1,E&&(V=(V+L)%L),_[Math.max(0,Math.min(V,L-1))])},Y=/[^.]*(?=\..*)\.|.*/,C=/\..*/,w=/::\d+$/,R={};let N=1;const D={mouseenter:"mouseover",mouseleave:"mouseout"},F=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function b(_,u){return u&&`${u}::${N++}`||_.uidEvent||N++}function Qe(_){const u=b(_);return _.uidEvent=u,R[u]=R[u]||{},R[u]}function wn(_,u,p=null){return Object.values(_).find(E=>E.callable===u&&E.delegationSelector===p)}function pt(_,u,p){const E=typeof u=="string",L=E?p:u||p;let V=he(_);return F.has(V)||(V=_),[E,L,V]}function Xt(_,u,p,E,L){if(typeof u!="string"||!_)return;let[V,$,q]=pt(u,p,E);u in D&&($=(pe=>function(de){if(!de.relatedTarget||de.relatedTarget!==de.delegateTarget&&!de.delegateTarget.contains(de.relatedTarget))return pe.call(this,de)})($));const Z=Qe(_),te=Z[q]||(Z[q]={}),ie=wn(te,$,V?p:null);if(ie)return void(ie.oneOff=ie.oneOff&&L);const ee=b($,u.replace(Y,"")),ve=V?function(ue,pe,de){return function me(Ue){const ze=ue.querySelectorAll(pe);for(let{target:Te}=Ue;Te&&Te!==this;Te=Te.parentNode)for(const Oe of ze)if(Oe===Te)return we(Ue,{delegateTarget:Te}),me.oneOff&&z.off(ue,Ue.type,pe,de),de.apply(Te,[Ue])}}(_,p,$):function(ue,pe){return function de(me){return we(me,{delegateTarget:ue}),de.oneOff&&z.off(ue,me.type,pe),pe.apply(ue,[me])}}(_,$);ve.delegationSelector=V?p:null,ve.callable=$,ve.oneOff=L,ve.uidEvent=ee,te[ee]=ve,_.addEventListener(q,ve,V)}function X(_,u,p,E,L){const V=wn(u[p],E,L);V&&(_.removeEventListener(p,V,!!L),delete u[p][V.uidEvent])}function le(_,u,p,E){const L=u[p]||{};for(const[V,$]of Object.entries(L))V.includes(E)&&X(_,u,p,$.callable,$.delegationSelector)}function he(_){return _=_.replace(C,""),D[_]||_}const z={on(_,u,p,E){Xt(_,u,p,E,!1)},one(_,u,p,E){Xt(_,u,p,E,!0)},off(_,u,p,E){if(typeof u!="string"||!_)return;const[L,V,$]=pt(u,p,E),q=$!==u,Z=Qe(_),te=Z[$]||{},ie=u.startsWith(".");if(V===void 0){if(ie)for(const ee of Object.keys(Z))le(_,Z,ee,u.slice(1));for(const[ee,ve]of Object.entries(te)){const ue=ee.replace(w,"");q&&!u.includes(ue)||X(_,Z,$,ve.callable,ve.delegationSelector)}}else{if(!Object.keys(te).length)return;X(_,Z,$,V,L?p:null)}},trigger(_,u,p){if(typeof u!="string"||!_)return null;const E=O();let L=null,V=!0,$=!0,q=!1;u!==he(u)&&E&&(L=E.Event(u,p),E(_).trigger(L),V=!L.isPropagationStopped(),$=!L.isImmediatePropagationStopped(),q=L.isDefaultPrevented());const Z=we(new Event(u,{bubbles:V,cancelable:!0}),p);return q&&Z.preventDefault(),$&&_.dispatchEvent(Z),Z.defaultPrevented&&L&&L.preventDefault(),Z}};function we(_,u={}){for(const[p,E]of Object.entries(u))try{_[p]=E}catch{Object.defineProperty(_,p,{configurable:!0,get:()=>E})}return _}function Fe(_){if(_==="true")return!0;if(_==="false")return!1;if(_===Number(_).toString())return Number(_);if(_===""||_==="null")return null;if(typeof _!="string")return _;try{return JSON.parse(decodeURIComponent(_))}catch{return _}}function wt(_){return _.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const et={setDataAttribute(_,u,p){_.setAttribute(`data-bs-${wt(u)}`,p)},removeDataAttribute(_,u){_.removeAttribute(`data-bs-${wt(u)}`)},getDataAttributes(_){if(!_)return{};const u={},p=Object.keys(_.dataset).filter(E=>E.startsWith("bs")&&!E.startsWith("bsConfig"));for(const E of p){let L=E.replace(/^bs/,"");L=L.charAt(0).toLowerCase()+L.slice(1),u[L]=Fe(_.dataset[E])}return u},getDataAttribute:(_,u)=>Fe(_.getAttribute(`data-bs-${wt(u)}`))};class Jt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,p){const E=c(p)?et.getDataAttribute(p,"config"):{};return{...this.constructor.Default,...typeof E=="object"?E:{},...c(p)?et.getDataAttributes(p):{},...typeof u=="object"?u:{}}}_typeCheckConfig(u,p=this.constructor.DefaultType){for(const[E,L]of Object.entries(p)){const V=u[E],$=c(V)?"element":o(V);if(!new RegExp(L).test($))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${E}" provided type "${$}" but expected type "${L}".`)}}}class tt extends Jt{constructor(u,p){super(),(u=h(u))&&(this._element=u,this._config=this._getConfig(p),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),z.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,p,E=!0){U(u,p,E)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return r.get(h(u),this.DATA_KEY)}static getOrCreateInstance(u,p={}){return this.getInstance(u)||new this(u,typeof p=="object"?p:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const Fa=_=>{let u=_.getAttribute("data-bs-target");if(!u||u==="#"){let p=_.getAttribute("href");if(!p||!p.includes("#")&&!p.startsWith("."))return null;p.includes("#")&&!p.startsWith("#")&&(p=`#${p.split("#")[1]}`),u=p&&p!=="#"?p.trim():null}return u?u.split(",").map(p=>s(p)).join(","):null},oe={find:(_,u=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(u,_)),findOne:(_,u=document.documentElement)=>Element.prototype.querySelector.call(u,_),children:(_,u)=>[].concat(..._.children).filter(p=>p.matches(u)),parents(_,u){const p=[];let E=_.parentNode.closest(u);for(;E;)p.push(E),E=E.parentNode.closest(u);return p},prev(_,u){let p=_.previousElementSibling;for(;p;){if(p.matches(u))return[p];p=p.previousElementSibling}return[]},next(_,u){let p=_.nextElementSibling;for(;p;){if(p.matches(u))return[p];p=p.nextElementSibling}return[]},focusableChildren(_){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(p=>`${p}:not([tabindex^="-"])`).join(",");return this.find(u,_).filter(p=>!g(p)&&f(p))},getSelectorFromElement(_){const u=Fa(_);return u&&oe.findOne(u)?u:null},getElementFromSelector(_){const u=Fa(_);return u?oe.findOne(u):null},getMultipleElementsFromSelector(_){const u=Fa(_);return u?oe.find(u):[]}},Nr=(_,u="hide")=>{const p=`click.dismiss${_.EVENT_KEY}`,E=_.NAME;z.on(document,p,`[data-bs-dismiss="${E}"]`,function(L){if(["A","AREA"].includes(this.tagName)&&L.preventDefault(),g(this))return;const V=oe.getElementFromSelector(this)||this.closest(`.${E}`);_.getOrCreateInstance(V)[u]()})},gs=".bs.alert",Ua=`close${gs}`,ja=`closed${gs}`;class Or extends tt{static get NAME(){return"alert"}close(){if(z.trigger(this._element,Ua).defaultPrevented)return;this._element.classList.remove("show");const u=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,u)}_destroyElement(){this._element.remove(),z.trigger(this._element,ja),this.dispose()}static jQueryInterface(u){return this.each(function(){const p=Or.getOrCreateInstance(this);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u](this)}})}}Nr(Or,"close"),T(Or);const ho='[data-bs-toggle="button"]';class pi extends tt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(u){return this.each(function(){const p=pi.getOrCreateInstance(this);u==="toggle"&&p[u]()})}}z.on(document,"click.bs.button.data-api",ho,_=>{_.preventDefault();const u=_.target.closest(ho);pi.getOrCreateInstance(u).toggle()}),T(pi);const xr=".bs.swipe",tf=`touchstart${xr}`,Ku=`touchmove${xr}`,Gu=`touchend${xr}`,Ba=`pointerdown${xr}`,Qu=`pointerup${xr}`,nf={endCallback:null,leftCallback:null,rightCallback:null},$a={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class mi extends Jt{constructor(u,p){super(),this._element=u,u&&mi.isSupported()&&(this._config=this._getConfig(p),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return nf}static get DefaultType(){return $a}static get NAME(){return"swipe"}dispose(){z.off(this._element,xr)}_start(u){this._supportPointerEvents?this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX):this._deltaX=u.touches[0].clientX}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),A(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=40)return;const p=u/this._deltaX;this._deltaX=0,p&&A(p>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(z.on(this._element,Ba,u=>this._start(u)),z.on(this._element,Qu,u=>this._end(u)),this._element.classList.add("pointer-event")):(z.on(this._element,tf,u=>this._start(u)),z.on(this._element,Ku,u=>this._move(u)),z.on(this._element,Gu,u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&(u.pointerType==="pen"||u.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Dn=".bs.carousel",mt=".data-api",Nt="ArrowLeft",fo="ArrowRight",gi="next",Dr="prev",_i="left",cr="right",Yu=`slide${Dn}`,po=`slid${Dn}`,za=`keydown${Dn}`,rf=`mouseenter${Dn}`,sf=`mouseleave${Dn}`,Wa=`dragstart${Dn}`,Xu=`load${Dn}${mt}`,Ju=`click${Dn}${mt}`,yi="carousel",vi="active",mo=".active",hr=".carousel-item",Zu=mo+hr,go={[Nt]:cr,[fo]:_i},ec={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},_s={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Lr extends tt{constructor(u,p){super(u,p),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=oe.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===yi&&this.cycle()}static get Default(){return ec}static get DefaultType(){return _s}static get NAME(){return"carousel"}next(){this._slide(gi)}nextWhenVisible(){!document.hidden&&f(this._element)&&this.next()}prev(){this._slide(Dr)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?z.one(this._element,po,()=>this.cycle()):this.cycle())}to(u){const p=this._getItems();if(u>p.length-1||u<0)return;if(this._isSliding)return void z.one(this._element,po,()=>this.to(u));const E=this._getItemIndex(this._getActive());if(E===u)return;const L=u>E?gi:Dr;this._slide(L,p[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&z.on(this._element,za,u=>this._keydown(u)),this._config.pause==="hover"&&(z.on(this._element,rf,()=>this.pause()),z.on(this._element,sf,()=>this._maybeEnableCycle())),this._config.touch&&mi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of oe.find(".carousel-item img",this._element))z.on(p,Wa,E=>E.preventDefault());const u={leftCallback:()=>this._slide(this._directionToOrder(_i)),rightCallback:()=>this._slide(this._directionToOrder(cr)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new mi(this._element,u)}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const p=go[u.key];p&&(u.preventDefault(),this._slide(this._directionToOrder(p)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const p=oe.findOne(mo,this._indicatorsElement);p.classList.remove(vi),p.removeAttribute("aria-current");const E=oe.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);E&&(E.classList.add(vi),E.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const p=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=p||this._config.defaultInterval}_slide(u,p=null){if(this._isSliding)return;const E=this._getActive(),L=u===gi,V=p||K(this._getItems(),E,L,this._config.wrap);if(V===E)return;const $=this._getItemIndex(V),q=ee=>z.trigger(this._element,ee,{relatedTarget:V,direction:this._orderToDirection(u),from:this._getItemIndex(E),to:$});if(q(Yu).defaultPrevented||!E||!V)return;const Z=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement($),this._activeElement=V;const te=L?"carousel-item-start":"carousel-item-end",ie=L?"carousel-item-next":"carousel-item-prev";V.classList.add(ie),I(V),E.classList.add(te),V.classList.add(te),this._queueCallback(()=>{V.classList.remove(te,ie),V.classList.add(vi),E.classList.remove(vi,ie,te),this._isSliding=!1,q(po)},E,this._isAnimated()),Z&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return oe.findOne(Zu,this._element)}_getItems(){return oe.find(hr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return S()?u===_i?Dr:gi:u===_i?gi:Dr}_orderToDirection(u){return S()?u===Dr?_i:cr:u===Dr?cr:_i}static jQueryInterface(u){return this.each(function(){const p=Lr.getOrCreateInstance(this,u);if(typeof u!="number"){if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u]()}}else p.to(u)})}}z.on(document,Ju,"[data-bs-slide], [data-bs-slide-to]",function(_){const u=oe.getElementFromSelector(this);if(!u||!u.classList.contains(yi))return;_.preventDefault();const p=Lr.getOrCreateInstance(u),E=this.getAttribute("data-bs-slide-to");return E?(p.to(E),void p._maybeEnableCycle()):et.getDataAttribute(this,"slide")==="next"?(p.next(),void p._maybeEnableCycle()):(p.prev(),void p._maybeEnableCycle())}),z.on(window,Xu,()=>{const _=oe.find('[data-bs-ride="carousel"]');for(const u of _)Lr.getOrCreateInstance(u)}),T(Lr);const st=".bs.collapse",tc=`show${st}`,ys=`shown${st}`,vs=`hide${st}`,of=`hidden${st}`,af=`click${st}.data-api`,dr="show",Ei="collapse",_o="collapsing",yo=`:scope .${Ei} .${Ei}`,vo='[data-bs-toggle="collapse"]',Ha={parent:null,toggle:!0},Eo={parent:"(null|element)",toggle:"boolean"};class Zt extends tt{constructor(u,p){super(u,p),this._isTransitioning=!1,this._triggerArray=[];const E=oe.find(vo);for(const L of E){const V=oe.getSelectorFromElement(L),$=oe.find(V).filter(q=>q===this._element);V!==null&&$.length&&this._triggerArray.push(L)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ha}static get DefaultType(){return Eo}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(L=>L!==this._element).map(L=>Zt.getOrCreateInstance(L,{toggle:!1}))),u.length&&u[0]._isTransitioning||z.trigger(this._element,tc).defaultPrevented)return;for(const L of u)L.hide();const p=this._getDimension();this._element.classList.remove(Ei),this._element.classList.add(_o),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const E=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(_o),this._element.classList.add(Ei,dr),this._element.style[p]="",z.trigger(this._element,ys)},this._element,!0),this._element.style[p]=`${this._element[E]}px`}hide(){if(this._isTransitioning||!this._isShown()||z.trigger(this._element,vs).defaultPrevented)return;const u=this._getDimension();this._element.style[u]=`${this._element.getBoundingClientRect()[u]}px`,I(this._element),this._element.classList.add(_o),this._element.classList.remove(Ei,dr);for(const p of this._triggerArray){const E=oe.getElementFromSelector(p);E&&!this._isShown(E)&&this._addAriaAndCollapsedClass([p],!1)}this._isTransitioning=!0,this._element.style[u]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(_o),this._element.classList.add(Ei),z.trigger(this._element,of)},this._element,!0)}_isShown(u=this._element){return u.classList.contains(dr)}_configAfterMerge(u){return u.toggle=!!u.toggle,u.parent=h(u.parent),u}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(vo);for(const p of u){const E=oe.getElementFromSelector(p);E&&this._addAriaAndCollapsedClass([p],this._isShown(E))}}_getFirstLevelChildren(u){const p=oe.find(yo,this._config.parent);return oe.find(u,this._config.parent).filter(E=>!p.includes(E))}_addAriaAndCollapsedClass(u,p){if(u.length)for(const E of u)E.classList.toggle("collapsed",!p),E.setAttribute("aria-expanded",p)}static jQueryInterface(u){const p={};return typeof u=="string"&&/show|hide/.test(u)&&(p.toggle=!1),this.each(function(){const E=Zt.getOrCreateInstance(this,p);if(typeof u=="string"){if(E[u]===void 0)throw new TypeError(`No method named "${u}"`);E[u]()}})}}z.on(document,af,vo,function(_){(_.target.tagName==="A"||_.delegateTarget&&_.delegateTarget.tagName==="A")&&_.preventDefault();for(const u of oe.getMultipleElementsFromSelector(this))Zt.getOrCreateInstance(u,{toggle:!1}).toggle()}),T(Zt);var Tt="top",jt="bottom",Ot="right",gt="left",Es="auto",Vr=[Tt,jt,Ot,gt],Mr="start",Gn="end",qa="clippingParents",ws="viewport",Ln="popper",fr="reference",Ts=Vr.reduce(function(_,u){return _.concat([u+"-"+Mr,u+"-"+Gn])},[]),Ka=[].concat(Vr,[Es]).reduce(function(_,u){return _.concat([u,u+"-"+Mr,u+"-"+Gn])},[]),Ga="beforeRead",Qa="read",Ya="afterRead",wo="beforeMain",To="main",Xa="afterMain",Ja="beforeWrite",nc="write",rc="afterWrite",Za=[Ga,Qa,Ya,wo,To,Xa,Ja,nc,rc];function Tn(_){return _?(_.nodeName||"").toLowerCase():null}function en(_){if(_==null)return window;if(_.toString()!=="[object Window]"){var u=_.ownerDocument;return u&&u.defaultView||window}return _}function tn(_){return _ instanceof en(_).Element||_ instanceof Element}function nt(_){return _ instanceof en(_).HTMLElement||_ instanceof HTMLElement}function wi(_){return typeof ShadowRoot<"u"&&(_ instanceof en(_).ShadowRoot||_ instanceof ShadowRoot)}const Ti={name:"applyStyles",enabled:!0,phase:"write",fn:function(_){var u=_.state;Object.keys(u.elements).forEach(function(p){var E=u.styles[p]||{},L=u.attributes[p]||{},V=u.elements[p];nt(V)&&Tn(V)&&(Object.assign(V.style,E),Object.keys(L).forEach(function($){var q=L[$];q===!1?V.removeAttribute($):V.setAttribute($,q===!0?"":q)}))})},effect:function(_){var u=_.state,p={popper:{position:u.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(u.elements.popper.style,p.popper),u.styles=p,u.elements.arrow&&Object.assign(u.elements.arrow.style,p.arrow),function(){Object.keys(u.elements).forEach(function(E){var L=u.elements[E],V=u.attributes[E]||{},$=Object.keys(u.styles.hasOwnProperty(E)?u.styles[E]:p[E]).reduce(function(q,Z){return q[Z]="",q},{});nt(L)&&Tn(L)&&(Object.assign(L.style,$),Object.keys(V).forEach(function(q){L.removeAttribute(q)}))})}},requires:["computeStyles"]};function In(_){return _.split("-")[0]}var ke=Math.max,Fr=Math.min,Vn=Math.round;function Ur(){var _=navigator.userAgentData;return _!=null&&_.brands&&Array.isArray(_.brands)?_.brands.map(function(u){return u.brand+"/"+u.version}).join(" "):navigator.userAgent}function ic(){return!/^((?!chrome|android).)*safari/i.test(Ur())}function jr(_,u,p){u===void 0&&(u=!1),p===void 0&&(p=!1);var E=_.getBoundingClientRect(),L=1,V=1;u&&nt(_)&&(L=_.offsetWidth>0&&Vn(E.width)/_.offsetWidth||1,V=_.offsetHeight>0&&Vn(E.height)/_.offsetHeight||1);var $=(tn(_)?en(_):window).visualViewport,q=!ic()&&p,Z=(E.left+(q&&$?$.offsetLeft:0))/L,te=(E.top+(q&&$?$.offsetTop:0))/V,ie=E.width/L,ee=E.height/V;return{width:ie,height:ee,top:te,right:Z+ie,bottom:te+ee,left:Z,x:Z,y:te}}function el(_){var u=jr(_),p=_.offsetWidth,E=_.offsetHeight;return Math.abs(u.width-p)<=1&&(p=u.width),Math.abs(u.height-E)<=1&&(E=u.height),{x:_.offsetLeft,y:_.offsetTop,width:p,height:E}}function sc(_,u){var p=u.getRootNode&&u.getRootNode();if(_.contains(u))return!0;if(p&&wi(p)){var E=u;do{if(E&&_.isSameNode(E))return!0;E=E.parentNode||E.host}while(E)}return!1}function Qn(_){return en(_).getComputedStyle(_)}function lf(_){return["table","td","th"].indexOf(Tn(_))>=0}function hn(_){return((tn(_)?_.ownerDocument:_.document)||window.document).documentElement}function Sn(_){return Tn(_)==="html"?_:_.assignedSlot||_.parentNode||(wi(_)?_.host:null)||hn(_)}function tl(_){return nt(_)&&Qn(_).position!=="fixed"?_.offsetParent:null}function Ii(_){for(var u=en(_),p=tl(_);p&&lf(p)&&Qn(p).position==="static";)p=tl(p);return p&&(Tn(p)==="html"||Tn(p)==="body"&&Qn(p).position==="static")?u:p||function(E){var L=/firefox/i.test(Ur());if(/Trident/i.test(Ur())&&nt(E)&&Qn(E).position==="fixed")return null;var V=Sn(E);for(wi(V)&&(V=V.host);nt(V)&&["html","body"].indexOf(Tn(V))<0;){var $=Qn(V);if($.transform!=="none"||$.perspective!=="none"||$.contain==="paint"||["transform","perspective"].indexOf($.willChange)!==-1||L&&$.willChange==="filter"||L&&$.filter&&$.filter!=="none")return V;V=V.parentNode}return null}(_)||u}function Io(_){return["top","bottom"].indexOf(_)>=0?"x":"y"}function Mn(_,u,p){return ke(_,Fr(u,p))}function oc(_){return Object.assign({},{top:0,right:0,bottom:0,left:0},_)}function ac(_,u){return u.reduce(function(p,E){return p[E]=_,p},{})}const lc={name:"arrow",enabled:!0,phase:"main",fn:function(_){var u,p=_.state,E=_.name,L=_.options,V=p.elements.arrow,$=p.modifiersData.popperOffsets,q=In(p.placement),Z=Io(q),te=[gt,Ot].indexOf(q)>=0?"height":"width";if(V&&$){var ie=function(je,Le){return oc(typeof(je=typeof je=="function"?je(Object.assign({},Le.rects,{placement:Le.placement})):je)!="number"?je:ac(je,Vr))}(L.padding,p),ee=el(V),ve=Z==="y"?Tt:gt,ue=Z==="y"?jt:Ot,pe=p.rects.reference[te]+p.rects.reference[Z]-$[Z]-p.rects.popper[te],de=$[Z]-p.rects.reference[Z],me=Ii(V),Ue=me?Z==="y"?me.clientHeight||0:me.clientWidth||0:0,ze=pe/2-de/2,Te=ie[ve],Oe=Ue-ee[te]-ie[ue],Ee=Ue/2-ee[te]/2+ze,Ae=Mn(Te,Ee,Oe),De=Z;p.modifiersData[E]=((u={})[De]=Ae,u.centerOffset=Ae-Ee,u)}},effect:function(_){var u=_.state,p=_.options.element,E=p===void 0?"[data-popper-arrow]":p;E!=null&&(typeof E!="string"||(E=u.elements.popper.querySelector(E)))&&sc(u.elements.popper,E)&&(u.elements.arrow=E)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function nn(_){return _.split("-")[1]}var uf={top:"auto",right:"auto",bottom:"auto",left:"auto"};function uc(_){var u,p=_.popper,E=_.popperRect,L=_.placement,V=_.variation,$=_.offsets,q=_.position,Z=_.gpuAcceleration,te=_.adaptive,ie=_.roundOffsets,ee=_.isFixed,ve=$.x,ue=ve===void 0?0:ve,pe=$.y,de=pe===void 0?0:pe,me=typeof ie=="function"?ie({x:ue,y:de}):{x:ue,y:de};ue=me.x,de=me.y;var Ue=$.hasOwnProperty("x"),ze=$.hasOwnProperty("y"),Te=gt,Oe=Tt,Ee=window;if(te){var Ae=Ii(p),De="clientHeight",je="clientWidth";Ae===en(p)&&Qn(Ae=hn(p)).position!=="static"&&q==="absolute"&&(De="scrollHeight",je="scrollWidth"),(L===Tt||(L===gt||L===Ot)&&V===Gn)&&(Oe=jt,de-=(ee&&Ae===Ee&&Ee.visualViewport?Ee.visualViewport.height:Ae[De])-E.height,de*=Z?1:-1),L!==gt&&(L!==Tt&&L!==jt||V!==Gn)||(Te=Ot,ue-=(ee&&Ae===Ee&&Ee.visualViewport?Ee.visualViewport.width:Ae[je])-E.width,ue*=Z?1:-1)}var Le,ot=Object.assign({position:q},te&&uf),An=ie===!0?function(Xn,sn){var Un=Xn.x,jn=Xn.y,rt=sn.devicePixelRatio||1;return{x:Vn(Un*rt)/rt||0,y:Vn(jn*rt)/rt||0}}({x:ue,y:de},en(p)):{x:ue,y:de};return ue=An.x,de=An.y,Z?Object.assign({},ot,((Le={})[Oe]=ze?"0":"",Le[Te]=Ue?"0":"",Le.transform=(Ee.devicePixelRatio||1)<=1?"translate("+ue+"px, "+de+"px)":"translate3d("+ue+"px, "+de+"px, 0)",Le)):Object.assign({},ot,((u={})[Oe]=ze?de+"px":"",u[Te]=Ue?ue+"px":"",u.transform="",u))}const Si={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(_){var u=_.state,p=_.options,E=p.gpuAcceleration,L=E===void 0||E,V=p.adaptive,$=V===void 0||V,q=p.roundOffsets,Z=q===void 0||q,te={placement:In(u.placement),variation:nn(u.placement),popper:u.elements.popper,popperRect:u.rects.popper,gpuAcceleration:L,isFixed:u.options.strategy==="fixed"};u.modifiersData.popperOffsets!=null&&(u.styles.popper=Object.assign({},u.styles.popper,uc(Object.assign({},te,{offsets:u.modifiersData.popperOffsets,position:u.options.strategy,adaptive:$,roundOffsets:Z})))),u.modifiersData.arrow!=null&&(u.styles.arrow=Object.assign({},u.styles.arrow,uc(Object.assign({},te,{offsets:u.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Z})))),u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-placement":u.placement})},data:{}};var Br={passive:!0};const So={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(_){var u=_.state,p=_.instance,E=_.options,L=E.scroll,V=L===void 0||L,$=E.resize,q=$===void 0||$,Z=en(u.elements.popper),te=[].concat(u.scrollParents.reference,u.scrollParents.popper);return V&&te.forEach(function(ie){ie.addEventListener("scroll",p.update,Br)}),q&&Z.addEventListener("resize",p.update,Br),function(){V&&te.forEach(function(ie){ie.removeEventListener("scroll",p.update,Br)}),q&&Z.removeEventListener("resize",p.update,Br)}},data:{}};var Is={left:"right",right:"left",bottom:"top",top:"bottom"};function pr(_){return _.replace(/left|right|bottom|top/g,function(u){return Is[u]})}var cc={start:"end",end:"start"};function Ao(_){return _.replace(/start|end/g,function(u){return cc[u]})}function $e(_){var u=en(_);return{scrollLeft:u.pageXOffset,scrollTop:u.pageYOffset}}function nl(_){return jr(hn(_)).left+$e(_).scrollLeft}function rl(_){var u=Qn(_),p=u.overflow,E=u.overflowX,L=u.overflowY;return/auto|scroll|overlay|hidden/.test(p+L+E)}function il(_){return["html","body","#document"].indexOf(Tn(_))>=0?_.ownerDocument.body:nt(_)&&rl(_)?_:il(Sn(_))}function Ai(_,u){var p;u===void 0&&(u=[]);var E=il(_),L=E===((p=_.ownerDocument)==null?void 0:p.body),V=en(E),$=L?[V].concat(V.visualViewport||[],rl(E)?E:[]):E,q=u.concat($);return L?q:q.concat(Ai(Sn($)))}function Co(_){return Object.assign({},_,{left:_.x,top:_.y,right:_.x+_.width,bottom:_.y+_.height})}function Ss(_,u,p){return u===ws?Co(function(E,L){var V=en(E),$=hn(E),q=V.visualViewport,Z=$.clientWidth,te=$.clientHeight,ie=0,ee=0;if(q){Z=q.width,te=q.height;var ve=ic();(ve||!ve&&L==="fixed")&&(ie=q.offsetLeft,ee=q.offsetTop)}return{width:Z,height:te,x:ie+nl(E),y:ee}}(_,p)):tn(u)?function(E,L){var V=jr(E,!1,L==="fixed");return V.top=V.top+E.clientTop,V.left=V.left+E.clientLeft,V.bottom=V.top+E.clientHeight,V.right=V.left+E.clientWidth,V.width=E.clientWidth,V.height=E.clientHeight,V.x=V.left,V.y=V.top,V}(u,p):Co(function(E){var L,V=hn(E),$=$e(E),q=(L=E.ownerDocument)==null?void 0:L.body,Z=ke(V.scrollWidth,V.clientWidth,q?q.scrollWidth:0,q?q.clientWidth:0),te=ke(V.scrollHeight,V.clientHeight,q?q.scrollHeight:0,q?q.clientHeight:0),ie=-$.scrollLeft+nl(E),ee=-$.scrollTop;return Qn(q||V).direction==="rtl"&&(ie+=ke(V.clientWidth,q?q.clientWidth:0)-Z),{width:Z,height:te,x:ie,y:ee}}(hn(_)))}function sl(_){var u,p=_.reference,E=_.element,L=_.placement,V=L?In(L):null,$=L?nn(L):null,q=p.x+p.width/2-E.width/2,Z=p.y+p.height/2-E.height/2;switch(V){case Tt:u={x:q,y:p.y-E.height};break;case jt:u={x:q,y:p.y+p.height};break;case Ot:u={x:p.x+p.width,y:Z};break;case gt:u={x:p.x-E.width,y:Z};break;default:u={x:p.x,y:p.y}}var te=V?Io(V):null;if(te!=null){var ie=te==="y"?"height":"width";switch($){case Mr:u[te]=u[te]-(p[ie]/2-E[ie]/2);break;case Gn:u[te]=u[te]+(p[ie]/2-E[ie]/2)}}return u}function Bt(_,u){u===void 0&&(u={});var p=u,E=p.placement,L=E===void 0?_.placement:E,V=p.strategy,$=V===void 0?_.strategy:V,q=p.boundary,Z=q===void 0?qa:q,te=p.rootBoundary,ie=te===void 0?ws:te,ee=p.elementContext,ve=ee===void 0?Ln:ee,ue=p.altBoundary,pe=ue!==void 0&&ue,de=p.padding,me=de===void 0?0:de,Ue=oc(typeof me!="number"?me:ac(me,Vr)),ze=ve===Ln?fr:Ln,Te=_.rects.popper,Oe=_.elements[pe?ze:ve],Ee=function(sn,Un,jn,rt){var gr=Un==="clippingParents"?function(Be){var on=Ai(Sn(Be)),Bn=["absolute","fixed"].indexOf(Qn(Be).position)>=0&&nt(Be)?Ii(Be):Be;return tn(Bn)?on.filter(function(bi){return tn(bi)&&sc(bi,Bn)&&Tn(bi)!=="body"}):[]}(sn):[].concat(Un),_r=[].concat(gr,[jn]),xo=_r[0],Ct=_r.reduce(function(Be,on){var Bn=Ss(sn,on,rt);return Be.top=ke(Bn.top,Be.top),Be.right=Fr(Bn.right,Be.right),Be.bottom=Fr(Bn.bottom,Be.bottom),Be.left=ke(Bn.left,Be.left),Be},Ss(sn,xo,rt));return Ct.width=Ct.right-Ct.left,Ct.height=Ct.bottom-Ct.top,Ct.x=Ct.left,Ct.y=Ct.top,Ct}(tn(Oe)?Oe:Oe.contextElement||hn(_.elements.popper),Z,ie,$),Ae=jr(_.elements.reference),De=sl({reference:Ae,element:Te,placement:L}),je=Co(Object.assign({},Te,De)),Le=ve===Ln?je:Ae,ot={top:Ee.top-Le.top+Ue.top,bottom:Le.bottom-Ee.bottom+Ue.bottom,left:Ee.left-Le.left+Ue.left,right:Le.right-Ee.right+Ue.right},An=_.modifiersData.offset;if(ve===Ln&&An){var Xn=An[L];Object.keys(ot).forEach(function(sn){var Un=[Ot,jt].indexOf(sn)>=0?1:-1,jn=[Tt,jt].indexOf(sn)>=0?"y":"x";ot[sn]+=Xn[jn]*Un})}return ot}function hc(_,u){u===void 0&&(u={});var p=u,E=p.placement,L=p.boundary,V=p.rootBoundary,$=p.padding,q=p.flipVariations,Z=p.allowedAutoPlacements,te=Z===void 0?Ka:Z,ie=nn(E),ee=ie?q?Ts:Ts.filter(function(pe){return nn(pe)===ie}):Vr,ve=ee.filter(function(pe){return te.indexOf(pe)>=0});ve.length===0&&(ve=ee);var ue=ve.reduce(function(pe,de){return pe[de]=Bt(_,{placement:de,boundary:L,rootBoundary:V,padding:$})[In(de)],pe},{});return Object.keys(ue).sort(function(pe,de){return ue[pe]-ue[de]})}const dc={name:"flip",enabled:!0,phase:"main",fn:function(_){var u=_.state,p=_.options,E=_.name;if(!u.modifiersData[E]._skip){for(var L=p.mainAxis,V=L===void 0||L,$=p.altAxis,q=$===void 0||$,Z=p.fallbackPlacements,te=p.padding,ie=p.boundary,ee=p.rootBoundary,ve=p.altBoundary,ue=p.flipVariations,pe=ue===void 0||ue,de=p.allowedAutoPlacements,me=u.options.placement,Ue=In(me),ze=Z||(Ue!==me&&pe?function(Be){if(In(Be)===Es)return[];var on=pr(Be);return[Ao(Be),on,Ao(on)]}(me):[pr(me)]),Te=[me].concat(ze).reduce(function(Be,on){return Be.concat(In(on)===Es?hc(u,{placement:on,boundary:ie,rootBoundary:ee,padding:te,flipVariations:pe,allowedAutoPlacements:de}):on)},[]),Oe=u.rects.reference,Ee=u.rects.popper,Ae=new Map,De=!0,je=Te[0],Le=0;Le<Te.length;Le++){var ot=Te[Le],An=In(ot),Xn=nn(ot)===Mr,sn=[Tt,jt].indexOf(An)>=0,Un=sn?"width":"height",jn=Bt(u,{placement:ot,boundary:ie,rootBoundary:ee,altBoundary:ve,padding:te}),rt=sn?Xn?Ot:gt:Xn?jt:Tt;Oe[Un]>Ee[Un]&&(rt=pr(rt));var gr=pr(rt),_r=[];if(V&&_r.push(jn[An]<=0),q&&_r.push(jn[rt]<=0,jn[gr]<=0),_r.every(function(Be){return Be})){je=ot,De=!1;break}Ae.set(ot,_r)}if(De)for(var xo=function(Be){var on=Te.find(function(Bn){var bi=Ae.get(Bn);if(bi)return bi.slice(0,Be).every(function(Ic){return Ic})});if(on)return je=on,"break"},Ct=pe?3:1;Ct>0&&xo(Ct)!=="break";Ct--);u.placement!==je&&(u.modifiersData[E]._skip=!0,u.placement=je,u.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ci(_,u,p){return p===void 0&&(p={x:0,y:0}),{top:_.top-u.height-p.y,right:_.right-u.width+p.x,bottom:_.bottom-u.height+p.y,left:_.left-u.width-p.x}}function ol(_){return[Tt,Ot,jt,gt].some(function(u){return _[u]>=0})}const Ro={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(_){var u=_.state,p=_.name,E=u.rects.reference,L=u.rects.popper,V=u.modifiersData.preventOverflow,$=Bt(u,{elementContext:"reference"}),q=Bt(u,{altBoundary:!0}),Z=Ci($,E),te=Ci(q,L,V),ie=ol(Z),ee=ol(te);u.modifiersData[p]={referenceClippingOffsets:Z,popperEscapeOffsets:te,isReferenceHidden:ie,hasPopperEscaped:ee},u.attributes.popper=Object.assign({},u.attributes.popper,{"data-popper-reference-hidden":ie,"data-popper-escaped":ee})}},As={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(_){var u=_.state,p=_.options,E=_.name,L=p.offset,V=L===void 0?[0,0]:L,$=Ka.reduce(function(ie,ee){return ie[ee]=function(ve,ue,pe){var de=In(ve),me=[gt,Tt].indexOf(de)>=0?-1:1,Ue=typeof pe=="function"?pe(Object.assign({},ue,{placement:ve})):pe,ze=Ue[0],Te=Ue[1];return ze=ze||0,Te=(Te||0)*me,[gt,Ot].indexOf(de)>=0?{x:Te,y:ze}:{x:ze,y:Te}}(ee,u.rects,V),ie},{}),q=$[u.placement],Z=q.x,te=q.y;u.modifiersData.popperOffsets!=null&&(u.modifiersData.popperOffsets.x+=Z,u.modifiersData.popperOffsets.y+=te),u.modifiersData[E]=$}},Po={name:"popperOffsets",enabled:!0,phase:"read",fn:function(_){var u=_.state,p=_.name;u.modifiersData[p]=sl({reference:u.rects.reference,element:u.rects.popper,placement:u.placement})},data:{}},Cs={name:"preventOverflow",enabled:!0,phase:"main",fn:function(_){var u=_.state,p=_.options,E=_.name,L=p.mainAxis,V=L===void 0||L,$=p.altAxis,q=$!==void 0&&$,Z=p.boundary,te=p.rootBoundary,ie=p.altBoundary,ee=p.padding,ve=p.tether,ue=ve===void 0||ve,pe=p.tetherOffset,de=pe===void 0?0:pe,me=Bt(u,{boundary:Z,rootBoundary:te,padding:ee,altBoundary:ie}),Ue=In(u.placement),ze=nn(u.placement),Te=!ze,Oe=Io(Ue),Ee=Oe==="x"?"y":"x",Ae=u.modifiersData.popperOffsets,De=u.rects.reference,je=u.rects.popper,Le=typeof de=="function"?de(Object.assign({},u.rects,{placement:u.placement})):de,ot=typeof Le=="number"?{mainAxis:Le,altAxis:Le}:Object.assign({mainAxis:0,altAxis:0},Le),An=u.modifiersData.offset?u.modifiersData.offset[u.placement]:null,Xn={x:0,y:0};if(Ae){if(V){var sn,Un=Oe==="y"?Tt:gt,jn=Oe==="y"?jt:Ot,rt=Oe==="y"?"height":"width",gr=Ae[Oe],_r=gr+me[Un],xo=gr-me[jn],Ct=ue?-je[rt]/2:0,Be=ze===Mr?De[rt]:je[rt],on=ze===Mr?-je[rt]:-De[rt],Bn=u.elements.arrow,bi=ue&&Bn?el(Bn):{width:0,height:0},Ic=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},gy=Ic[Un],_y=Ic[jn],Sc=Mn(0,De[rt],bi[rt]),B1=Te?De[rt]/2-Ct-Sc-gy-ot.mainAxis:Be-Sc-gy-ot.mainAxis,$1=Te?-De[rt]/2+Ct+Sc+_y+ot.mainAxis:on+Sc+_y+ot.mainAxis,Tf=u.elements.arrow&&Ii(u.elements.arrow),z1=Tf?Oe==="y"?Tf.clientTop||0:Tf.clientLeft||0:0,yy=(sn=An==null?void 0:An[Oe])!=null?sn:0,W1=gr+$1-yy,vy=Mn(ue?Fr(_r,gr+B1-yy-z1):_r,gr,ue?ke(xo,W1):xo);Ae[Oe]=vy,Xn[Oe]=vy-gr}if(q){var Ey,H1=Oe==="x"?Tt:gt,q1=Oe==="x"?jt:Ot,Ls=Ae[Ee],Ac=Ee==="y"?"height":"width",wy=Ls+me[H1],Ty=Ls-me[q1],If=[Tt,gt].indexOf(Ue)!==-1,Iy=(Ey=An==null?void 0:An[Ee])!=null?Ey:0,Sy=If?wy:Ls-De[Ac]-je[Ac]-Iy+ot.altAxis,Ay=If?Ls+De[Ac]+je[Ac]-Iy-ot.altAxis:Ty,Cy=ue&&If?function(K1,G1,Sf){var Ry=Mn(K1,G1,Sf);return Ry>Sf?Sf:Ry}(Sy,Ls,Ay):Mn(ue?Sy:wy,Ls,ue?Ay:Ty);Ae[Ee]=Cy,Xn[Ee]=Cy-Ls}u.modifiersData[E]=Xn}},requiresIfExists:["offset"]};function cf(_,u,p){p===void 0&&(p=!1);var E,L,V=nt(u),$=nt(u)&&function(ee){var ve=ee.getBoundingClientRect(),ue=Vn(ve.width)/ee.offsetWidth||1,pe=Vn(ve.height)/ee.offsetHeight||1;return ue!==1||pe!==1}(u),q=hn(u),Z=jr(_,$,p),te={scrollLeft:0,scrollTop:0},ie={x:0,y:0};return(V||!V&&!p)&&((Tn(u)!=="body"||rl(q))&&(te=(E=u)!==en(E)&&nt(E)?{scrollLeft:(L=E).scrollLeft,scrollTop:L.scrollTop}:$e(E)),nt(u)?((ie=jr(u,!0)).x+=u.clientLeft,ie.y+=u.clientTop):q&&(ie.x=nl(q))),{x:Z.left+te.scrollLeft-ie.x,y:Z.top+te.scrollTop-ie.y,width:Z.width,height:Z.height}}function fc(_){var u=new Map,p=new Set,E=[];function L(V){p.add(V.name),[].concat(V.requires||[],V.requiresIfExists||[]).forEach(function($){if(!p.has($)){var q=u.get($);q&&L(q)}}),E.push(V)}return _.forEach(function(V){u.set(V.name,V)}),_.forEach(function(V){p.has(V.name)||L(V)}),E}var Ri={placement:"bottom",modifiers:[],strategy:"absolute"};function al(){for(var _=arguments.length,u=new Array(_),p=0;p<_;p++)u[p]=arguments[p];return!u.some(function(E){return!(E&&typeof E.getBoundingClientRect=="function")})}function Rs(_){_===void 0&&(_={});var u=_,p=u.defaultModifiers,E=p===void 0?[]:p,L=u.defaultOptions,V=L===void 0?Ri:L;return function($,q,Z){Z===void 0&&(Z=V);var te,ie,ee={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ri,V),modifiersData:{},elements:{reference:$,popper:q},attributes:{},styles:{}},ve=[],ue=!1,pe={state:ee,setOptions:function(me){var Ue=typeof me=="function"?me(ee.options):me;de(),ee.options=Object.assign({},V,ee.options,Ue),ee.scrollParents={reference:tn($)?Ai($):$.contextElement?Ai($.contextElement):[],popper:Ai(q)};var ze,Te,Oe=function(Ee){var Ae=fc(Ee);return Za.reduce(function(De,je){return De.concat(Ae.filter(function(Le){return Le.phase===je}))},[])}((ze=[].concat(E,ee.options.modifiers),Te=ze.reduce(function(Ee,Ae){var De=Ee[Ae.name];return Ee[Ae.name]=De?Object.assign({},De,Ae,{options:Object.assign({},De.options,Ae.options),data:Object.assign({},De.data,Ae.data)}):Ae,Ee},{}),Object.keys(Te).map(function(Ee){return Te[Ee]})));return ee.orderedModifiers=Oe.filter(function(Ee){return Ee.enabled}),ee.orderedModifiers.forEach(function(Ee){var Ae=Ee.name,De=Ee.options,je=De===void 0?{}:De,Le=Ee.effect;if(typeof Le=="function"){var ot=Le({state:ee,name:Ae,instance:pe,options:je});ve.push(ot||function(){})}}),pe.update()},forceUpdate:function(){if(!ue){var me=ee.elements,Ue=me.reference,ze=me.popper;if(al(Ue,ze)){ee.rects={reference:cf(Ue,Ii(ze),ee.options.strategy==="fixed"),popper:el(ze)},ee.reset=!1,ee.placement=ee.options.placement,ee.orderedModifiers.forEach(function(Le){return ee.modifiersData[Le.name]=Object.assign({},Le.data)});for(var Te=0;Te<ee.orderedModifiers.length;Te++)if(ee.reset!==!0){var Oe=ee.orderedModifiers[Te],Ee=Oe.fn,Ae=Oe.options,De=Ae===void 0?{}:Ae,je=Oe.name;typeof Ee=="function"&&(ee=Ee({state:ee,options:De,name:je,instance:pe})||ee)}else ee.reset=!1,Te=-1}}},update:(te=function(){return new Promise(function(me){pe.forceUpdate(),me(ee)})},function(){return ie||(ie=new Promise(function(me){Promise.resolve().then(function(){ie=void 0,me(te())})})),ie}),destroy:function(){de(),ue=!0}};if(!al($,q))return pe;function de(){ve.forEach(function(me){return me()}),ve=[]}return pe.setOptions(Z).then(function(me){!ue&&Z.onFirstUpdate&&Z.onFirstUpdate(me)}),pe}}var ll=Rs(),ul=Rs({defaultModifiers:[So,Po,Si,Ti]}),ko=Rs({defaultModifiers:[So,Po,Si,Ti,As,dc,Cs,lc,Ro]});const Ps=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Xa,afterRead:Ya,afterWrite:rc,applyStyles:Ti,arrow:lc,auto:Es,basePlacements:Vr,beforeMain:wo,beforeRead:Ga,beforeWrite:Ja,bottom:jt,clippingParents:qa,computeStyles:Si,createPopper:ko,createPopperBase:ll,createPopperLite:ul,detectOverflow:Bt,end:Gn,eventListeners:So,flip:dc,hide:Ro,left:gt,main:To,modifierPhases:Za,offset:As,placements:Ka,popper:Ln,popperGenerator:Rs,popperOffsets:Po,preventOverflow:Cs,read:Qa,reference:fr,right:Ot,start:Mr,top:Tt,variationPlacements:Ts,viewport:ws,write:nc},Symbol.toStringTag,{value:"Module"})),cl="dropdown",mr=".bs.dropdown",Yn=".data-api",pc="ArrowUp",hl="ArrowDown",mc=`hide${mr}`,gc=`hidden${mr}`,bo=`show${mr}`,rn=`shown${mr}`,dl=`click${mr}${Yn}`,fl=`keydown${mr}${Yn}`,Pi=`keyup${mr}${Yn}`,a="show",d='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',m=`${d}.${a}`,v=".dropdown-menu",M=S()?"top-end":"top-start",B=S()?"top-start":"top-end",J=S()?"bottom-end":"bottom-start",xe=S()?"bottom-start":"bottom-end",_t=S()?"left-start":"right-start",Re=S()?"right-start":"left-start",It={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},St={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class At extends tt{constructor(u,p){super(u,p),this._popper=null,this._parent=this._element.parentNode,this._menu=oe.next(this._element,v)[0]||oe.prev(this._element,v)[0]||oe.findOne(v,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return It}static get DefaultType(){return St}static get NAME(){return cl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(g(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!z.trigger(this._element,bo,u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))z.on(p,"mouseover",P);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(a),this._element.classList.add(a),z.trigger(this._element,rn,u)}}hide(){if(g(this._element)||!this._isShown())return;const u={relatedTarget:this._element};this._completeHide(u)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!z.trigger(this._element,mc,u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))z.off(p,"mouseover",P);this._popper&&this._popper.destroy(),this._menu.classList.remove(a),this._element.classList.remove(a),this._element.setAttribute("aria-expanded","false"),et.removeDataAttribute(this._menu,"popper"),z.trigger(this._element,gc,u)}}_getConfig(u){if(typeof(u=super._getConfig(u)).reference=="object"&&!c(u.reference)&&typeof u.reference.getBoundingClientRect!="function")throw new TypeError(`${cl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(Ps===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let u=this._element;this._config.reference==="parent"?u=this._parent:c(this._config.reference)?u=h(this._config.reference):typeof this._config.reference=="object"&&(u=this._config.reference);const p=this._getPopperConfig();this._popper=ko(u,this._menu,p)}_isShown(){return this._menu.classList.contains(a)}_getPlacement(){const u=this._parent;if(u.classList.contains("dropend"))return _t;if(u.classList.contains("dropstart"))return Re;if(u.classList.contains("dropup-center"))return"top";if(u.classList.contains("dropdown-center"))return"bottom";const p=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return u.classList.contains("dropup")?p?B:M:p?xe:J}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(p=>Number.parseInt(p,10)):typeof u=="function"?p=>u(p,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(et.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...A(this._config.popperConfig,[void 0,u])}}_selectMenuItem({key:u,target:p}){const E=oe.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(L=>f(L));E.length&&K(E,p,u===hl,!E.includes(p)).focus()}static jQueryInterface(u){return this.each(function(){const p=At.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u]()}})}static clearMenus(u){if(u.button===2||u.type==="keyup"&&u.key!=="Tab")return;const p=oe.find(m);for(const E of p){const L=At.getInstance(E);if(!L||L._config.autoClose===!1)continue;const V=u.composedPath(),$=V.includes(L._menu);if(V.includes(L._element)||L._config.autoClose==="inside"&&!$||L._config.autoClose==="outside"&&$||L._menu.contains(u.target)&&(u.type==="keyup"&&u.key==="Tab"||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const q={relatedTarget:L._element};u.type==="click"&&(q.clickEvent=u),L._completeHide(q)}}static dataApiKeydownHandler(u){const p=/input|textarea/i.test(u.target.tagName),E=u.key==="Escape",L=[pc,hl].includes(u.key);if(!L&&!E||p&&!E)return;u.preventDefault();const V=this.matches(d)?this:oe.prev(this,d)[0]||oe.next(this,d)[0]||oe.findOne(d,u.delegateTarget.parentNode),$=At.getOrCreateInstance(V);if(L)return u.stopPropagation(),$.show(),void $._selectMenuItem(u);$._isShown()&&(u.stopPropagation(),$.hide(),V.focus())}}z.on(document,fl,d,At.dataApiKeydownHandler),z.on(document,fl,v,At.dataApiKeydownHandler),z.on(document,dl,At.clearMenus),z.on(document,Pi,At.clearMenus),z.on(document,dl,d,function(_){_.preventDefault(),At.getOrCreateInstance(this).toggle()}),T(At);const dn="backdrop",ks="show",No=`mousedown.bs.${dn}`,kA={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},bA={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class B_ extends Jt{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return kA}static get DefaultType(){return bA}static get NAME(){return dn}show(u){if(!this._config.isVisible)return void A(u);this._append();const p=this._getElement();this._config.isAnimated&&I(p),p.classList.add(ks),this._emulateAnimation(()=>{A(u)})}hide(u){this._config.isVisible?(this._getElement().classList.remove(ks),this._emulateAnimation(()=>{this.dispose(),A(u)})):A(u)}dispose(){this._isAppended&&(z.off(this._element,No),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add("fade"),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=h(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),z.on(u,No,()=>{A(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){U(u,this._getElement(),this._config.isAnimated)}}const _c=".bs.focustrap",NA=`focusin${_c}`,OA=`keydown.tab${_c}`,$_="backward",xA={autofocus:!0,trapElement:null},DA={autofocus:"boolean",trapElement:"element"};class z_ extends Jt{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return xA}static get DefaultType(){return DA}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),z.off(document,_c),z.on(document,NA,u=>this._handleFocusin(u)),z.on(document,OA,u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,z.off(document,_c))}_handleFocusin(u){const{trapElement:p}=this._config;if(u.target===document||u.target===p||p.contains(u.target))return;const E=oe.focusableChildren(p);E.length===0?p.focus():this._lastTabNavDirection===$_?E[E.length-1].focus():E[0].focus()}_handleKeydown(u){u.key==="Tab"&&(this._lastTabNavDirection=u.shiftKey?$_:"forward")}}const W_=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",H_=".sticky-top",yc="padding-right",q_="margin-right";class hf{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,yc,p=>p+u),this._setElementAttributes(W_,yc,p=>p+u),this._setElementAttributes(H_,q_,p=>p-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,yc),this._resetElementAttributes(W_,yc),this._resetElementAttributes(H_,q_)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,p,E){const L=this.getWidth();this._applyManipulationCallback(u,V=>{if(V!==this._element&&window.innerWidth>V.clientWidth+L)return;this._saveInitialAttribute(V,p);const $=window.getComputedStyle(V).getPropertyValue(p);V.style.setProperty(p,`${E(Number.parseFloat($))}px`)})}_saveInitialAttribute(u,p){const E=u.style.getPropertyValue(p);E&&et.setDataAttribute(u,p,E)}_resetElementAttributes(u,p){this._applyManipulationCallback(u,E=>{const L=et.getDataAttribute(E,p);L!==null?(et.removeDataAttribute(E,p),E.style.setProperty(p,L)):E.style.removeProperty(p)})}_applyManipulationCallback(u,p){if(c(u))p(u);else for(const E of oe.find(u,this._element))p(E)}}const Fn=".bs.modal",LA=`hide${Fn}`,VA=`hidePrevented${Fn}`,K_=`hidden${Fn}`,G_=`show${Fn}`,MA=`shown${Fn}`,FA=`resize${Fn}`,UA=`click.dismiss${Fn}`,jA=`mousedown.dismiss${Fn}`,BA=`keydown.dismiss${Fn}`,$A=`click${Fn}.data-api`,Q_="modal-open",Y_="show",df="modal-static",zA={backdrop:!0,focus:!0,keyboard:!0},WA={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class bs extends tt{constructor(u,p){super(u,p),this._dialog=oe.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new hf,this._addEventListeners()}static get Default(){return zA}static get DefaultType(){return WA}static get NAME(){return"modal"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||z.trigger(this._element,G_,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Q_),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){this._isShown&&!this._isTransitioning&&(z.trigger(this._element,LA).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Y_),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){z.off(window,Fn),z.off(this._dialog,Fn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new B_({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new z_({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const p=oe.findOne(".modal-body",this._dialog);p&&(p.scrollTop=0),I(this._element),this._element.classList.add(Y_),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,z.trigger(this._element,MA,{relatedTarget:u})},this._dialog,this._isAnimated())}_addEventListeners(){z.on(this._element,BA,u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),z.on(window,FA,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),z.on(this._element,jA,u=>{z.one(this._element,UA,p=>{this._element===u.target&&this._element===p.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Q_),this._resetAdjustments(),this._scrollBar.reset(),z.trigger(this._element,K_)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(z.trigger(this._element,VA).defaultPrevented)return;const u=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;p==="hidden"||this._element.classList.contains(df)||(u||(this._element.style.overflowY="hidden"),this._element.classList.add(df),this._queueCallback(()=>{this._element.classList.remove(df),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,p=this._scrollBar.getWidth(),E=p>0;if(E&&!u){const L=S()?"paddingLeft":"paddingRight";this._element.style[L]=`${p}px`}if(!E&&u){const L=S()?"paddingRight":"paddingLeft";this._element.style[L]=`${p}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,p){return this.each(function(){const E=bs.getOrCreateInstance(this,u);if(typeof u=="string"){if(E[u]===void 0)throw new TypeError(`No method named "${u}"`);E[u](p)}})}}z.on(document,$A,'[data-bs-toggle="modal"]',function(_){const u=oe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&_.preventDefault(),z.one(u,G_,E=>{E.defaultPrevented||z.one(u,K_,()=>{f(this)&&this.focus()})});const p=oe.findOne(".modal.show");p&&bs.getInstance(p).hide(),bs.getOrCreateInstance(u).toggle(this)}),Nr(bs),T(bs);const $r=".bs.offcanvas",X_=".data-api",HA=`load${$r}${X_}`,J_="show",Z_="showing",ey="hiding",ty=".offcanvas.show",qA=`show${$r}`,KA=`shown${$r}`,GA=`hide${$r}`,ny=`hidePrevented${$r}`,ry=`hidden${$r}`,QA=`resize${$r}`,YA=`click${$r}${X_}`,XA=`keydown.dismiss${$r}`,JA={backdrop:!0,keyboard:!0,scroll:!1},ZA={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class zr extends tt{constructor(u,p){super(u,p),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return JA}static get DefaultType(){return ZA}static get NAME(){return"offcanvas"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||z.trigger(this._element,qA,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new hf().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Z_),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(J_),this._element.classList.remove(Z_),z.trigger(this._element,KA,{relatedTarget:u})},this._element,!0))}hide(){this._isShown&&(z.trigger(this._element,GA).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(ey),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(J_,ey),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new hf().reset(),z.trigger(this._element,ry)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const u=!!this._config.backdrop;return new B_({className:"offcanvas-backdrop",isVisible:u,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:u?()=>{this._config.backdrop!=="static"?this.hide():z.trigger(this._element,ny)}:null})}_initializeFocusTrap(){return new z_({trapElement:this._element})}_addEventListeners(){z.on(this._element,XA,u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():z.trigger(this._element,ny))})}static jQueryInterface(u){return this.each(function(){const p=zr.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u](this)}})}}z.on(document,YA,'[data-bs-toggle="offcanvas"]',function(_){const u=oe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),g(this))return;z.one(u,ry,()=>{f(this)&&this.focus()});const p=oe.findOne(ty);p&&p!==u&&zr.getInstance(p).hide(),zr.getOrCreateInstance(u).toggle(this)}),z.on(window,HA,()=>{for(const _ of oe.find(ty))zr.getOrCreateInstance(_).show()}),z.on(window,QA,()=>{for(const _ of oe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(_).position!=="fixed"&&zr.getOrCreateInstance(_).hide()}),Nr(zr),T(zr);const iy={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},e1=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),t1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,n1=(_,u)=>{const p=_.nodeName.toLowerCase();return u.includes(p)?!e1.has(p)||!!t1.test(_.nodeValue):u.filter(E=>E instanceof RegExp).some(E=>E.test(p))},r1={allowList:iy,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},i1={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},s1={entry:"(string|element|function|null)",selector:"(string|element)"};class o1 extends Jt{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return r1}static get DefaultType(){return i1}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[L,V]of Object.entries(this._config.content))this._setContent(u,V,L);const p=u.children[0],E=this._resolvePossibleFunction(this._config.extraClass);return E&&p.classList.add(...E.split(" ")),p}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[p,E]of Object.entries(u))super._typeCheckConfig({selector:p,entry:E},s1)}_setContent(u,p,E){const L=oe.findOne(E,u);L&&((p=this._resolvePossibleFunction(p))?c(p)?this._putElementInTemplate(h(p),L):this._config.html?L.innerHTML=this._maybeSanitize(p):L.textContent=p:L.remove())}_maybeSanitize(u){return this._config.sanitize?function(p,E,L){if(!p.length)return p;if(L&&typeof L=="function")return L(p);const V=new window.DOMParser().parseFromString(p,"text/html"),$=[].concat(...V.body.querySelectorAll("*"));for(const q of $){const Z=q.nodeName.toLowerCase();if(!Object.keys(E).includes(Z)){q.remove();continue}const te=[].concat(...q.attributes),ie=[].concat(E["*"]||[],E[Z]||[]);for(const ee of te)n1(ee,ie)||q.removeAttribute(ee.nodeName)}return V.body.innerHTML}(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return A(u,[void 0,this])}_putElementInTemplate(u,p){if(this._config.html)return p.innerHTML="",void p.append(u);p.textContent=u.textContent}}const a1=new Set(["sanitize","allowList","sanitizeFn"]),ff="fade",vc="show",l1=".tooltip-inner",sy=".modal",oy="hide.bs.modal",pl="hover",pf="focus",mf="click",u1={AUTO:"auto",TOP:"top",RIGHT:S()?"left":"right",BOTTOM:"bottom",LEFT:S()?"right":"left"},c1={allowList:iy,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},h1={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ns extends tt{constructor(u,p){if(Ps===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(u,p),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return c1}static get DefaultType(){return h1}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),z.off(this._element.closest(sy),oy,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const u=z.trigger(this._element,this.constructor.eventName("show")),p=(y(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!p)return;this._disposePopper();const E=this._getTipElement();this._element.setAttribute("aria-describedby",E.getAttribute("id"));const{container:L}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(L.append(E),z.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(E),E.classList.add(vc),"ontouchstart"in document.documentElement)for(const V of[].concat(...document.body.children))z.on(V,"mouseover",P);this._queueCallback(()=>{z.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!z.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(vc),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))z.off(u,"mouseover",P);this._activeTrigger[mf]=!1,this._activeTrigger[pf]=!1,this._activeTrigger[pl]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),z.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const p=this._getTemplateFactory(u).toHtml();if(!p)return null;p.classList.remove(ff,vc),p.classList.add(`bs-${this.constructor.NAME}-auto`);const E=(L=>{do L+=Math.floor(1e6*Math.random());while(document.getElementById(L));return L})(this.constructor.NAME).toString();return p.setAttribute("id",E),this._isAnimated()&&p.classList.add(ff),p}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new o1({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[l1]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ff)}_isShown(){return this.tip&&this.tip.classList.contains(vc)}_createPopper(u){const p=A(this._config.placement,[this,u,this._element]),E=u1[p.toUpperCase()];return ko(this._element,u,this._getPopperConfig(E))}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(p=>Number.parseInt(p,10)):typeof u=="function"?p=>u(p,this._element):u}_resolvePossibleFunction(u){return A(u,[this._element,this._element])}_getPopperConfig(u){const p={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:E=>{this._getTipElement().setAttribute("data-popper-placement",E.state.placement)}}]};return{...p,...A(this._config.popperConfig,[void 0,p])}}_setListeners(){const u=this._config.trigger.split(" ");for(const p of u)if(p==="click")z.on(this._element,this.constructor.eventName("click"),this._config.selector,E=>{const L=this._initializeOnDelegatedTarget(E);L._activeTrigger[mf]=!(L._isShown()&&L._activeTrigger[mf]),L.toggle()});else if(p!=="manual"){const E=p===pl?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),L=p===pl?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");z.on(this._element,E,this._config.selector,V=>{const $=this._initializeOnDelegatedTarget(V);$._activeTrigger[V.type==="focusin"?pf:pl]=!0,$._enter()}),z.on(this._element,L,this._config.selector,V=>{const $=this._initializeOnDelegatedTarget(V);$._activeTrigger[V.type==="focusout"?pf:pl]=$._element.contains(V.relatedTarget),$._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},z.on(this._element.closest(sy),oy,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,p){clearTimeout(this._timeout),this._timeout=setTimeout(u,p)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const p=et.getDataAttributes(this._element);for(const E of Object.keys(p))a1.has(E)&&delete p[E];return u={...p,...typeof u=="object"&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=u.container===!1?document.body:h(u.container),typeof u.delay=="number"&&(u.delay={show:u.delay,hide:u.delay}),typeof u.title=="number"&&(u.title=u.title.toString()),typeof u.content=="number"&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const[p,E]of Object.entries(this._config))this.constructor.Default[p]!==E&&(u[p]=E);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const p=Ns.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u]()}})}}T(Ns);const d1=".popover-header",f1=".popover-body",p1={...Ns.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},m1={...Ns.DefaultType,content:"(null|string|element|function)"};class Ec extends Ns{static get Default(){return p1}static get DefaultType(){return m1}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[d1]:this._getTitle(),[f1]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const p=Ec.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u]()}})}}T(Ec);const gf=".bs.scrollspy",g1=`activate${gf}`,ay=`click${gf}`,_1=`load${gf}.data-api`,Oo="active",_f="[href]",ly=".nav-link",y1=`${ly}, .nav-item > ${ly}, .list-group-item`,v1={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},E1={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ml extends tt{constructor(u,p){super(u,p),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return v1}static get DefaultType(){return E1}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=h(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,typeof u.threshold=="string"&&(u.threshold=u.threshold.split(",").map(p=>Number.parseFloat(p))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(z.off(this._config.target,ay),z.on(this._config.target,ay,_f,u=>{const p=this._observableSections.get(u.target.hash);if(p){u.preventDefault();const E=this._rootElement||window,L=p.offsetTop-this._element.offsetTop;if(E.scrollTo)return void E.scrollTo({top:L,behavior:"smooth"});E.scrollTop=L}}))}_getNewObserver(){const u={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(p=>this._observerCallback(p),u)}_observerCallback(u){const p=$=>this._targetLinks.get(`#${$.target.id}`),E=$=>{this._previousScrollData.visibleEntryTop=$.target.offsetTop,this._process(p($))},L=(this._rootElement||document.documentElement).scrollTop,V=L>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=L;for(const $ of u){if(!$.isIntersecting){this._activeTarget=null,this._clearActiveClass(p($));continue}const q=$.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(V&&q){if(E($),!L)return}else V||q||E($)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=oe.find(_f,this._config.target);for(const p of u){if(!p.hash||g(p))continue;const E=oe.findOne(decodeURI(p.hash),this._element);f(E)&&(this._targetLinks.set(decodeURI(p.hash),p),this._observableSections.set(p.hash,E))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(Oo),this._activateParents(u),z.trigger(this._element,g1,{relatedTarget:u}))}_activateParents(u){if(u.classList.contains("dropdown-item"))oe.findOne(".dropdown-toggle",u.closest(".dropdown")).classList.add(Oo);else for(const p of oe.parents(u,".nav, .list-group"))for(const E of oe.prev(p,y1))E.classList.add(Oo)}_clearActiveClass(u){u.classList.remove(Oo);const p=oe.find(`${_f}.${Oo}`,u);for(const E of p)E.classList.remove(Oo)}static jQueryInterface(u){return this.each(function(){const p=ml.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u]()}})}}z.on(window,_1,()=>{for(const _ of oe.find('[data-bs-spy="scroll"]'))ml.getOrCreateInstance(_)}),T(ml);const Os=".bs.tab",w1=`hide${Os}`,T1=`hidden${Os}`,I1=`show${Os}`,S1=`shown${Os}`,A1=`click${Os}`,C1=`keydown${Os}`,R1=`load${Os}`,P1="ArrowLeft",uy="ArrowRight",k1="ArrowUp",cy="ArrowDown",yf="Home",hy="End",xs="active",dy="fade",vf="show",fy=".dropdown-toggle",Ef=`:not(${fy})`,py='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',wf=`.nav-link${Ef}, .list-group-item${Ef}, [role="tab"]${Ef}, ${py}`,b1=`.${xs}[data-bs-toggle="tab"], .${xs}[data-bs-toggle="pill"], .${xs}[data-bs-toggle="list"]`;class Ds extends tt{constructor(u){super(u),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),z.on(this._element,C1,p=>this._keydown(p)))}static get NAME(){return"tab"}show(){const u=this._element;if(this._elemIsActive(u))return;const p=this._getActiveElem(),E=p?z.trigger(p,w1,{relatedTarget:u}):null;z.trigger(u,I1,{relatedTarget:p}).defaultPrevented||E&&E.defaultPrevented||(this._deactivate(p,u),this._activate(u,p))}_activate(u,p){u&&(u.classList.add(xs),this._activate(oe.getElementFromSelector(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),z.trigger(u,S1,{relatedTarget:p})):u.classList.add(vf)},u,u.classList.contains(dy)))}_deactivate(u,p){u&&(u.classList.remove(xs),u.blur(),this._deactivate(oe.getElementFromSelector(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),z.trigger(u,T1,{relatedTarget:p})):u.classList.remove(vf)},u,u.classList.contains(dy)))}_keydown(u){if(![P1,uy,k1,cy,yf,hy].includes(u.key))return;u.stopPropagation(),u.preventDefault();const p=this._getChildren().filter(L=>!g(L));let E;if([yf,hy].includes(u.key))E=p[u.key===yf?0:p.length-1];else{const L=[uy,cy].includes(u.key);E=K(p,u.target,L,!0)}E&&(E.focus({preventScroll:!0}),Ds.getOrCreateInstance(E).show())}_getChildren(){return oe.find(wf,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,p){this._setAttributeIfNotExists(u,"role","tablist");for(const E of p)this._setInitialAttributesOnChild(E)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const p=this._elemIsActive(u),E=this._getOuterElement(u);u.setAttribute("aria-selected",p),E!==u&&this._setAttributeIfNotExists(E,"role","presentation"),p||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const p=oe.getElementFromSelector(u);p&&(this._setAttributeIfNotExists(p,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(p,"aria-labelledby",`${u.id}`))}_toggleDropDown(u,p){const E=this._getOuterElement(u);if(!E.classList.contains("dropdown"))return;const L=(V,$)=>{const q=oe.findOne(V,E);q&&q.classList.toggle($,p)};L(fy,xs),L(".dropdown-menu",vf),E.setAttribute("aria-expanded",p)}_setAttributeIfNotExists(u,p,E){u.hasAttribute(p)||u.setAttribute(p,E)}_elemIsActive(u){return u.classList.contains(xs)}_getInnerElement(u){return u.matches(wf)?u:oe.findOne(wf,u)}_getOuterElement(u){return u.closest(".nav-item, .list-group-item")||u}static jQueryInterface(u){return this.each(function(){const p=Ds.getOrCreateInstance(this);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u]()}})}}z.on(document,A1,py,function(_){["A","AREA"].includes(this.tagName)&&_.preventDefault(),g(this)||Ds.getOrCreateInstance(this).show()}),z.on(window,R1,()=>{for(const _ of oe.find(b1))Ds.getOrCreateInstance(_)}),T(Ds);const ki=".bs.toast",N1=`mouseover${ki}`,O1=`mouseout${ki}`,x1=`focusin${ki}`,D1=`focusout${ki}`,L1=`hide${ki}`,V1=`hidden${ki}`,M1=`show${ki}`,F1=`shown${ki}`,my="hide",wc="show",Tc="showing",U1={animation:"boolean",autohide:"boolean",delay:"number"},j1={animation:!0,autohide:!0,delay:5e3};class gl extends tt{constructor(u,p){super(u,p),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return j1}static get DefaultType(){return U1}static get NAME(){return"toast"}show(){z.trigger(this._element,M1).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(my),I(this._element),this._element.classList.add(wc,Tc),this._queueCallback(()=>{this._element.classList.remove(Tc),z.trigger(this._element,F1),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(z.trigger(this._element,L1).defaultPrevented||(this._element.classList.add(Tc),this._queueCallback(()=>{this._element.classList.add(my),this._element.classList.remove(Tc,wc),z.trigger(this._element,V1)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(wc),super.dispose()}isShown(){return this._element.classList.contains(wc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,p){switch(u.type){case"mouseover":case"mouseout":this._hasMouseInteraction=p;break;case"focusin":case"focusout":this._hasKeyboardInteraction=p}if(p)return void this._clearTimeout();const E=u.relatedTarget;this._element===E||this._element.contains(E)||this._maybeScheduleHide()}_setListeners(){z.on(this._element,N1,u=>this._onInteraction(u,!0)),z.on(this._element,O1,u=>this._onInteraction(u,!1)),z.on(this._element,x1,u=>this._onInteraction(u,!0)),z.on(this._element,D1,u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const p=gl.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u](this)}})}}return Nr(gl),T(gl),{Alert:Or,Button:pi,Carousel:Lr,Collapse:Zt,Dropdown:At,Modal:bs,Offcanvas:zr,Popover:Ec,ScrollSpy:ml,Tab:Ds,Toast:gl,Tooltip:Ns}})})(dM);OT(document.getElementById("root")).render(x.createElement(hM,null));
